,Sentences,Similarity
0,Enable etcd with security setting Add etcd client/server certificate generation process in ansible playbook and restart etcd after etcd security config enabled Test status 1) Deployment test on both simplex and duplex - PASS check the communication status between apiserver and etcd by kubectl command check the etcd status and configuration on controllers 2) Switch active controller - PASS After switching_ check the communication status between apiserver and etcd by kubectl command check the etcd status and configuration on controllers 3) Lock/unlock of a simplex controller - PASS 4) Backup/Restore test on simplex - PASS 5) Spontaneous reboot of a simplex controller - PASS 6) Enable secured etcd on simplex by script after deploy unsecured etcd - PASS 7) Backup test on Duplex - PASS 8) Restore test on Duplex - PASS 9) Re-installing a controller host on a duplex setup and then swacting to it - PASS Partial-Bug: 1894870 Depends-on: https://reviewopendevorg/#/c/760508/ Change-Id: I88691b84c9acc2e27f0b783d7454a873d3490072 Signed-off-by: Zhipeng Liu <zhipengsliu@intelcom>,0.12045139074325562
1,"Add new Debian security mirror suite pattern Starting with Debian 11 (bullseye)_ security packages are in bullseye-security as opposed to older releases like buster/updates List the last several stable releases in hopes nobody is trying to use this role to configure platforms older than Debian 8 (jessie_ the current ""oldoldstable"") A followup change demonstrates this works in the test-base-roles job_ but because the job matrices have to be updated in one fell swoop_ and many of those jobs won't work without this change already merged (due to protected use in our base job)_ it's not tested directly within this change Change-Id: Ib07269382ce379afc13f1702709a548ad829e663",0.5813321471214294
2,Fix rule replacement in security policy Change-Id: I65918a003833dea45897d360ab7c3ce60616ec4c,0.2885616719722748
3,OvS: Add pod security context to pods This PS adds the pod security context snippet to pods Change-Id: I91e89d7798f6e850e47901551c5dc7cf9d80c97f Signed-off-by: Pete Birley <pete@portdirect>,0.2237505167722702
4,Horizon: update east-west network security policy This patch set updates the ingress network security policy for the Horizon service Change-Id: I0a580b5e4e14678f6abc14b58d8de5d3d6172c44,0.3333814740180969
5,Implement helm-toolkit snippet to Keystone pods/containers This updates the Keystone chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I334ef187a3dcaa082a5c3a7af63de4386dfbdf04,0.10064955800771713
6,Add missing security context to Mini-mirror test pods/containers This updates the mini-mirror chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I5a48b73a6a4530342bacead941128fdec7cc9c42,0.3466997742652893
7,Enable setting default rules for default security group In the current implementation_ the default security group only contains the rule that allow intercommunication between vms in a same security-group However_ customers could be confused about that their vms can't use ssh or rdp to login_ or can't provide HTTP/HTTPS service to outside since the security group is disabled to these ports by default To resolve this_ we need to allow cloud administrators to set rules of default security group Blueprint: default-rules-for-default-security-group DocImpact Change-Id: I2610b23c2bd6d2ba5ef9c4800b7e0615b47c46e6,0.17276233434677124
8,Testingrst misses a step for adding security rule Change-Id: Id748be47a85abd4da75e63964edfbd076a2c8ac0 Closes-Bug: #1513553,0.24170880019664764
9,Test security groups Install ovs kernel module from source and turn on the sec group tests Change-Id: I94149e73c5b1339f3b77acff2b74a377daa6f9e0,0.24740564823150635
10,Add OSSN-0040 security groups don't work with vip and ovs plugin Closes-Bug: #1163569 Change-Id: I4f554241fd2e18ce29a6a93ed495c8afe539e363,0.19410759210586548
11,"Add security groups dscp spec This adds the spec ""Add a 'dscp' field to security group rules to screen ingress traffic by dscp tag as well as IP address"" to the Mitaka specs directory_ to start community discussion Closes-bug #1498957 Change-Id: I2aa341fd7ba860c62fa16f00ffac3d4e8df4562d",0.24766278266906738
12,Open vSwitch-based Security Groups: OVS FirewallDriver Specification for implementing Open vSwitch-based security groups Change-Id: I6862d21e6fe967036a301e061f3d56a8ee4ed2a5,0.2144109308719635
13,Add security groups for nova As current implementation of puppet-nova can't realize nova security groups: 1 Nova security group type and provider implemented 2 Nova security rule type and provider implemented Also new openstack::nova::security class added that implements base functionality of security groups in Fuel Change-Id: I58372ccfc0e5859b6512ebf785b3df45756dc2d1 Closes-Bug: 1349819,0.21592673659324646
14,Add security to libvirtd Allow libvirt to be accessed only from management network Change-Id: Ie1ae2e3e91967179c5cf9e9bf54863369071d572 Closes-Bug: 1477543,0.16491073369979858
15,Add security to libvirtd Allow libvirt to be accessed only from management network Change-Id: Ie1ae2e3e91967179c5cf9e9bf54863369071d572 Closes-Bug: 1477543,0.16491073369979858
16,Add security to libvirtd Allow libvirt to be accessed only from management network Change-Id: Ie1ae2e3e91967179c5cf9e9bf54863369071d572 Closes-Bug: 1477543,0.16491073369979858
17,Use fanout RPC message to nofity the security group's change when a security group members or rules change_ if it just notify the l2 agents with 'security_groups_member_updated' or 'security_groups_rule_updated'_ the all related l2 agents need to get the security group details through RPC from neutron-server_ when the number of l2 agents is large_ the load of neutron-server is heavy this patch use fanout RPC message with the changed sg details to notify the l2 agents_ then l2 agents which has the related devices update the sg information in their memory_ they do not need to get the sg details through RPC Change-Id: I3eca91afe58389c447fa9c1c59e15f0e21e89111,0.261666864156723
18,Use security group id for launch instance When there are two security groups with the same name_ it would not be possible to launch instance with security group name Change-Id: I65c39eb728916010f0057440d856cd00f59763d9 Closes-bug: #1483091,0.10243815183639526
19,Wrong Link to External Site Integrity life-cycle in Security Guide A link to dm-verity under the section Node Hardening of Integrity life-cycle is incorrect The current link points to a a Google Code page The dm-verity project is now part of the Cryptsetup utility and has been moved to project Gitlab wiki This bug fix updates the dm-verity link the Integrity life-cycle to point to the wiki page in Gitlab for the Cryptsetup utility Change-Id: Ib4eec8bb73a9607ac632f35c839a47e4dcd5d4ff Closes-Bug: #1490049,0.4659082889556885
20,Add VRRP protocol to security group API Change-Id: I79381b5fcd506a6f7b6cba7d7b3c2f0038e86c0d Closes-bug: #1475717,0.25786978006362915
21,Add security testing for transport layer check The test cases check all resources related URLS in service creation response / service listing response/ service GET response are using HTTPS for transport security Both reponse boy and all HTTP headers are checked The test cases fail if HTTP is used Change-Id: I4da455b52124d8fa247de5b7931fc5f48f879512 Implements: blueprint security-testing,0.2271038293838501
22,Fix API misimplementation for security groups According to the Compute API reference [1]_ the 'description' parameter is optional when creating a security group But the current implementation returns a HTTP 400 when this parameter is not specified This patch modifies the validation check_ so that omitting 'description' or passing an empty string is OK [1]: http://developeropenstackorg/api-ref-compute-v2-exthtml#createSecGroup Change-Id: I404dd30c7dac4b8a9e01cf2ea62fa404fdcce3de Closes-Bug: #1434172,0.3265278935432434
23,If a Neutron security group rule protocol is ICMP_ port_range_max value must be an ICMP code Change-Id: Ib1e972ecb9a28f4d5c7944b5a871ec165039eeb5 Closes-Bug: 1483292,0.21663707494735718
24,Add security testing for authorization and update client These test cases cover authorization checks for service functions They check whether it is possible to create/patch/list/delete services without valid tokens or no token at all It also check whether it is possible to create/patch/list/delete services of one user using another user's valid token The supposed repsonses should be 401 errors The client's code is updated to include requestslib_kwargs=None for functions that do not implement requestslib It is possible to modify paylaods and headers with this addtion Change-Id: I01ef2b2fd22b2a21d84ed39bfbfee73e5fdc8b93 Implements: blueprint authentication,0.17081212997436523
25,Adds security tests to automate checking of common vulnerabilities This is an initial set of security tests for the poppy CDN component Change-Id: Iada937545634d2c8d4ae30c1b7798135cd4bb996,0.26315760612487793
26,"Remove namespace argument from security group initialization Neutron security groups (iptables_ ipsets) are always configured in the ""root"" namespace on compute nodes_ so the namespace argument is not required and never used Remove it from the firewall code and related call sites Noticed while doing other ipset work Change-Id: I4996e2e79da0ec9bbe7980acea60bf5ce3c825ae",0.1815950572490692
27,networking-tricircle core plugin and security group Initial implementation include option to use ML2 but it seem that it will be better to use a core plugin (more control) over the process Change-Id: Ic63e7a3d0a1b171d43aff535b65c949e9e51ff4f,0.13533726334571838
28,Discuss bridge/netfilter & OVS Hybrid driver with security groups With the dependent change the OVSHybridIptablesFirewallDriver ensures the netfilter-runs-on-bridges option is set Remove this from the manual steps_ and add an explanatory note where security-groups are being setup in the guide Change-Id: I42c6a0219d960b682bb4a39727c87151bc3ef1a8 Depends-On: If2d316eb8c422dc1e4f34b17a50b93dd72993a99,0.13737305998802185
29,Add ability to change VIP security group * Convert Edit VIP form to a workflow This is consistent with editing an instance in the Instances dashboard * Add a workflow step that allows the security group on a VIP port to be changed after creation of the VIP Closes-Bug: #1325397 Change-Id: I64631bf56427e79cf5e32a12d1925113d16ac3dc,0.09905479848384857
30,Add separate mirror for security ubuntu updates Unfreeze only security updates for FUEL release Change-Id: I9f89f8c956af1032d6c46ab705fed54468d47610,0.5424274206161499
31,networking-tricircle core plugin and security group Initial implementation include option to use ML2 but it seem that it will be better to use a core plugin (more control) over the process Change-Id: I3838d4124c45ab022e583bdcb548ecf909fd4112,0.140690878033638
32,Raise an exception when adding an already associated security group Raises exceptionSecurityGroupExistsForInstance when trying to add an already associated security group to instance Change-Id: I72543f60d2cb603d40a6d4b625a97da234ffb7a1 Closes-bug: #1423168,0.1844288408756256
33,Add rate limit iptables security group firewall The driver is based on the iptables firewall It is a beta-version for POC purpose and not yet implements log action To use it_ you need to have in the 'securitygroup' section: enable_security_group = true enable_extended_security_group = true firewall_driver = neutronagentlinuxiptables_bf_firewallIptablesBfFirewallDriver Change-Id: I8265abc96f70d2f5afabc0dcd1669cfb09c75f95 Partial-Implements: blueprint security-group-brute-force-prevention,0.153188556432724
34,Get rid of duplicated creation of security groups in test_volume_boot_pattern It turns out that a security group in test test_volume_boot_pattern is created twice The first security group is created in test itself_ the second security group is created in the method _boot_instance_from_ volume() This patch fixes it Now the security group is created once Change-Id: I99ec28a70591b346e2ea00c6e16af4e856721aa3,0.14250099658966064
35,Fixes bug with security groups rules in a dual stack network The code to add provider rules doesn't cycle through all of the DHCP agent IPs The code to add rules either correctly adds IPv4 rules or IPv6 rules depending on the order in which the DHCP agent IPs are got from the database Change-Id: I29a0a47a6bb3cbeaaa52a5477c4324c6cf1a6d3c Closes-Bug: #1455093,0.29275214672088623
36,networking-tricircle core plugin and security group Initial implementation include option to use ML2 but it seem that it will be better to use a core plugin (more control) over the process Change-Id: I3838d4124c45ab022e583bdcb548ecf909fd4112,0.140690878033638
37,Add security repo for CentOS Change-Id: Ie3c8098d6958650dd3c90ac3664937cfc6979f83 Partial-Bug: #1466080,0.4797337055206299
38,Updated the code to display security group's uuid instead of name in 'nova show' Closes-Bug: 1394462 Change-Id: I7bc73cbc6801ce44bd6b8a1e0cbff9bac5c62e04,0.2398649901151657
39,Add security group check when boot with port When create a vm with specified security group and ports_the security group is invalidBecause ports have their own security groupPerhaps users will be confused with this situationThey input security group parameter_but it doesn't work This patch add security group check in api: 1when boot only with port_it will return code 400 to show that security group is invalid and unnecessary 2when boot with both port and network_it will print a worning information in log files to point out that the security group is invalid with ports Change-Id: If956731b2b82360f69bced78b05a473f9d5b86c9 Closes-bug:#1462393,0.15059921145439148
40,Display ID column in the Security Group table This patch set is to add ID column in the security group table This is useful when there are multiple security group that has the same name Change-Id: I5d4665a5d1fe6bd0c163721275c8e3c446788eae Closes-Bug: #1429866,0.24994845688343048
41,Add tox target for bandit security checks Bandit is produced by the OpenStack security team to do static code analysis for security implementation failures It tests the code base for ~30 common security problems in Python with more to come run with: tox -e bandit Eventually we should have a check job that runs this target Change-Id: I14c34c2ec8db73179964282cc95df96bd9a600fa,0.2093677520751953
42,Update port security group_ relevant ipset member can't be updated There is only 1 member named p1 in sg1And 1 member named p2 in sg2 The sg2 can access sg1So p2 can access p1 After p1 updated to sg3_ and sg1 removed p1 from ipsets But when sg update the ipsets_ it can get the sg1 ip is none_and the logical exe set_members when exist ip in sg1_but now p1 had removed from sg1_so sg2 won't updated Change-Id: Ib301d1d08ed7df14ba56ff7e9862be5b37e17481 Closes-bug:#1458786,0.28906792402267456
43,To display protocol of the security group rules in dashboard instance overview page Change-Id: I8d3c5089602aae9b77019259fa185f9a847ca472,0.23168307542800903
44,few changes in security guide added projects for tenant information Change-Id: I77d6ec363ecaa8990295c098dd4389621f2e854c,0.3782258629798889
45,Add rate limiting security groups rules CLI extension Change-Id: Ifefee97944059a0993e547a842c675c12be18120 Implements: blueprint security-group-brute-force-prevention-cli,0.16708487272262573
46,Use left join for security group retrieve Currently server joins SecurityGroupPortBinding and SecurityGroupRule table to retrieve security group rules of a port_ so an empty security group is not returned This will cause trouble if enhanced RPC is enabled The security_groups field in the RPC response will not contain the id of the empty security group so agent will not update this security group Thus it will not take effect deleting the last rule in a security group This patch left joins SecurityGroupPortBinding and SecurityGroupRule table to ensure that empty security group can also be returned Change-Id: I9713a607a85d4bdcb9730d00cf8551d142acfb0f Closes-Bug: #1420056,0.17945224046707153
47,Add events on dropped packet by security groups firewall This patch includes: - A boolean event parameter addition to the security group entity (API/DB/Propagation to the Firewall driver) - An extension of the existing iptables firewall driver that sends events to ceilometer To use these patch with complete events you need: - To activate ceilometer to your devstack configuration file adding these lines (section [[local|localrc]]): enable_service ceilometer-acompute ceilometer-acentral ceilometer-anotification ceilometer-collector enable_service ceilometer-alarm-evaluator_ceilometer-alarm-notifier enable_service ceilometer-api - To add parameter to 'ml2_confini' file in your devstack configuration file adding these lines: [securitygroup] firewall_event_driver=neutronagentlinuxiptables_firewall_event_syslogIptablesFirewallSyslogEventDriver - Add the new events definition at the end of the 'file event_definitionsyaml' in ceilometer conf folder: - event_type: securitygroupsfirewalldrop* traits: &security_groups_firewall src_ip: fields: payloadsrc_ip dst_port_number: fields: payloaddst_port_number protocol: fields: payloadprotocol dst_ip: fields: payloaddst_ip dst_port_id: fields: payloaddst_port_id rule_type: fields: payloadrule_type time_stamp: fields: payloadtime_stamp tenant_id: fields: payloadtenant_id - Associate an instance to a security group that have the event column set to 1/true to receive the events Change-Id: I4defd2642cd70f3c2ee12f106c939a79d440c569 Status: Beta implementation for POC purpose Implements: blueprint security-groups-dropped-packets-event,0.11851546168327332
48,Create security group rules in loose loop Change-Id: I3e956b39c314b5bd236a4c1a762f01856cea2905 Closes-Bug: #1265937,0.17095884680747986
49,Allow case-insensitive neutron security groups Initially_ nova-network security groups were case-insensitive Neutron validates security-group names regardless of case_ however they would fail when the scheduler would attempt to allocate the group to the instance causing it to enter into an ERROR state Now_ with this patch neutron allocate_for_instance allowing case-insentivie groups to be matched_ which boot an instance with running state Change-Id: Ia20895f86e3df5a7c9a2ed9d84c6ce16ae3fe0a1 Closes-Bug: #1286463,0.231092631816864
50,Add callbacks for security group create/delete Add a notification listener to listen for the API notifications about created/updated/deleted objects This allows us to listen for security group and security group rule deletions and creations that don't result in a normal notification to the agents Change-Id: Icbeacf83b3cd2752a7a674e8e4aed045fcd09487,0.09138210117816925
51,Adds message security plugins This adds an optional plugin framework for message security It also provides two plugin implementations_ a dummy pass through and one for using kite This is work in progress Change-Id: Icbed9d0aee4c84bb396f58bcb7516797a97a515b Implements: blueprint trusted-messaging,0.17457672953605652
52,Reworded sentence in chapter 7 of the security guide Change-Id: I215dacdb8ee661da204fc6453a2cfaa3459f4342,0.2949415147304535
53,Ensure security group body does not always include description The description value for a security group is optional_ and doesn't need to be included if it's doesn't have a value Change-Id: Iac1e73e131ecdbf205f9a9d7b0401b52a6dc6789 Closes-Bug: 1434172,0.269584059715271
54,WIP: Port Security Extension Blueprint: ml2-ovs-portsecurity Change-Id: Ib18a6250ab7f47c430055d5903c693ee437f8ea3,0.2902524471282959
55,[DONT MERGE] Enforce single worker to create a default security group This is a hacky attempt to see whether locks spread thru all the code that may trigger default security group creation will pass the gate This is an alternative for [1] but without db migrations_ so that it may apply to stable branches where we don't allow new migrations Change-Id: I996fe9f1747a025f065329ee50d4c621a01253ce Related-Bug: #1194579,0.17867343127727509
56,Adding security groups to existing ports Security groups were added to port request body only during creating port When both port id and security groups were provided in request for launching instance_ security groups were not updated in port In this change_ security groups are updated even in existing ports Change-Id: I660a989f7539109e5c3ea33dc835edc6c7980cd9 Closes-Bug: #1425294,0.17630764842033386
57,Use 409 instead of 400 when security group or rule existed When create/update security group and create security group rule_ the current code returns 400_ but it should be 409 This patch fix this problem Change-Id: Ia42cc4c717cd1d73a6028f3cc3e28340d56c6f05,0.29096686840057373
58,Hyper-V: Fixes security groups issue After this patch If19be8579ca734a899cdd673c919eee8165aaa0e refactored securitygroups_rpc_ prepare_devices_filter attempts to use methods unimplemented by the HyperV security groups driver For this reason_ binding ports fails with NotImplementedError if security groups are enabled Until the HyperV security groups driver reaches parity_ the use_enhanced_rpc property should be set to False on the HyperVSecurityAgent_ falling back to the old behaviour Change-Id: I8c28a67df4c1e94d2d944c7f19614164c79a49a4 Closes-Bug: #1415523,0.2735976576805115
59,Add Security Boot Mode into Management Interface This spec proposes adding security boot mode into Management Interface to set next boot with secure boot for deployment of Bare Metal depends on nodes capabilities: With Intel TXT hardware support and enable_ nodes can go to trust boot[1] With UEFI secure boot enable_ nodes can go to secure boot[2] [1]https://reviewopenstackorg/#/c/133902 [2]https://reviewopenstackorg/#/c/135845 Change-Id: Iae04573c0ba762c430ca3255af6f79cba22771eb,0.17179188132286072
60,HP3PAR Remove support for user security for CIFS Taking out user security for CIFS Both CIFS and NFS are now secured by IP address User security was based on 3PAR local 'fsuser' This did not make sense in an environment with multiple drivers Change-Id: I0bc7389b8be9feb7f99aabe5ec879c052b902c0b Implements: blueprint hp3par-remove-cifs-user-access,0.15668824315071106
61,This test case validates instance with no security group_ There is defect (1399525) in existing code that blocking Instance traffic after removing security group from the Instance port Change-Id: Ifadbfc65074d7b4db54104702c6ae6f88cf69d2e,0.13137593865394592
62,"description for ""default"" security group changed Changed the description of ""default"" security group from ""default"" to ""default security group"" Change-Id: I1ff06c5098973833d222c5577e1cbb138402886e Closes-Bug:1291570",0.332276314496994
63,"Unlcear message deleting default security group Trying to delete default security group from a non-admin user gives an error ""Conflict (HTTP 409) (Request-ID: req-152c2ec3-1f32-406f-9eeb-bb8ea48a4d11)"" but no messgae is displayed to the user This is confusing as the user does not get to know why is he not allowed to remove the defaulty security group So updated the code to give a more optimal message to the user Closes-Bug: #1403747 Change-Id: I26f7421a81c109fb3f708962e4ca7b54c7ea4c3c",0.1992131918668747
64,Grafana security headers Enabling the security headers cookie_samesite x_content_type_options x_xss_protection Change-Id: I87eba1d56db6dbb1c2ed7392223b2124b0cf1897,0.20493662357330322
65,[DNM] Test none security driver Change-Id: Ie32240fb5a67aec78e89114dac56d50e57713bca,0.20938655734062195
66,Rename default security group Kilo changed behaviour of security group naming It's impossible now to create 'Default' group if 'default' is present This fact affects to VPC creation_ so working test for VPC is added too Change-Id: Iab6090c41d23a3133f6cd95ff9be5f660096e66a,0.1996230036020279
67,Fix error raising in security groups method In case there were security groups not belonging to tenant on port _get_security_groups_on_port would try to raise exception but fail trying to index set This patch removes use of index and introduces new exception which provides better explanation of situation which occurred Continuing the work of https://reviewopenstackorg/#/c/124070/ Change-Id: Ia3e12464e390266e639a46c06595f6c4f8be5158 Closes-Bug: #1373816,0.29751884937286377
68,add conntrack-tool to manage security group this patch introduce conntrack-tool to manage security group when a security group rule is deleted_ it should use conntrack-tool to delete the invalid ip connectivity Change-Id: I83ded140b37a4d276ab64911d73d4224b598c33b Partially-Implements: bp conntrack-in-security-group,0.25085049867630005
69,setup all projects acls listed on openstack site: http://ciopenstackorg/gerrithtml setup with include gerrit::security_ manages groups_ All Projects security Change-Id: Icc489584829f3386d574b4c76ef625d8e4ff9c3e,0.11652231216430664
70,"Fixes Hyper-V agent stateful security group rules Hyper-V does not allow stateful ACLs with ""ANY"" protocol_ meaning that security group rules which allows ""ANY"" protocol must be split up into separate rules for each protocol Also_ Hyper-V does not allow stateful ICMP rules_ which means ICMP rules must be added both inbound and outbound Change-Id: I0d4a6ebc6023ea616cf92539273b8b36a6b24ae0",0.24107137322425842
71,Enable setting default rules for default security group Blueprint: default-rules-for-default-security-group Change-Id: Iafe3432d37bb0c03d8e0be04e2641c37dab9a35a,0.20005235075950623
72,Not to create default security group if neutron sg is used Change-Id: Ib38ab5490118367d39f9411f0a99c3f57bb9a92f Closes-Bug: 1337912,0.29899609088897705
73,fix choosing default security group Change-Id: Ib0107ee5181fe8e2be347b385d5ce48ab4165a2e,0.2525556683540344
74,WIP: Add a --trust-me option to security group create Create a default set of rules for the new security group that is wide open This is nova-network only until OSC gets Neutron support Change-Id: Ic543abf8c74155807fd66ccecd98cbd55900d39c,0.18215323984622955
75,Allow security group rules to be specified in both directions Currently it is only possible to create security group rules with ingress or egress direction This means that in case when a user needs to create identically configured ingress and egress rules he/she has to run the create command twice This patch extends a list of choices for security-group-rule-create direction argument with 'both' Corresponding patch for neutron: https://reviewopenstackorg/#/c/140676 Change-Id: Ifa3b09b63c9d6f01e4bb5aac9d7331e1692d69b2 Closes-Bug: #1325736,0.21070264279842377
76,WIP: Allow security group rules to be specified in both directions Change-Id: Icb3e720c15ac7ed8a657596c72cc3c08098f0931 Closes-Bug: #1325736,0.2030290961265564
77,NSX plugin security group rules summarization Summarize the security group rules before creating the rules in NSX controller This fix removes duplicate and redundant rules to yield same or smaller set of rules that enforces the same security policies on the hypervisors and reduce the NSX control cluster memory consumption Change-Id: Ib654ee400e8dd796d5660000d09c8adaf5dda16e Closes-Bug: 1376981,0.16745683550834656
78,Improve performance of security group DB query The _select_ips_for_remote_group method was joining the IP allocation_ port_ allowed address pair_ and security group tables together in a single query Additionally_ it was loading all of the port columns and using none of them This resulted in a very expensive query with no benefit This patch eliminates the unnecessary use of the port table by joining the IP allocation table directly to the security groups and allowed address pairs tables In local testing of the method_ this sped it up by an order of magnitude Closes-Bug: #1373851 Change-Id: I12899413004838d2d22b691f1e2f3b18f7ec2c27 (cherry picked from commit 04df85b6e5a098f8f55bb82f04d9769763beb487),0.21440735459327698
79,OVSvAPP solution for VLAN and security groups Change-Id: I81a05a5c906a1fee43ed59cd38a46176682ca363,0.19049756228923798
80,Add DSCP option to Security Groups This commit adds the DSCP option to the Security Groups client CLI Implements blueprint security-groups-dscp-filter-client Change-Id: Ia1da473d1d1b2f5d8f8c3b5f39cf6466ee595216,0.299908846616745
81,Action support for security group rule Security Group is a core functionalies in the openstack The model is widly used and get famillier with many users Basically_ the security group will only supports ALLOW action and it's limited In this bp_ we are going to support more ACTIONS including DENY_ ALLOW_CONNECTION_ QoS and APPLY_SERVICE We will Also add new attributes for rule such as priority in rule in order to support these attributes Change-Id: I01eac77d07972ec1c941d2fb8691beee0dab9c9a,0.18748672306537628
82,Implements: Added code for do_secgroup_create Previously name & description are mendatory parameters_ now it sets to Now If want to create a security group you dont require name & description as mendatory Closes-Bug: #1254722 Change-Id: I399c270663bb5c1b4706ecd7e4452e8995da21bd,0.23196670413017273
83,Adding test for security group in trove Change-Id: Ic52efc55399c4ab2fc9d8776e52763b1bd56a1fb,0.2473841905593872
84,Security groups: prevent race for default security group creation When a VM is booted via the Nova the client connection is created with an admin user This causes problems when creating the neutron port That is_ there may be a race for the creation of the default security group for the tenant The problem was introduced by commit acf44dba26ca8dca47bfb5fb2916807f9f4e2060 Change-Id: Ie0199c71231a322704f1f49995facde09c92da25 Closes-bug: #1372570 (cherry picked from commit 32ea2e349decd750e25cb00a8c907b8f73f795f3),0.2146228849887848
85,Updates default security group rules Adds new rules to the default security group in osbash cluster This will allow the users to ssh and ping the VM instance without having to modify the security groups Change-Id: If4eef488303637e90ae3397c51c533dfb1c6ba45,0.15068578720092773
86,Clean Nova security groups Change-Id: I9ea46e4ce187194f04f7acbb9fb37f3ffbb2456f,0.3250432014465332
87,Allow case-insensitive neutron security groups nova-network security groups are case-insensitive Neutron validates security-group names regardless of case_ however they would fail when the scheduler would attempt to allocate the group to the instance causing it to enter into an ERROR state This patch fixes neutrons allocate_for_instance allowing case-insentivie groups to be matched Change-Id: Id950887b5011e7df7b66c212d1b074e0e8ccb84f Closes-Bug: #1286463,0.2505984306335449
88,Break out security group logic in allocate_for_instance This patch breaks out the security group logic that converts security group names to ids in allocate_for_instance to it's own method in an attempt to shortten allocate_for_instance and make it more managable Closes-bug: #1279941 Change-Id: I06f24c646261098c3412476604f8f325458cea10,0.20345482230186462
89,"description for ""default"" security group changed Changed the description of ""default"" security group from ""default"" to ""default security group"" Change-Id: Ie81f05de427c53d777c16631cf9bddb19851e1a9 Closes-Bug:1291570",0.3078688681125641
90,Add hash to auto security group for uniqueness Node group id is unique enough to avoid duplicates Change-Id: I4ce1de63313320683b9d87e3318349da3c014d7d Closes-Bug: #1383348 (cherry picked from commit 871cc57d056472758e2fe0b09924eefcc28171a4),0.2451050579547882
91,"Implement Midonet Juno Security Group Api calls This patch is part of a series of patches converting the current midonet plugin code to the new model described in blueprint midonet-plugin-juno This patch focuses specifically on the ""security group"" handlers Change-Id: I76d3c8809aff2fc1b74de0fab6712b8495d1413b Partially-Implements: blueprint midonet-plugin-juno",0.13987070322036743
92,DO NOT MERGE Dirty hack to enable security updates Change-Id: I2640d1b6182466d2ce0d07c27c400c399705f3d7,0.44908589124679565
93,Enforce uniqueness of security group name per tenant In Bug: 1194579 a race condition is described where multiple requests to create 'default' security group may not be caught as checks are in code_ not enforced on the db model This review enforces the uniqueness of {tenant_id_ sg_name} in the SecurityGroup db model using a named UniqueConstraint I have included the migration file - please let me know if this is correct I don't think we need a test here as this case is actually already covered in test_extension_security_group Closes-Bug: 1194579 Change-Id: I9559aeed64942b828ec57611daa780ee6ef5bcb1,0.21117126941680908
94,Add Port Security Implementation in ML2 Plugin Implements: blueprint port-security-ml2 Change-Id: I14c6dff025d2e3910e7dc8fba66c65f9657ea04f,0.16320578753948212
95,Do not merge: Security Groups API Tests Enhancements Add test to create security rule -Create a security group rule with protocol attribute as integer value -Validate the security rule protocol value just for investigating the problem of Icd967f8d25a55c3e0db57af8e764bfb0a3dab6f9 Change-Id: If88a5e01b7fddf37850281d0465e822a6557a801,0.23771843314170837
96,Fix configuration of security group driver The security group driver is correctly configured by default (neutronagentlinuxiptables_firewallOVSHybridIptablesFirewallDriver) and it should be the same both in Neutron and plugin configuration files Change-Id: I78adf19aca2123748876fb7047306604fc905a34 Closes-bug: #1350875,0.25616252422332764
97,Fix security groups Security groups are now hanlded correctly for both Nova Network and Neutron while using direct provisioning engine Change-Id: I9904449e87f315f783b2b9f7c0539ff809da65b4 Closes-Bug: #1381035,0.32221630215644836
98,To display protocol of the security group rules in dashboard instance overview page Change-Id: If7cc4de803b6e8b689033dd98c4ba9903a677a91,0.22552064061164856
99,[Data_processing] auto security group Set auto_security_group field checked by default This change also sets the value for copy workflow Change-Id: I8d4317680b0b498843a82740ffac5aa63b05802a Closes-Bug: #1383600,0.1707753837108612
100,Friendly error message while creating security group Validate parameter name before going to the parser_ while creating security group Before that_ there was an error about no such parameter Now there is validation in case of: * nova secgroup-create -name Closes-Bug: #977192 Change-Id: Id10ebc7f720aa4183a6ed313388a7a006d17bc37,0.2691923677921295
101,NSX plugin security group rules summarization Summarize the security group rules before creating the rules in NSX controller This fix removes duplicate and redundant rules to yield same or smaller set of rules that enforces the same security policies on the hypervisors and reduce the NSX control cluster memory consumption Change-Id: I889a2c2fdecc5d6f57c5b2cecb9bf017d0d36a5c Closes-Bug: 1376981,0.17012709379196167
102,"no way to delete valid and invalid security rule Previously deleting correct/incorrect security group rule was throwing the error of ""AttributeError"" With this fix_ now the valid and invalid security group rules can be deleted Change-Id: Id1ef3ec663e930b726b93803b22c58f7302dcc38 closes-bug: 1163469",0.2640865445137024
103,Use lowercase section name in Neutron ML2 security group config All other security group configs in Neutron are lower-case and it should be consistent Change-Id: I683333c1e186446a69172446cca6d9b952673ed4 Closes-Bug: #1279862,0.29907095432281494
104,Fixes race condition for create default security group Boot one instance with security_group_api=nova_ it will check Nova's default security group firstly There is race condition that boot some instances at the first time for same tenant_ current logic is: 1 get default security group 2 if not get it _ create one Two threads may in step2 _ then a exceptionSecurityGroupExists is raised Note: this only occurs randomly when boot some instances for same tenant at the first time This commit always tries to create default security group firstly_ then catch the exception SecurityGroupExists Closes-Bug: #1373777 Related-Bug: #1303625 Change-Id: I4a311b3697cd7c2e4ac183886d357e057a378baa,0.22471459209918976
105,"no obvious way to delete incorrect security rule Previously deleting incorrect/invalid security group rule was throwing the error of ""AttributeError"" With this fix_ now the invalid security group rules can be deleted Change-Id: Ia6e9d2a0d23554ac9ab6ccd8a077714db9ae82a0 closes-bug: 1163469",0.25859159231185913
106,[Sahara] Using IDs for security groups instead of names Change-Id: I0e0e39783c13da05fa07bce8ac800312537dcc73 Closes-Bug: #1364659,0.22615577280521393
107,Fail if non-existent security group referenced When using AWS::EC2::SecurityGroup resources with nova-network (not Neutron)_ if a SourceSecurityGroupName was specified in a rule but the name did not correspond to an extant security group it would be silently ignored This change ensures that any such error in the template will cause creation of the security group to fail Fixes-bug: #1291091 Change-Id: I9344451c83f4184ef46d4e9906b94abda08836df,0.23981323838233948
108,There was a mismatch in case when referring to security groups between ml2 and ovs ML2 was referring to the security group directive as SECURITYGROUP whereas OVS is referring it as securitygroup Fix was to change the ML2 to refer to securitygroup This closes bug : 1248385 Change-Id: I4351ee1aba5f524427523c7419d4430db3f476ac,0.2349160760641098
109,Fix error adding security groups to instances with nexus Adding security group for running instance should not invoke the nexus plugin Current implementation does not validate for the 'new_host_id' as assumes it as host migration and fails Closes-Bug: #1365226 Change-Id: I9ab6b8438e6ee0698a8e2ae7ff7736f7c71b2370,0.22920361161231995
110,Friendly error message while creating security group Validate parameters before going to the parser_ while creating security group Before that_ there was an error about no such parameter Closes-Bug: #977192 Change-Id: I159f9c435f832b1476cda09280e4eeb0cca03e52,0.26153564453125
111,Implements: Now we can create security group without name & description Closes-Bug: #1254722 Change-Id: Ic59663157c22acb7b84773c9bb5aa4a340240bfa,0.3319808542728424
112,[WIP] Use security group id instead name for heat engine Change-Id: I19df87ae28f2c1e23b6632766f2c2db9b1f3bf5a Closes-bug: #1364659,0.2132679671049118
113,Add ipset to security group Add ipset to security group for improving the performance of the security group Change-Id: I85c24d5b8f1279bb5bb9c41d4912b29996baa33f Supports-blueprint: add-ipset-to-security,0.2186724841594696
114,javelin: add security groups support Create and check that security groups survive at upgrades - Create security groups and rules - Assign a security group after server creation - Check security groups survive after upgrade Change-Id: I7a8304782697d15f4201164695c321aa38097c17 Signed-off-by: Emilien Macchi <emilienmacchi@enovancecom>,0.16689054667949677
115,Adds a new OpenStack Security Notes OSSN-0024: Sensitive data exposure by logging in python-keystoneclient Change-Id: Iec614f07e35b4502627934c10087c4531ee708c5 Closes-Bug: 1004114,0.30137816071510315
116,Migrate security notes to new repository The security notes have been migrated to the central security-doc repository This patch cleans out the old contents to prevent accidental use of this repository for creation of new notes This is a temporary measure until we delete this repository sometime in the near future A pointer to the new repository location has been added in a README file Change-Id: I35b7b0c9c03ba8f416e58d26b9213f9e038357b2,0.5215226411819458
117,Add ipset to security group Add ipset to security group for improving the performance of the security group Change-Id: I02dad0543dd4346efb4e8bb4ee458c597d6d4550 Supports-blueprint: add-ipset-to-security,0.2116786241531372
118,"OpenStack Security Guide - Chapter 35: Grammatical and Format errors Dissolving multiple grammatical errors_ inclusive of awkward wording and improper punctuation; recharging ""SSL"" with ""SSL/TLS""; removing whitespaces Change-Id: I8b6873abba3b2c5bb886a68f9aae699cdd45a3c5 Closes-Bug: #1342912",0.336747944355011
119,"OpenStack Security Guide - Chapter 35: Grammatical and Format errors Dissolving multiple grammatical errors_ inclusive of awkward wording and improper punctuation; recharging ""SSL"" with ""SSL/TLS""; removing whitespaces Change-Id: Ib522c44ed7f0cb273a4b3bf39f50cd45e58ae0fb Closes-Bug: #1342912",0.3278312683105469
120,"OpenStack Security Guide - Chapter 35: Grammatical and Format errors Dissolving multiple grammatical errors_ inclusive of awkward wording and improper punctuation; recharging ""SSL"" with ""SSL/TLS""; removing whitespaces Change-Id: I044a87162c2d00408b86ca8758f6fe0e34db451e Closes-Bug: #1342912",0.33332180976867676
121,"OpenStack Security Guide - Chapter 35: Grammatical and Format errors Dissolving multiple grammatical errors_ inclusive of awkward wording and improper punctuation; recharging ""SSL"" with ""SSL/TLS"" Change-Id: Ia07eba1901ee71dd81492ed9548f0485d2876427 Closes-Bug: #1342912",0.3299404978752136
122,"OpenStack Security Guide - Chapter 35: Grammatical and Format errors Dissolving multiple grammatical errors_ inclusive of awkward wording and improper punctuation; recharging ""SSL"" with ""SSL/TLS""; removing whitespaces Change-Id: Ie20dc8dd4a238f158a2d05480e6571a5b2a17d7c Closes-Bug: #1342912",0.32914385199546814
123,Fix listing security group rules when there are too many We're hitting a RequestURITooLong exception Change-Id: I4ac6447281f4bceb5587c891a900379a073d93bf Closes-Bug: 1271462,0.18863506615161896
124,Inherit Security group tests from BaseComputeTest This patch inherits the V2 Security Group tests from BaseComputeTest and place them in respective directories Partially implements blueprint nova-api-test-inheritance Change-Id: I974bd5a9e480a9f59ae384ded79d6eacc83285b2,0.26098760962486267
125,Use created security group in scenario server test In the scenario server basic ops test a new security group is created However_ this security group is not used in the subsequent booted VM This patch passes the new security group at the creation of the VM Change-Id: Icd87e4af2541e8c43dfee0b9f880ba7372d9b379 Related-Bug: #1330519,0.1501239836215973
126,Added check for not use heat in security group delete Reasons: - Delete security group does not have check for use_heat Changes: - Added check for not use heat in security group delete Change-Id: Iac1dd61b090f88ae73ee46e7802bb377d134221d Closes-Bug: #1272847,0.21212369203567505
127,Allow case-insensitive security groups Allocation of security groups is case-insensitive_ so adding segroup rules should be also Change-Id: I455e85326a05f5c399796fc5b3c3bebf875a4334,0.15824995934963226
128,Add security details to keysone docs First draft of adding keystone security docs produced by nkinder Change-Id: I6f527daa222b6f54a7bf1f5cdb372909b68bff44 Co-Authored-By: Steve Martinelli <stevemar@caibmcom>,0.2527375817298889
129,Track security group provisioned by heat Reasons: - taskmanager doesn't perform any associations of security group/rules and instance Changes: - adding associations for group_ rules Change-Id: I39d5ab789e39d97bd612463863216af2a86976eb Closes-Bug: #1276228,0.1767200529575348
130,Implements: Security group record in Server Details included Name & description as a optinal arguments Now if you want to create security-group_ there is no need to add name & description as complulsory parameters Just run nova secgroup-create_ it will create group with id/UUID for nova-network & neutron Closes-Bug: #1254722 Change-Id: If9fa245ba11e0a6df727dfd10810fb97ee3124d9,0.19412446022033691
131,WIP patch for tesing security group fix This is a wip patch which tests security group fix in Nova_ with new tempest test for negative test for security group - Nova patch: https://reviewopenstackorg/#/c/83190/ - Tempest patch: https://reviewopenstackorg/#/c/62702/ Change-Id: I5a40788c92e979fb7ec7877a476c5e5f3ec1d7a9,0.36992311477661133
132,Allow case-insensitive neutron security groups nova-network security groups are case-insensitive Neutron validates security-group names regardless of case_ however they would fail when the scheduler would attempt to allocate the group to the instance causing it to enter into an ERROR state This patch fixes neutrons allocate_for_instance allowing case-insentivie groups to be matched Closes-Bug: #1286463 Change-Id: Id950887b5011e7df7b66c212d1b074e0e8ccb84f (cherry picked from commit 90393c328368efc986a7169e756b4eff0d7eb912),0.25402575731277466
133,NSX plugin: Introduce operational status for security groups This is an extension specific to the NSX plugin which introduces the 'status' attributes for security groups Asynchronous operation need this attribute to set the appropriate state for the resource according to the task completion state Like other attribute extensions_ this extension adds a new DB table with a 1:1 relationship with the security groups table Migration of this attribute to the code API in the future would be straightforward Related to blueprint nvp-async-backend-commuunication Change-Id: I5eb9e863c1b8e279c4bec70753f1fde5e4ee9339,0.1808902621269226
134,Duplicate security group name cause don't know witch sg use in instance When create a security group_ the duplicate name is allowed In create a instance_ which security group to use is designed by sg name_ this may cause the user don't know witch sg is used and it may be not the user wanted So the duplicate name of sg should be not allowed In create instance_ it's use set to filter the duplicate sg like: sg_names = list(set(sg_names)) Change-Id: I28015b28d5a46869d0ac3ea34355da888c279828 Closes-Bug: #1289195,0.16437998414039612
135,Creating same name of security group Here used same name and descrption of security group for admin and user Change-Id: Ib7375570ebcf075cce8f03fd890dbfe945a25e73,0.1918986290693283
136,"Removed unnecessary security group API call from _prepare_for_instance_ssh The current code does a double lookup for the security group ""rally_open""_ once on L129-130_ and once on L134 There is no need for the second lookup on L134_ as the creation of the new security group on L131 also returns the security group We can thus just replace L129-130 with L134 Removing this API call results in a measurable speedup in case of many users Change-Id: I4369604099bcadcbc33938f567ce53c30307369b Closes-bug: #1284902",0.14255201816558838
137,NSX: synchronous and asynchronous handlers for security groups This patch introduces asynchronous handling of security group operations in the NSX backend Asynchronous tasks are managed via celery_ which is added as a requirement Asynchronous operations can be enabled by setting to True the enable_async_tasks flag Asynchronous tasks are conceived to synchronize Neutron state with NSX state_ rather than simply applying Neutron API operations Therefore the asynchronous task_ when invoked_ will also proceed to re-create objects which were removed in the NSX backend By default operations are still handled in a synchronous fashion This patch refactors the plugin in a way that once the DB operation is completed_ the call is dispatched to a 'handler' function_ which could be either synchronous or asynchronous This patch therefore also provides a beneficial separation of the database transactions from NSX operation The patch also adds code for handling failures in NSX operations in order to guarantee that the Nuetron DB consistently represents the actual NSX state Partially implements blueprint nsx-async-backend-communication Change-Id: I7b00f26f9a462eb1dda6c7a0658e82ae5cfa0ce0,0.22840207815170288
138,"Revert ""Fix security groups wadl"" The path is valid and works locally for me Using http reference from the api-site to api-site is broken This reverts commit bd530142efecc3c11c65d0c90e75034b279871a1",0.3113396465778351
139,"Revert ""DB Mappings for NSX security groups"" This reverts commit 6e2f3ecf1e2c53a44d9be4f944e48261d9e7aa4c Conflicts: neutron/plugins/nicira/NeutronPluginpy Change-Id: I0d588898ce07dd517db5d7a7286138bf73409e1a",0.36725831031799316
140,Fixes security rules in Midonet plugin Fixes several issues with the rule chains in Midonet plugins_ including adding a rule to drop egress traffic by default_ adding security group support to a port's egress chain_ and correctly adding/deleting jump rules from port chains when changing a port's security groups Also fixes several pep8 issues Change-Id: Ib80bd22135b220b0e8113556ac7a2b2d9261c954 Closes-Bug: #1231790,0.234136700630188
141,Configure security group when using ML2 plugin Since the ML2 plugin can concurrently support different L2 agents (or other mechanisms) with different configurations_ it is recommended to set firewall_driver flag in ml2 configuration Change-Id: I970fbc545d6970dacd520865aa33cd774643263a Closes-bug: #1262678 Signed-off-by: Emilien Macchi <emilienmacchi@enovancecom>,0.11389900743961334
142,"Support Neutron security groups in scenario testing The methods NetworkScenarioTest_create_security_group() and NetworkScenarioTestcreate_loginable_secgroup_rule() use the nova client by default Added helper functions ""*_neutron"" that use the neutron (network) client Moved old implementation into ""*_nova"" for old usage Adds methods to scenario/manager to allow for generic creation of neutron secgroup and rules as existing methods only create a secgroup with login rules (incoming ping and ssh) Partial-Bug: #1277040 Change-Id: I6de4bf9f7deed215cf61c87c3ae3f4240982523e (cherry picked from commit eb69f3fc9e245e8a59845976861947c695bec314)",0.19251194596290588
143,Add 'password' field to security services Change SecurityService DB model to include password field Change security service manila API to include 'password' field into security service 'views' Change-Id: Ia9970eef8c1bc9ec3d1cf1f304834a995c09325b,0.1420230269432068
144,Add some tests for security group api Some tests for security group api of neutron: + test_create_security_group_without_name + test_create_security_group_rule_without_security_group + test_delete_non_existent_security_group_rule Change-Id: I218b2faa338c3fc142b1cf5e5eae801d1eb0e25b,0.22568225860595703
145,"Adding security rules for ingress/egress doesn't work properly Avoiding setting the direction as ""ingress"" when selected from the combo If there it is a value for the direction in the local_settingspy it is used The actual behavior is that always is setting direction as ""ingress"" when choosing one of the ALL* rules (ALL ICMP_ ALL TCP and ALL UDP) When this happens if you previously has crated an ALL TCP (direction: ingress) and then you add a new ALL TCP (direction: egress) it fails as they are the same rule (direction: ingress) Also_ if you add a ALL TCP (direction: egress) rule first_ it is created with direction: ingress Change-Id: I0b54c633bc0f0d45ba2a40cdc82bfa2bc880a086 Closes-Bug: #1254040",0.100937120616436
146,Simplify security group search logic This will also speed up search since encoding is moved out of the the loop Also_ getting all security groups is done only once The code to check if multiple matches are found might be dead since nova does not allow creating multiple security groups with same name Change-Id: I0185116a60b2c5214f13f6b999683bbae8708e9a,0.16432815790176392
147,Simplify security group search logic This will also speed up search since encoding is moved out of the the loop Also_ getting all security groups is done only once The code to check if multiple matches are found is dead since nova does not allow creating multiple security groups with same name Thus there is no need to write another test to check NoUniqueMatch exception Change-Id: I3091ebf87923ca2e6e97e409dc9c2d95f8854af7 Closes-Bug: #1254945,0.1661473661661148
148,Apply hybrid vif dirver based on security group api config Security group with neutron OVS is no longer working_ because hybrid driver isn't selected In this commit_ we are going to select hybrid driver based only security group api configration Closes bug: 1252620 Change-Id: Ic0bfc2e4e90bc6241f8af256ab122bc561a85b78,0.21362558007240295
149,Address security concerns in PowerVM Driver Add two methods to commonpy that will help build and sanitize commands being sent to the remote VIOS system to prevent shell injection fixes bug 1192971 Change-Id: If5ac48c5c889034c7b0ba24d977e8f4a14137a12,0.08349711447954178
150,Fixed default security group Change-Id: I27a7d7f2c2334a5a108fb42196a05f816e707d11,0.3114003837108612
151,Adds security group list to port detail screens Change-Id: I9965b02bb08c757e28387de03fbdd9e9d2952134 Closes-Bug: #1238955,0.2820599675178528
152,Support security groups with XenAPI and OVS iptables-restore and ip6tables-restore commands read their data from the standard input The neutron-rootwrap-xen-dom0 script and the netwrap plugin have been modified to pass stdin from one to the other The netwrap plugin is also modified to allow iptables/ip6tables commands Change-Id: I2b2d5589ffb14d11aef8f3d9c870fc5104433767 Closes-Bug: #1245809,0.1580531895160675
153,Enhance Neutron ports update test Test update ports security groups Change-Id: Iba96704d132b6f4461b041216817ff718b59db9e,0.34449732303619385
154,Implement Security Context for Airflow_Worker This adds the container security context to set readOnlyRootFilesystem to true Change-Id: I31e02144890f886a37ad9c4548691453ac668b1e,0.04920203238725662
155,Handling security group error when booting an instance - Handling the error and marking the instance as ERROR - Not raising the exception so that the quota gets consumed Fixes bug 1240678 Change-Id: I53c0b2eec1ef4763ecf973f2a54dda4a09064e46,0.1503583788871765
156,Fix From/To Port In Cereating Security Group Rule Security Group Rule from/to port should be honored The default policie is using the options defined in troveconf not specified by the user Fixes Bug 1235858 Change-Id: I8f43218a4185c494a3219389b08958f087648da9,0.2649793028831482
157,Horizon now sets security group checkbox values to the ID of the security group rather than the name Change-Id: I1e064e702f8c652d28799969f18383bcafc52542 Closes-Bug: #1203413,0.2280738651752472
158,It's OK to fail to delete an in-use security group Specifying 'shared' security groups in a cloudformation template is a common practice When the stack is deleted_ it shouldn't fail because that security group is still in use Change-Id: I744797a4104b810fda563b3295b36b21235bb11d Signed-off-by: Stephen Gran <stephengran@guardiancouk> Closes-Bug: #1236305,0.22926607728004456
159,Add a UUID attribute to security groups The Neutron port resource requires a security group id Allow the user to access this via GetAtt Change-Id: I587ce566312147ba06a5b4be57539ce97e793f14 Closes-Bug: #1224039,0.20962293446063995
160,Fixes Bug 1157993 Add add/remove security group actions for server Change-Id: Iffb1e7599f81832545352395e055bc58d209e039,0.3334576487541199
161,Add DSCP option to Security Groups This commit adds the DSCP option for Security Groups to the API and the database Change-Id: Ica26cf439e42ca95bf1f0ff731337f6ad4b91f5e Implements: blueprint security-groups-dscp-filter,0.31752362847328186
162,Fix Instance security group update Helper function added to convert ids to names Tests updated Change-Id: If785f119a23fcd98ec032b8deac688d5afb447b1 Fixes: bug #1207184,0.25910332798957825
163,Check whether the security group id is integer or UUID Nova and Neutron provide the security group_ respectively nova's security group id is integer_ and neutron's is UUID Fixes Bug 1217242 Change-Id: I7d9f43837860f08b9f5e841ceffa7f823807e9a4,0.2989270091056824
164,Add default security group with default rule based on config values responsible for rule content Change-Id: I825a18e39ed5492b3e97b367db038da431770be6 Fixes: bug #1176095,0.17934510111808777
165,Add default security group with default rule based on config values responsible for rule content Change-Id: I98ffa810efc093dc64cfbe3bd003204aae6ebd3b Fixes: bug #1176095,0.17146964371204376
166,Trove - Security Group Rule To/From Port options in the client The CLI command to create a Security Group Rule makes the from/to port options required fields Since only instances listening on port 3306 are supported_ this fix removes the from/to port options from the troveclient Change-Id: Ice1b776e82653e847776ee9e53ee54ef4cbdb450 Fixes: bug #1199623,0.1782563328742981
167,"Replace 404 code when security group not found Method add_rules() incorrectly interprets exception status code 409 as ""not found"" The correct status code is 404_ as it is used in the rest of this module This patch corrects the problem Change-Id: Icd5ae994ee36edc1534dba680083aaecb7a01564",0.2673470973968506
168,Avoid performing extra query for fetching port security binding Bug 1201597 Beyond achieving the goal of avoiding an extra query for retrieving the port security bindings for both networks and ports_ this patch also extends the facilities offered by the db base class in a way such that a plugin might specifies which relationships should be eagerly loaded when a db operation is performed This will allow to perform the full joined load when doing_ for instance a get_network call_ whereas it will be possible to specify which joins are needed when performing a call to the 'private' method _get_network Change-Id: I5aa773d4acda9b45e758c72c263419b6dc165931,0.163199782371521
169,Add bios for security guide authors Remove the light hearted nicknames for each author and replace with bios Leaves the book with a more polished and professional feel Change-Id: I35db87ddaad5277ca971a38f7bd1fcf96d0f12d9,0.15840303897857666
170,Basic cleanup for security guide pdf This is the result of a pass over the guide to fix some of the conversion errors and other minor page layout issues in the pdf generation from the new docbook source I also added company affiliation for the authors list Change-Id: I7ff863ebd513084fc3e2abf752164f117ac320d9 Fixes: bug #1199516,0.3138676881790161
171,Adding security group and instance information in the views - Instance view now shows its corresponding security group - Secgroup list now show their corresponding instances - Secgroup get also show its corresponding instance Fixes bug 1190410 Change-Id: I2881bc5365dcded4ad4b4467e365a84faee1243b,0.1706787347793579
172,Adds group id reference support to ingress security groups Only a CIDR is supported as a source when defining an ingress security group_ add support for referencing a security group id Change-Id: Ib803e562244aa78ec313011f73eea0749e5350a8 Fixes: bug #1193415,0.27047836780548096
173,Fix some security group tests requiering UUID with Quantum Quantum checks that non-existent ids still are valid UUID Fix Bug #1182384 Change-Id: I5cef4c91dd437ee101ae44830ee2145a0abe2603,0.22747188806533813
174,Warn when security groups are going to be ignored The 'SecurityGroups' property of the instance is not taken into account when the 'NetworkInterfaces' property is also defined Instead the security groups should be applied to the network interface resource(s) This issue has already raised a couple of invalid bugs on Launchpad Change-Id: Iee5956fcfb0568c753612ea223d444cf20a2b579,0.20177842676639557
175,Allow port-create with security groups with None Fixes bug 1161907 Change-Id: I9b0a3b229788f1d6586819ad57fa6622a1be9b63,0.22973372042179108
176,Fix applying single security group to port When applying security groups to a port using quantumclient_ if only a single security group is included the client passes its id as a string instead of a list Quantum tries to treat the string as a list_ which causes the operation to fail This fix ensures that bare strings passed in are wrapped in lists before processing Fixes bug 1161078 Change-Id: Ibe4baa5d75ae392c4c473626ae6a8b8435c002ec,0.24817463755607605
177,Update api-doc with Security Groups related API information Added Security Group and Security Group Rule Entities and related API calls to the Reddwarf API Docs Change-Id: Icda849e7d1400de96835dda5825bea118777a2dc,0.25204092264175415
178,Fix issue with consoleauth after security fix The fix for unit-tests here e02b45976fe4468ad70c886255f1af71652ce4f9 accidentally removed a parameter that was being used from the _validate_console call This adds it back Fixes bug 1156316 Change-Id: Ibe472c7fb5f656ebfa0f645feebaf13829acabc7,0.32691943645477295
179,Add support for nova quantum security group proxy This commit adds the following options: NOVA_QUANTUM_SECURITY_GROUP_PROXY which by default is set to True Fixes bug 1131333 Change-Id: I81fcc0ddd0693abf991737b91e6d3e972474f419,0.2987029254436493
180,SUPER_WORK_IN_PROGRESS Nova quantum security group proxy Implements blueprint Nova quantum security group proxy Change-Id: Ia1422520ee6d3de6265c0137aa918518eec6466f,0.3139355480670929
181,Add security management to instance Since the novaclient support add/remove security groups to/on instances_ this is implemented in horizon now A new action is added to the instance table and it trigger a model form to update security groups associated with the instance Implements blueprint add-security-group-to-instance Change-Id: I51e7b7d119e6516d3ad9108b20a1e595c56dd216,0.15078113973140717
182,Add new default roles in security group policies This adds new defaults roles in security group API policies - GET rules are made granular and default to System or project reader - add/remove sec grps policies are default to system admin or project member Also add tests to simulates the future where we drop the deprecation fall back in the policy by overriding the rules with a version where there are no deprecated rule options Operators can do the same by adding overrides in their policy files that match the default but stop the rule deprecation fallback from happening Partial implement blueprint policy-defaults-refresh Change-Id: I000c3b3977e74e992a6b45b48fcaf49983458f6b,0.27857404947280884
183,Clean up quantum security group doc Bug #1088304 Change-Id: Ic5b54710c06ae96af9f9c4ff78a4af89dbbd6e27,0.3774696886539459
184,Adds security groups in NVP Plugin Implement blueprint quantum-security-groups API Change-Id: Ic8a1ff5ec15bdffd6ce66ae19e48ff7bcf2fd460,0.2157118320465088
185,Adds extension for displaying security groups Implements blueprint deprecate-createserverext The createserverext extension creates a new endpoint for the sole purpose of displaying security groups Security groups should be displayed via an output extension instead_ and be properly namesapeced This commit adds an extension do do the above and marks the createserverext extension deprecated so it can be removed It also sets policy to allow all users to access the extension by default Tests are included to ensure that the groups are returned in both json and xml Change-Id: I26b90548d72efb5408cca93aaf6f9b7d08c56e56,0.2653283476829529
186,Fixes bug 930482- Test for security -tenanid by pass Change-Id: Ic0e8bb191140976d8f0f4e2f1c9daae9e0a9089f,0.3893471360206604
187,nova returns security groups for server now as it described in docs fix bug #1015638 Change-Id: I1402a6b9013f87d2417a8353df33129d4dc25c92,0.2520625591278076
188,Fixes lp978896 -- Session fixation security fix Rotates session tokens on logout_ and properly clears sessions to prevent data leakage Change-Id: I7c4c6fd3e1827d28fceb47b2c5b4c7e2eb4a7963,0.24836674332618713
189,Add more to/from port checking for security groups Fix bug 972491 This patch will raise an exception if a to_port or from_port is specified_ but the other is not This came up for me while running the unit tests on Fedora 16 A recent addition to novateststest_api exposed a bug in the version of python-boto included in f16 This patch just makes it more obvious what the error was See the bug for traceback details This patch also removes one of the checks in novateststest_api_ since it wasn't actually doing what was intended The '0000/0' was actually being passed in as a port Change-Id: Idf0646552cea0d86563dc0f0b59137c7966f7022,0.2711707651615143
190,Fixes bug 930482- New test for security -tenanid by pass Change-Id: I1ce54668249b8d65f80409163c4e370564a1d951,0.3700675964355469
191,Adds security group id support Implements according to Amazon EC2 SecurityGroup-related specification Change-Id: I4a9123d1acfdb186e882a5518fcd422a5b096bb2,0.27522608637809753
192,Retrieve instance ids associated with a security group Fixes bug #918830 Retrieve instance ids associated with a security group in the security_groups API extension Change-Id: I21eba342afeb41bb9c189b19af4473e5255f57e0,0.20845389366149902
193,Nova API doesn't return instance security groups Fixes Bug #909207 Added a workaround to get security group API extension bookmark links which should be fixed after security groups moves back to core Change-Id: I906cd9ba809b78c4ae8cffba2d258f618b51a8e9,0.21073979139328003
194,Add support for same tenant source-group security rules Fixes bug #860780 * Adds support for displaying source-group rules * Adds support for deleting source-group rules Change-Id: I35131f7d24361384bd2b222de10b34eb94622f48,0.2834045886993408
195,Verify security group parameters Introduced various sanity checks before adding security group rule into the database The checks have been implemented both in EC2 and openstack extension code Implemented the suggestions made in first patch by Brian Fixes bug 869979 Change-Id: I2ac28666e90e7bdeacb7b1c2676c0719cfb9e441 Change-Id: I24bd52500b7c0f4972bfc292000bae9b67bea6e5,0.2554946541786194
196,Initial draft for pyCADF security review This patch set provides a first draft of the security-analysis for the pyCADF library Change-Id: I5ac14ef182f086068875f317b318796e6d1f8ac9,0.230971559882164
197,"[TEST][DNM] Revert ""[nsx_v3] Register security group resources at startup"" This reverts commit bfa888737173cc86e9ab34be111f4c80f134b78d Reason for revert: I want to test if this broke a tempest test Change-Id: I2a3fed453dbdac9c16558960f1d6dcd5e20c2194",0.31833308935165405
198,Project ID is checked when listing security groups When a project ID is filtering the security groups listing query_ the API ensures that this project exists Depends-On: https://reviewopendevorg/#/c/753053 Change-Id: I8a921dae1be3cd9933a261315541d5db97b8c935 Related-Bug: #1896588,0.25812897086143494
199,"DNM Revert ""[Fullstack] Mark security groups test as unstable"" This reverts commit e748e01656e6d2db1510d85e4c25e21ff394c971 This is just for test what the issue really is Change-Id: Id54df64f4c23a2327660112582442db85a0edd17",0.4244539737701416
200,Add tenant_id check when listing security groups When listing security groups_ even if the 'tenant_id' does not exist_ the default security group for the tenant will be generated This patch calls keystone to verify whether the 'tenant_id' exists Closes-Bug: #1912747 Change-Id: Iffc08096ccfee5a2e6899ad652d4cc27cc8c885b,0.21719855070114136
201,"Revert ""[nsx_v3] Register security group resources at startup"" This reverts commit bfa888737173cc86e9ab34be111f4c80f134b78d Reason for revert: Test NSXv3 CI Change-Id: I490a57deb4d7063304a9aafcc658e74c45f067e1",0.3563683032989502
202,WIP: Add in security annotation This patch set begins to add in security annotation in the metadata section of the manifest for glance and cinder Depends-On: Ib0ca04e8b8527194778afb8053046797abdfdb98 Change-Id: I905cb38caf0c3bcf2d55d59f13b4efb7c61a4331 Signed-off-by: Tin Lam <tin@irrationalio>,0.37776872515678406
203,Add neutron error message when security group rule creation fails Change-Id: Ia940b6666327dd908a7c5f2fea0f3fe8d74cc6f9,0.22181150317192078
204,Security: System security option is now spectre_meltdown_low Most of the v1 mitigation is baked into the kernel and not optional The swapgs barriers are_ however_ optional They have a negative performance impact so we disable them by using the nospectre_v1 kernel bootarg This leaves the system security option spectre_meltdown_v1 too confusing_ so we rename it Partial-Bug: 1860193 Depends-On: https://reviewopendevorg/#/c/704406 Change-Id: I772b1238132bd3e2e019865e3ee08811688400ed Signed-off-by: Jim Somerville <JimSomerville@windrivercom>,0.2785578966140747
205,Test assignment of security group to the same resource twice Two negative tests has been added to test assignment of the already assigned security group to the following resources: - port - server Change-Id: Idcfcfd134ecce0207605080fb1f778c8732b9043,0.2187882363796234
206,Disassociate not assigned security group from server Try to disassociate existing security grop that is not assigned to the server from that specific server Change-Id: Id50f2330a1a8c5229a2b5802140475300b0a14a5,0.20355752110481262
207,Remove a nonexistent security group from server Change-Id: I4460ee494fe0d82423cc3e1cc828c4bb89ef1fa0,0.27092641592025757
208,Added security group rule provider class Puppet Neutron can manage Neutron security group rule Removing security group rule and unit tests - WIP Change-Id: I79c69fe5b98751791f2cd466c9561d46e1029b9f Co-Authored-By: Daniel Pawlik <danielpawlik@corpovhcom> Closes-Bug: #1671474,0.25616148114204407
209,Try to delete security group that does not exist Change-Id: Iefc7d7dc44567f2c033682b02a08eca322cee554,0.19954913854599
210,WIP: log when loading security group driver See how bad https://reviewopenstackorg/#/c/325684/ (newton) regressed the cache performance benefit of https://reviewopenstackorg/#/c/256073/ (mitaka) Change-Id: I3364bc09234ffe65f48aeee2415d109ad3f7b6ae,0.18754306435585022
211,"Revert ""Implement Security Context for Armada"" This change is not required This reverts commit 430586927c1edc6524279dc166923d791380b362 Change-Id: Id5b14c91e713c41ac670b5a26711bf9a9a8dcd49",0.37685269117355347
212,Implement Security Context for Maas Implement readOnlyRootFilesystem:true for init container Change-Id: Ie49d7b395f25ff52890f58d43979689d918f28d1,0.12651169300079346
213,Implement Security Context for Divingbell Implement container and pod level security context for the following Divingbell resources: - Divingbell server deployment Change-Id: Id3d98736094e7fe98dba0312868bd42df3bcf4ef,0.18322306871414185
214,Fix the outdated security url Change-Id: I43984ba8d02a5675f1a2bc4f6f8fe4a7b95e4fd2,0.3838907480239868
215,Haproxy: Add container security context This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I05b643a332021b985c7c8bea2bac0e3560642dda,0.13779456913471222
216,Moved security rules and keypair creation into init Launch should eventually become something more akin to `lxd launch` or `multipass launch` -- a script useful for launching abitrary instances -- rather than the proto init that it is Moving these commands into the init helps us get there Change-Id: I06db3252fd0f8304a4002336648a11e4af0b618b,0.1417289525270462
217,Return security groups by name If we query the security groups by names_ in case of severals occurences by name appear_ it will raise a TypeError Simple return all the sg by name will avoid to raise and exception and let the caller handle the result like here: https://githubcom/openstack/nova/blob/master/nova/db/sqlalchemy/apipy#L4105 Change-Id: I84107c8f956f911ecf8c4e33af4ae17c8a1c6878 Related-Bug: #1824435,0.1401546597480774
218,Designate third-party security review artifacts Architecture documentation_ digrams and revew findings from Designate security review_ conducted by HPE Change-Id: I449c033f8d3c9457c504c20cf7c89382cceda560,0.3716580271720886
219,Using neutron engine in security groups describe Nova engine works incorrect in case when describe is using in metadata Security-group-list in nova cannot be filtered by tenant_ listing all secgroups in case of big amount of groups can be slow and may have limitations in number Co-Author: tikitavi <rtikitavi@gmailcom> Change-Id: I199b0f4f4febad4c23a0d8968f7858763bcbf00c Closes-Bug: #1660888 (cherry picked from commit 6b3c283894c9ab3edbac80008ea80e1c437ff1b3),0.27649396657943726
220,Add security mirror override for debian-minimal Set the security mirror URL independently in the debian-minimal element_ since overriding this is normally a bad idea; long-running servers should use the official security repository to reduce the time to receive critical updates_ but this still needs to be overridable for situations like short-lived CI nodes where all packages are expected to come from a specific mirror for performance and consistency Change-Id: I71a025424e3073d05c2591b458aa81162b4e7008,0.6672468185424805
221,Implement east-west nw security policy for Cinder This patch adds the ingress network security policy for the Cinder service Change-Id: I29cf8bd0b6ec05862182ce31b3566ff1556a523b,0.24944543838500977
222,update api-ref: Creates an IP security (IPsec) policy update parameter transform_protocol description Change-Id: I332f4b519d1ba05ced781b248ff9fff517b99d53,0.3415325880050659
223,Add tests for bulk port functioning with security groups In order to ensure that bulk port creation results in the proper assignment of security groups_ add some testing Change-Id: Ia1bf80dd86ce4d7124a1f5af4b03e44036870ed2,0.17098423838615417
224,[DO NOT MERGE] Granular security group support \\\/// / _ _ \ (| ()() |) ----------------OOOo--()--oOOO--------------- | | | This is still work in progress_ DO NOT MERGE! | | | '---------------oooO---------------------------' ( ) Oooo \ ( ( ) \_) ) / (_/ - Add new config option default_security_groups for the trove management interfaces The security groups need to be pre-created - Add new database table `ports` to store the ports created for the database vm The ports will be deleted when the vm is deleted Change-Id: I967814d08f3e9976e1d566c81a849093b42f43c3,0.14155447483062744
225,Do not create default security group during instance create if using Neutron The DB API was unconditionally creating a 'default' security group per project when an instance is created_ but if you're using neutron the security_groups table entries are not used anyway_ so this simply avoids that security group code when using neutron Change-Id: I723a90d4122e3df531cc3624c5fa1fd2ea4a8a46 Related-Bug: #1824435,0.1808803528547287
226,Fix std kernel security vulnerability(CVE-2019-11477) Root cause: Vulnerability is the TCP_SKB_CB(skb)->tcp_gso_segs value was subject to an integer overflow in the Linux kernel when handling TCP Selective Acknowledgments (SACKs) Reference patchs: (1) https://gitkernelorg/pub/scm/linux/kernel/ git/davem/netgit/commit/ ?id=3b4929f65b0d8249f19a50245cd88ed1a2f78cff (2) https://githubcom/Netflix/security-bulletins/blob/ master/advisories/third-party/2019-001/ PATCH_net_1_4patch Details: https://nvdnistgov/vuln/detail/CVE-2019-11477 Change-Id: Ic2c0a79df6f7df4a7e1f3bad067f8663765bb58f,0.3373165726661682
227,Memcached: Add pod security context to pods This PS adds the pod security context snippet to pods Change-Id: Id23c7e02cf840e1730638870b061e056c5b7c722 Signed-off-by: Pete Birley <pete@portdirect>,0.16852086782455444
228,[WIP] Use revision_number on adding/removing security group Change-Id: I0651417d18ee54e5c8b5b7292c27159b45e9acf3 Closes-Bug: #1417975,0.31417912244796753
229,"Revert ""Implement Security Context for Neutron"" This reverts commit 7d64eea10eb4fba53273e7711f925d77dd36f6b9 Change-Id: Ic7b104feb7f76156cfe8ea65c410df469c0baaaa",0.46629565954208374
230,Manual: Regression Security https and Malformed localhostyml Updating test steps for horizon secure login and ansible-playbook command Change-Id: I15f01d29842aaf72d80afea310627889f5ad5f9d,0.3474547863006592
231,Validate security group in API layer we should validate whether security group exists in API layer to reject invalid request Change-Id: I736da9f665776c6a9af59a75e624b5739aeb269c Closes-Bug: 1805569,0.20268705487251282
232,Implement Security Context for Neutron Implement container security context for the following Neutron resources: - Neutron server deployment Change-Id: I1bbca18623dda7ff8d492f80abef886b2fb0ecc3,0.2824455499649048
233,"Revert ""Allow sharing of security groups via RBAC mechanism"" This reverts commit 5e0fc3d2da6fbc5154debcc4a98bb8b6419326f9 As show in bug [1]_ this implementation causes a huge performance regression Therefore this patch proposes reverting for now [1] https://bugslaunchpadnet/neutron/+bug/1830679 Change-Id: I2f13ecad81d7624d2720f4c526b6bb4c620fe9fe",0.3310588002204895
234,"Improve security by avoiding buffer overflows This patch adds compiler flags to improve the security of STX code Flags added: Format string vulnerabilities: CFLAGS=""-Wformat -Wformat-security"" Compiler will treat string format warnings as errors_ so at compiling level_ buffer overflow is avoided Story: 2004380 Task: 28809 Signed-off-by: Luis Botello <luisbotelloortega@intelcom> Reviewed-by: Erich Cordoba <erichcordobamalibran@intelcom> Victor Rodriguez <vmrod25@gmailcom> Sugested-by: Victor Rodriguez <vmrod25@gmailcom> Erich Cordoba <erichcordobamalibran@intelcom> Change-Id: Id6a11326cd23172c6684e0c004c3cbcae9833117",0.18892961740493774
235,Coredns: Add pod/container security context This updates k8s chart to include the podsecurity context on the pod template This also adds the container security context to set readOnlyRootFilesystem to true Change-Id: I83dea0a5f684d271e2e2bbff915d3278a53a8200,0.1888178586959839
236,neutron: Update security groups The security group can be used to give the loadbalancer access to the configured members The security group is only usable for the tenant if it is placed into the tenant project The port already exists in the tenant project and you can extract the security group id from it Also we should restrict loadbalancer-internal communication (eg VRRP) to the loadbalancer security to avoid any other traffic from influencing the failover Change-Id: I01c343466913abda9b0ac0c1cd9746430eb78dd4 Signed-off-by: Sven Wegener <svenwegener@inovexde>,0.1522832214832306
237,Add option to define the qemu security driver It is recommended to set the qemu security driver by default This change ensures that nova compute will define the security driver based on a given OS deployment unless specifically defined by the deployer in a user variable file Change-Id: I567081403e2aabe9e0747f40e5bf0976d0f949ff Closes-Bug: #1732481 Signed-off-by: Kevin Carter <kevincarter@rackspacecom>,0.19484025239944458
238,"Add command to list security groups of a server Adding command ""openstack server security group list"" to list security groups of a server Similar to command ""nova list-secgroup"" Change-Id: I3e727756fdfd26b58796815396b2b7a5a491e39b Closes-Bug: #1606221",0.22352665662765503
239,[WIP] Set client to user in security service update tests Change-Id: I8d76928100b643f4c63deddc665f3322113f63bb Signed-off-by: Douglas Viroel <viroel@gmailcom>,0.23913432657718658
240,"Release note for change 774438_ security service ""ou"" field Adds release note API v244_ added 'ou' field to security service change Change-Id: I96238676ff44727a4806bfd7fd90be63dd528aca",0.4067392647266388
241,Implement Security Context for Divingbell Implement container and pod level security context for the following Divingbell resources: - Divingbell server deployment Change-Id: Icbe94d4f62cf2d9b190802b02703186fa84092e3,0.18099211156368256
242,Kibana: Add security context for pod/container This adds a security context to the kibana chart_ which changes the pod's user from root to the nobody user instead This also adds the container security context to set allowPrivilegeEscalation to false and readOnlyRootFilesystem to true Change-Id: I3b8d0833435c6c9b9bb249de8e5ce251a54a3e96,0.10382838547229767
243,Add security context to ceph-mon chart Change-Id: I25f47c1d55a484018064927ee21afae35ebdfdb4,0.22341255843639374
244,prometheus-node-exporter: Add container security context This adds the container security context to set readOnlyRootFilesystem to true and allowPrivilegeEscalation to false Change-Id: I84455f5fbc2d5e72768571e32dbd08d1ef0b6045,0.22229322791099548
245,Libvirt: Add pod/container security context for libvirt user implemented HTK functionality for pod and container security context Change-Id: I9202cc6d839c7f30ddc412605eea402c6691c165,0.17290917038917542
246,ceph-client: Add pod/container security context This updates the ceph-client chart to include the pod security context on the pod template This also adds the container security context to set allowPrivilegeEscalation to false and readOnlyRootFilesystem to true Change-Id: Ifb9621ae8d116b424f919ff0645208937dbdebc9,0.15655186772346497
247,Openvswitch: Add pod/container security context This updates the openvswitch chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem to true Change-Id: I604d5f0e03f3900c2a38254a8007c06929da0b1a,0.1692792773246765
248,prometheus-process-exporter: Add pod/container security context This updates the prometheus-process-exporter chart to include the pod security context on the pod template This changes the pod's user from root to the nobody user instead This also adds the container security context to set allowPrivilegeEscalation to false and readOnlyRootFilesystem to true Change-Id: I59b7a48655a57cb5ee109f2ff6f9bc0dceed9174,0.20405054092407227
249,[WIP] Refactor security groups scenario test TODO: describe it Change-Id: I60724abdbe4ffe9fbfa307f147f23ed648ac41b3,0.21107397973537445
250,[DNM] NSX-V3 security group creation debugging Change-Id: I7d65c79b398f06939732d45e1b7f760515479388,0.26999035477638245
251,Implement Security Context for Divingbell Implement container and pod level security context for the following Divingbell resources: - Divingbell server deployment Change-Id: I5bd7ab9ca5fe299ce0e4eacd4f60d1784f6139e3,0.18169766664505005
252,prometheus-process-exporter: Add container security context This adds the container security context to set readOnlyRootFilesystem to true and allowPrivilegeEscalation to false Change-Id: Iff921c577f32c8e9adcebb503d19f471ccfedad1,0.2189050167798996
253,Implement Security Context for Neutron Implement container security context for the following Neutron resources: - Neutron server deployment Change-Id: I5f76e05654d5270431df9348db6f5f060f8d1009,0.2813243567943573
254,Implement Security Context for Tiller Implement a pod security context for the following Tiller resources: - Tiller deployment Change-Id: I4307ede74868a2ac23d57175f88da01c9a0f6db4,0.14325611293315887
255,Implement Security Context for Registry Implement a pod security context for the following Registry resources: - Registry server deployment - Registry proxy daemonset Change-Id: I6fab83c3d54f32a70e4e77e21feba04dd62d751c,0.13720980286598206
256,Implement Security Context for Postgresql Implement a pod security context for the following Postgresql resources: - Postgresql server stateful set - Postgresql prometheus exporter deployment Change-Id: Ide9e912323525e41ffd2051cad96bb5e6674caac,0.16224433481693268
257,Implement Security Context for RabbitMQ Implement a pod security context for the following RabbitMQ resources: - RabbitMQ server stateful set - RabbitMQ prometheus exporter deployment Change-Id: I0a24b55a39f0c26b91bbb24dd178e47d0f95cad7,0.14529404044151306
258,Implement Security Context for Heat Implement container security context for the following Heat resources: - Heat server deployment Change-Id: Ie2444f5ad6be6f8244f4dd44e9b0f660f147baf5,0.20947696268558502
259,[WIP] Falco: Add security context for pod/container This adds the security context to the falco pod This This changes the default user from root to the nobody user Change-Id: I4d3f629ff2337c4ed7c926134c69563b1b400dfc,0.09692211449146271
260,Added support for synchronization of security groups When connectivity to OpenContrail node is lost_ security groups on OpenStack and OpenContrail nodes may differ We have decided to introduce mechanism of synchronization between the latter two during Neutron service startup and on demand Change-Id: Id0f15980fc46e8fae999880ba23c7d6816eea9a4,0.254841148853302
261,Improve security group rule create performance [1] says serializing the method with lockutils improves the API performance When tried that on security group rule create_ by creating 300 security group rules asynchronously_ max time taken for the API to finish was 51 seconds[2] comapred to 390 seconds[3] taken for the API without this change Also all the 300 calls were succesful with this patch_ whereas some were failing with the existing code [1] https://reviewopenstackorg/#/c/534449/ [2] http://pasteopenstackorg/show/743043/ [3] http://pasteopenstackorg/show/743042/ Change-Id: I2045d7ff0a36a28311c09c667b2841487dd81d71,0.18872326612472534
262,[WIP] Ingress: Add security context for pod/container This adds the security context the ingress and ingress-error pods This changes the default user from root to the nobody user This also adds the container security context to explicitly set allowPrivilegeEscalation to false Change-Id: Ib1bf71db38d50a112abed7e05cd8b15b2b733de7,0.12282032519578934
263,[WIP]: Calcio: Implement pod Security Context as non-root user Implement pod Security Context for running containers as non-root user Ensure that following Calico pods are using a common security context for running containers so that they can be run as non-root user 1 daemonset-calico-etcdyaml 2 daemonset-calico-nodeyaml 3 deployment-calico-kube-controllersyaml 4 job-calico-settingsyaml Change-Id: Ibba8b86f45823756feb9afff3d9c7e655bd0deb8,0.0862341970205307
264,Make security group API reads and deletes faster 1 Previous reviews for reducing the amount of data had a high impact on the OVO implementation_ but only the SG's have this child data performance problem Let's try a lower impact method for providing both a shallow and deep OVO SG object_ via two objects 2 Use shallow object where possible 3 Use lazy sqlalchemy query for rules Change-Id: Idd638740967ff8edd44e476fe0a0bcf6f23cfd22,0.1653822660446167
265,Add support for security group RBAC Depends-On: https://reviewopenstackorg/635311 Change-Id: I5df6515d084773b66f6266ca328c451083fb4136,0.2705232501029968
266,DVS: Disable port security and security group When a port is being created on a vlan network it is required to disable port security and security groups_ since they are not supported on DVS Change-Id: Ic90f05713750fd6301ca57bf0a743be2616fbd62 Signed-off-by: Michal Kelner Mishali <mkelnermishal@vmwarecom>,0.1678714007139206
267,[DNM] [OVN] security group logging support Do not merge: as OVN driver security-group-logging is a new feature_ it will not be backported to stable braches This gerrit is mostly a placeholder_ to be soon abandoned This is a small subset of patchset 2 of 3 for OVN driver handling of security-group-logging It is mostly part of the networking-ovn repo for stable/train This implementation also changes the minimum allowed value for the 'rate_limit' attribute in neutron/conf/services/loggingpy Originally_ the 'rate_limit' had a min value of 100 and it is now 1 packet per second The default value remains unchanged_ as 100 Related-Bug: 1914757 Related-Bug: 1468366 Change-Id: I235c3ce5d99431e5c61988b3c925d4548454444e (cherry picked from commit 5b69930792cfb39143e672cda97bea077f69abc0),0.2851850986480713
268,[DNM] [OVN] security group logging support Do not merge: as OVN driver security-group-logging is a new feature_ it will not be backported to stable branches This gerrit is mostly a placeholder_ to be soon abandoned This is patchset 3 of 3 for OVN driver handling of security-group-logging It includes tests added to validate this feature Closes-Bug: 1914757 Change-Id: I0589beb4b2d8efcea863617f458019faffe359e1,0.2990650534629822
269,Refactor security group population logic In before_ we populate security groups from existing port(s) [1] but doesn't do the same for newly created port This patch makes the security group population consistent across port types As a result_ users can always retrieve the correct list of security groups from the 'security_groups' field of container [1] https://reviewopenstackorg/#/c/535645 Change-Id: I7129a1879098360077c62bcb300d85d8254da17f,0.26547759771347046
270,"Improve security defenses at compile level This patch adds compiler flags to improve the security of STX code At the same time_ these patches fix warnings and compilation issues generated by new security flags The flags added are divided in the following categories: Stack execution protection: LDFLAGS=""-z noexecstack"" Data relocation and protection (RELRO): LDLFAGS=""-z relro -z now"" Stack-based Buffer Overrun Detection: CFLAGS=”-fstack-protector-strong” if using GCC 49 or newer Fortify source: CFLAGS=""-O2 -D_FORTIFY_SOURCE=2"" Format string vulnerabilities: CFLAGS=""-Wformat -Wformat-security"" Signed-off-by: Luis Botello <luisbotelloortega@intelcom> Reviewed-by: Erich Cordoba <erichcordobamalibran@intelcom> Victor Rodriguez <vmrod25@gmailcom> Sugested-by: Victor Rodriguez <vmrod25@gmailcom> Erich Cordoba <erichcordobamalibran@intelcom> Change-Id: Iee6bcf1b085dcd073da1eaa2617c2160f644453d",0.2708190977573395
271,"Improve security defenses at compile level This patch adds compiler flags to improve the security of STX code At the same time_ these patches fix warnings and compilation issues generated by new security flags The flags added are divided in the following categories: Stack execution protection: LDFLAGS=""-z noexecstack"" Data relocation and protection (RELRO): LDLFAGS=""-z relro -z now"" Stack-based Buffer Overrun Detection: CFLAGS=”-fstack-protector-strong” if using GCC 49 or newer Fortify source: CFLAGS=""-O2 -D_FORTIFY_SOURCE=2"" Format string vulnerabilities: CFLAGS=""-Wformat -Wformat-security"" Signed-off-by: Luis Botello <luisbotelloortega@intelcom> Reviewed-by: Erich Cordoba <erichcordobamalibran@intelcom> Victor Rodriguez <vmrod25@gmailcom> Sugested-by: Victor Rodriguez <vmrod25@gmailcom> Erich Cordoba <erichcordobamalibran@intelcom> Change-Id: Iab398deb669ce0cbd3cfe7bea440775d02bf2859",0.2717480957508087
272,"Improve security defenses at compile level This patch adds compiler flags to improve the security of STX code The flags added are divided in the following categories: Stack execution protection: LDFLAGS=""-z noexecstack"" Data relocation and protection (RELRO): LDLFAGS=""-z relro -z now"" Stack-based Buffer Overrun Detection: CFLAGS=”-fstack-protector-strong” if using GCC 49 or newer Fortify source: CFLAGS=""-O2 -D_FORTIFY_SOURCE=2"" Format string vulnerabilities: CFLAGS=""-Wformat -Wformat-security"" Signed-off-by: Luis Botello <luisbotelloortega@intelcom> Reviewed-by: Erich Cordoba <erichcordobamalibran@intelcom> Victor Rodriguez <vmrod25@gmailcom> Sugested-by: Victor Rodriguez <vmrod25@gmailcom> Erich Cordoba <erichcordobamalibran@intelcom> Change-Id: I57ed49729a313f816a37eda3de63864805f1fc7e",0.26739323139190674
273,"Improve security defenses at compile level This patch adds compiler flags to improve the security of STX code The flags added are divided in the following categories: Stack execution protection: LDFLAGS=""-z noexecstack"" Data relocation and protection (RELRO): LDLFAGS=""-z relro -z now"" Stack-based Buffer Overrun Detection: CFLAGS=”-fstack-protector-strong” if using GCC 49 or newer Fortify source: CFLAGS=""-O2 -D_FORTIFY_SOURCE=2"" Format string vulnerabilities: CFLAGS=""-Wformat -Wformat-security"" Signed-off-by: Luis Botello <luisbotelloortega@intelcom> Reviewed-by: Erich Cordoba <erichcordobamalibran@intelcom> Victor Rodriguez <vmrod25@gmailcom> Sugested-by: Victor Rodriguez <vmrod25@gmailcom> Erich Cordoba <erichcordobamalibran@intelcom> Change-Id: Iaa99df1992e2a6d4b30fcb54085538f3d2086550",0.2656816840171814
274,Deprecating option to create LBaaS security group on users' project Change-Id: I265866b9b45934b52a651ed0ad0622615db18075,0.296680748462677
275,WIP_ RFC: Add pod security policy for k8s cluster This patch set adds in a PodSecurityPolicy manifests to set the default security policy for the k8s cluster Change-Id: I565cc6b8db2640beef8ec923943db90f59c85fe7 Signed-off-by: Tin Lam <tin@irrationalio>,0.3245733380317688
276,Closes-Bug: 1578626 Fixes situation in private environments where security is on_ but anonymous read is not Change-Id: I1d5cbe80bd1bd0d617999bf670b96a850347e81a,0.27794408798217773
277,WIP DNM -- [OVN] security group logging support (3 of 3) This patchset 3 of 3 for OVN driver handling of security-group-logging It includes tests added to validate this feature Closes-Bug: 1914757 Change-Id: I3c1829a722187198d035c8b35c5ca2921309bb0a,0.2369498908519745
278,Enabling MAC learning needs to also remove security groups and port security When MAC learning is enabled_ port security must be disabled and security groups must be removed in most platforms Consequently when MAC learning is disabled port security must be added back to the port Change-Id: I1a6f91b382d18b7365e272b97057052ec668aea8 Closes-Bug: #1648011,0.1690165102481842
279,[WIP]: Secgroup logging driver base iptables This patch implements security group logging driver base iptables This patch is following logging api for security group spec [1] [1] https://reviewopenstackorg/#/c/203509/ Co-Authored-By: Ha Van Tu <tuhv@vnfujitsucom> Change-Id: Iaaf655c49df20a96e7b79769045e6a81734fdf90 Partially-implements: blueprint security-group-logging Related-Bug: #1468366,0.27902156114578247
280,add plathform security namespaces - This change intoduces a new hardware plathform security namespace - This change defines 6 new tratis for TPM TPM version and HARDWARE_ROOT_OF_TRUST Change-Id: I103839425a78e6cde7cc9c2d988e3ad083d0d089,0.21629482507705688
281,Updating security context for horizon chart This patch set updates the securityContext: runAsUser and fsGroup in the horizon chart Change-Id: I021cc940397c79464b9f562aaa4be4efdd1dec46 External-Tracking: F#24 Signed-off-by: Tin Lam <tin@irrationalio>,0.3481360673904419
282,Updating security context for ceilometer chart This patch set updates the securityContext: runAsUser and fsGroup in the ceilometer chart Change-Id: I2a754d1700efe80d3cb4eb7ea54f71642aad5dce,0.28729966282844543
283,Doc: Add appcontainer add security group and appcontainer remove security group Add command list documentation for the 'appcontainer add security group' and 'appcontainer remove security group' commands Partially Implements: blueprint zun-cli-guide Change-Id: If441d91cc9a2a1df912b8ea3b59b2229bbf14a4f,0.1518973559141159
284,Add api sample tests for security group rules api sample tests for security group rules are missing and so their sample files This commit adds those which will be used ti fill the api-ref for this API Change-Id: I01c68d14ecdfd853b839b527c559c7aac675f336,0.27610668540000916
285,Refactor security group & rule take action methods Add get_attributes internal functions to the security groups and security groups rules create & set_ to allow other plugins to override only the attributes code and add extensions attributes without having to rewrite the entire take_action method For example see in https://reviewopenstackorg/#/c/393322/ where vmware-nsx adds some extensions to the security group Change-Id: Ifcb9164b39bda007acc18a874caac5ee11da190d,0.10972084850072861
286,Add RBAC tests for security group default rules client This PS adds RBAC tests for the security_group_default_rules client_ the API for which is here: [0] It enforces the following policies: [1] And the max_microversion for this API is 235 as the API is deprecated from 236 onward [2] [0] https://developeropenstackorg/api-ref/compute/#rules-for-default-security-group-os-security-group-default-rules-deprecated [1] https://githubcom/openstack/nova/blob/master/nova/policies/security_group_default_rulespy [2] https://developeropenstackorg/api-ref/compute/#rules-for-default-security-group-os-security-group-default-rules-deprecated Change-Id: I12c8c6d060ee512741b437202c8be4657bc42c01,0.23370441794395447
287,[OVN] security group logging support (2 of 3) This patchset 2 of 3 for OVN driver handling of security-group-logging It includes the core changes for this feature Related-Bug: 1914757 Related-Bug: 1468366 Change-Id: I6340d132ff8e84edef8b7862337c395147a1beb2,0.22137147188186646
288,use security service ou sets organizational unit in AD at NetApp C-mode CIFS server Change-Id: I8edc587c76b3eb18dce0c0564167c95c1ebfccf4 Closes-Bug: #1696669,0.04644621163606644
289,"Do not abort ata secure erase if drive security is in enabled state At least in the case of INTEL SSDSC2BX016T4R drives_ a ' hdparm --security-unlock' command does not remove the enabled line of the security section of `hdparm -I` As a consequence_ the GenericHardwareManager does not perform an ata secure erase (it relies on this line to be set to `not enabled`) For an INTEL SSDSC2BX016T4R_ it has been manually verfied that the following sequence of steps perform a secure erase sucessfully: - hdparm --user-master u --security-unlock /dev/sda - hdparm --user-master u --security-set-pass NULL /dev/sda - hdparm --user-master u --security-erase-enhanced NULL /dev/sda this is indicated by the ""not enabled"" line appearing in the output of `hdparm -I /dev/sda` It is therefore proposed that we do not actually care if the `enabled` line appears in the output pre-erase We should only verify that is set to ""not enabled"" after an erase is attempted When we do not check the enabled line_ the test test_erase_block_device_ata_security_enabled becomes redundant with test_erase_block_device_ata_security_enabled_unlock_exception taking its place As the tests are very dependent on the order of calls to `utilsexecute`_ I added some asserts to the failure cases to ensure that the correct call was failing Change-Id: I5d4e18e7d7209dda89181fbcc202b199f130af89 Story: 2001763 Task: 12162",0.10965455323457718
290,[k8s_ironic] Remove unused security groups We provide security group rule resources in k8s ironic template_ but it's never been used This patch suggest that we remove it out for now and join it back when we really using it Change-Id: Id3f4d544159b213e6568e45f68f3a168075a2611,0.28530609607696533
291,[WIP][log]: iptables logging driver for security group This patch implements security group logging based iptables driver This patch also introduce libnetlink_log python binding to capture NFLOG message Change-Id: I18dea321d905ee7c31078be7ec88590338d3e0ec tChange-Id: Iaaf655c49df20a96e7b79769045e6a81734fdf90 Partially-implements: blueprint security-group-logging Related-Bug: #1468366,0.18502703309059143
292,[Docs] Migrate security into user guide Migrate all the security related user configurations into a user story Change-Id: I4dfc5941abfd834d1d53a9c737db7afcce2841a0 (cherry picked from commit f1a7525570f8a30cc9e335f00fb3007a52ed6344),0.20736151933670044
293,Improve security service update This patch adds a new manila specification to improve security service update operation Its extend the current udpate operation to also apply the new configuration in all associated share servers Change-Id: I158d0dda5591c36b1b62297f2cb63211c96c997a,0.37640997767448425
294,Added security guide Change-Id: I28d115d681869a7356c08a24c2d67d8937ff478e,0.37268710136413574
295,New review for Security Guide after feedback Change-Id: I9f1d60afcb0ffcd42576a19ba366e692cb3d3520 Signed-off-by: Keane Lim <keanelim@windrivercom>,0.2706034183502197
296,"New test case: ""test_remove_security_group_negative"" 1) Remove non existing security group from instance 2) Remove not associated security group from instance Expected result: ""404 NotFound"" Error for both cases Polarion IDs: RHOSP7-3461_ RHOSP7-3460 Change-Id: I1c3f142ffe5a49551582ad2664c48de564df9b4a",0.14963875710964203
297,Changes for Security Group / SIG Rename to 'Security SIG' Change Chair Change meeting time and channel (openstack-meeting is free at the desired time) Change-Id: I76db6ab60a029d18ce32e26c172fae842497a4f5,0.26705440878868103
298,"Add security headers to web accessable services Adds the following headers as static: X-Content-Type-Options ""nosniff"" X-XSS-Protection ""1; mode=block"" append Content-Security-Policy ""default-src 'self' https: wss:;"" nosniff prevents non-executable mime times from becoming executable The X-XSS-Protection header will prevent the loading of a page if the browser detects an xss attack The Content-Security-Policy declares what dynamic resources are allowed to load Adds the following header as user-setable via the keystone_x_frame_options variable X-Frame-Options ""DENY"" By default the X-Frame-Options header denies embedding in an iframe Change-Id: Iadd3e93bdb7e9d41ae1d027196367448dbce19f1 Partial-Bug: 1717321 (cherry picked from commit 81a28142a065e07f16756b1bc4cfb68a98e0a2e9)",0.1456558108329773
299,Updating security context for magnum chart This patch set updates the securityContext: runAsUser and fsGroup in the magnum chart Change-Id: I2f83291b0db87d0ce230c9e83bf757243f661319 Signed-off-by: Tin Lam <tin@irrationalio>,0.29488158226013184
300,RFC: Updating security context for senlin chart This patch set adds in the securityContext: runAsUser and fsGroup to containers in the senlin chart Change-Id: Ib51bbb882d40482a3ed61147d65a6575881b4034 External-Tracking: F#24,0.31057286262512207
301,Improve server password security compliance Keystone has introduced a config option for security compliance checking by validating the user password This has become a recommended setting for many customers The current password generation logic in Heat is too simple to pass that test (eg at least one capitalized character_ at least one digit etc) This patch replaces the password generation logic and introduces a config option for this purpose Change-Id: I72308fbb60cb82c2e887b355744d13373c1705ca Closes-Bug: 1666129,0.26475995779037476
302,Support collect neutron port meters Ceilometer Currently has no support for metering the statistics of neutron port when security group is enabled This spec is to collect the meters_ the meters can be used for billing or alarming or security analysis blueprint: support-to-collect-neutron-port-meters Change-Id: I765eb4eb1849519efa3db3534a35cfbd13993e0b,0.24260413646697998
303,Use bandit security scanner Limiting to medium or higher severity with high confidence This should prevent silly problems from slipping through Change-Id: I19db1e45a51c20d3fbe8a18f38a31d12447eef64,0.18536654114723206
304,Fix provider security groups role access Change-Id: If5ff93ba1492b28710bb5bb1fafe9761f97d7461 Closes-Bug: #1742864,0.3253450095653534
305,Validate security groups at zun-api Change-Id: I597abb5aff052f7beb1e26e8eb06f5ef3e3113cb Closes-Bug: #1698458,0.2892749309539795
306,DNM: Testing security group api def in neutron-lib DO NOT MERGE This is a sample consumption patch for the security group api def in neutron-lib Change-Id: Id303ad8385a6438aa022ec14b2945038a21155f9,0.37612807750701904
307,Adding a scenario test to check UDP security group Trying to get a string from a server listening on UDP port Make sure it's successful only when the security group rule is added Change-Id: I40a9da6f464d3b872ea14886dfd711abe74f1519,0.07064519077539444
308,"Revert ""Use push notification for security groups"" This reverts commit 020ea1479e3c2fac3e1ef99ed85f45792b286a0e The change made agents not create exchanges for old security group RPC endpoints_ which raises NotFound on server side Change-Id: If40678b59e539040d45a2ed1d484b9dddf20c500 Closes-Bug: #1707160",0.435421347618103
309,Reload SG rules when security group is requested In case when security group is requested by eg L2 agent via RPC_ there was a problem that rules which belongs to the SG wasn't reloaded and wasn't given in requested OVO version That wasn't a problem so far as we always had SecurityGroupRule OVO in version 10 but in case when version of this OVO will be bumped_ it will not work properly with agents from the previous version anymore This patch fixes that issue by adding reload of SG rules when SecurityGroupobj_load_attr() is called Change-Id: I008bf31369029c418a0e080e02283e8103428d2b Closes-Bug: #1903696,0.29835352301597595
310,"Should not allow security group from other project pass API layer check when booting Currently_ the default behavior of neutron when list security groups is: if you are ""admin""_ response everything we have in the env_ and if the user uses a security group from other project to boot a server_ Nova will show no error in API layer check but error raised in compute layer This patch added a check of security group project_id with the context project uuid_ and raises exceptionSecurityGroupNotAllowedToUse if they don't match Change-Id: I04a9ccf75b871fd6b519d9fa79d229e6a2da1a3e Closes-bug: #1691902",0.2220996916294098
311,Use conjunction for security group rules with remote_group_id Prior to this commit_ the number of flows can be prohibitively large in some cases (cherry-picked from I194e7f40db840d29af317ddc2e342a1409000151) Closes-bug: #1628819 Change-Id: I194e7f40db840d29af317ddc2e342a1409000151,0.17527753114700317
312,BugFIx: cloud-init failed when vm's vnic has not security group VM will fail to get metadata with cloud-init timeout error if the VM's vnic does not have security group Change-Id: If9d7d08acb66e377be02fa53d7daf093154dabe1 Close-Bug:#1650486,0.2721935212612152
313,add test cases for security group Change-Id: I53afe6c611beee0e1b45c7e2f8073b20d3e06f06,0.23090454936027527
314,fix security group error in multinode tempest tests Change-Id: Ie1b96c596d55d7b51dc1aa57caa779df471aa72e,0.2438010424375534
315,Fix OSC security group rule create command ICMP doesn't have ports and OSC doesn't like them Change-Id: Ief006f039fd782f3f732c27235b58e8517664a15,0.08806638419628143
316,Don't ensure default security group when listing sg The default_sg parameter for get_security_groups has no longer any user It was introduced to ensure there is a default security group within a tenant before the creation of any ports in that tenant However this is now done by registry callbacks The current logic leads to the known side effect that listing security groups in an invalid tenant will create a default security group in it because neutron doesn't do any tenant/project validation This commit eliminates the mentioned side effect by remove the default security group ensuring logic in security group listing Closes-Bug: #1653025 Change-Id: I09e1e5dbecd64bc798b9b147b99d35d3f13b361a Signed-off-by: Hunt Xu <mhuntxu@gmailcom>,0.2899411916732788
317,Add more judgement for whether to use neutron's security group Now if CONFservice_availableneutron is True we will create neutron's security group in validation_resources_ this is to add a check for whether security-group extension is enabled_ that means only when CONFservice_availableneutron is True and neutron's security-group extension is enabled_ we will create neutron's security group_ otherwise we will create nova's Change-Id: Ic0eff155cf227502b8eca8a0ae24f3652c8df74b,0.2298698127269745
318,"DO NOT REVIEW: Revert ""Ensure default security group before port update"" THIS IS JUST A TEST TO SEE IF THIS PATCH IS WHAT IS CAUSING THE RALLY JOB IN NETWORKING-OVN TO FAIL This reverts commit 017185496c9f3f30b4b819ead86dd5bfe5a72597 Change-Id: I5e445a9ebd0ebc88122ef0b3425af2f70bbd95d9",0.40228113532066345
319,Add ID to security groups on launch instance If we have two security groups with the same name_ it is impossible to identify the difference This patch adds a field in the available security group table No unit tests needed to be changed Change-Id: Ic434bd581e36c2b037d481437182a4ad2375be1c Closes-Bug: #1523409,0.16314144432544708
320,Add options for tempest security groups This introduces two new configuration variables for setting the tempest configuration options for security_group and security_group_rules called TEMPEST_SECURITY_GROUP and TEMPEST_SECURITY_GROUP_RULES Change-Id: Ic98ff0e17a073026696b22ff201cf6958d7059ca,0.15821722149848938
321,Add ironic security group support to support matrix doc Ironic now supports security groups for provisioning and cleaning networks as well as tenant networks when configured appropriately [0] [0] https://bugslaunchpadnet/ironic/+bug/1594242 Change-Id: Ia29bade2938add0f41de08226193b55d5a36a869,0.1966284215450287
322,[WIP] Apply security groups to existing port If users create an instance with existing neutron ports and security groups_ the security groups are not applied This commit fixed it Change-Id: If7b8bf9c9dca72678d89c804d116bd7c0c58ffff Closes-Bug: #1707319,0.2311461716890335
323,admin-guide: document TLS security setup for noVNC proxy The Nova noVNC proxy server has gained the ability to use the VeNCrypt authentication scheme to secure network communications with the compute node VNC servers This documents how to configure the QEMU/KVM compute nodes and the noVNC proxy server nodes Change-Id: I51cef5f6266fa1115436669385080b90f66b3223 Depends-on: I9cc9a380500715e60bd05aa5c29ee46bc6f8d6c2 Blueprint: websocket-proxy-to-host-security,0.20071107149124146
324,tempest: Disable port security for trunk tests There is a bug that makes trunk tests flaky It already took a lot of time to fix that bug Until ovs firewall works with trunk properly_ this patch removes port security from trunk ports Change-Id: Ifa25783f8bdeb36edb6975b13cd50030ae6faec7 Related-bug: 1626010,0.23414857685565948
325,NSX|V: if port security is disabled then don't configure sec groups If port security is disabled on a port and there are no security groups specifically configured then we do not set the default This support is now the same for networks and ports Change-Id: I863fb09659682e9bb0581d65583d1e3e5094b933,0.14094868302345276
326,Improve ovsvapp performance by reducing RPC calls from agents for security group updates Agents will not request refresh only for own devices and server will fanout response to all members of the cluster Change-Id: I0258b5916ac4c5e55c9c65dd3610907076b51d49,0.21068952977657318
327,[DO NOT MERGE] UGLY FIX FOR SECURITY GATES I think I should do better by updating the condition on packages but in the meantime_ I'm testing the water temperature here Change-Id: Ie52e85bbdf5c46734f6acb8181399bf4d639d717,0.317851722240448
328,WIP: use neutronclient only while cleaning up security groups Change-Id: I1ea7a39d1cf218d7eeb5cd37a2d02796cf6370d5,0.2913925051689148
329,Adding Security group Scenarios for Neutron Change-Id: I38543146f81ec8319b85ba69bbef50203f54a379,0.3363545536994934
330,Restore vhostusersocket's default SELinux security contexts Adds restorecon $vhostuser_socket_dir after the creation of the directory_ inorder to set the SELinux security contexts for the same Change-Id: I50a2f018491fd374f41378191a513ebac565e6b9 Closes-Bug: #1699975 Signed-off-by: Karthik S <ksundara@redhatcom>,0.0959012359380722
331,unbreak security gruop with ovo [1] breaks security gruop unbreak it [1] https://reviewopenstackorg/#/c/284738/ Closes-bug: #1698284 Depends-On: I277290500d1616d60f15e433694afee2946ba617 Change-Id: I3463c51eb9ac5c750a309a6b7cc5819238dca4ee,0.27182137966156006
332,"Revert ""Integrate Security Groups OVO"" This reverts commit af52d499a53f9dddacd8c9116d1bb0570e8f579c After this patch was merged_ heat dsvm job failing with RemoteDisconnected error with 100% rate Change-Id: I7e391d0ea8daefff72639357c3c9fc7dc38c5b91 Closes-Bug: #1698355",0.45499682426452637
333,Add Security Group Rules client test Change-Id: Ia73dbebc0ab2c319087c1d4a3dc86966c8fb92bc,0.1806265115737915
334,Add Security Groups client test Change-Id: Icd52d35d1957edbba9b0a9e35f7528707718b541,0.216135174036026
335,[WIP] netlink-lib for security group - make conntrack driver configurable - This patch proposes first step to adopt netlink-lib[1] solution from FWaaS to manage conntrack entry in security group [1] https://bugslaunchpadnet/neutron/+bug/1630832 Change-Id: I663bffcd7dc98c61f2bfcb7de8717c492785f880 Partial-Bug: #1630832,0.2302217185497284
336,Shorten image name for security hardened The image name was very long and we were arriving to the 127 char limit for directory name generation_ when testing it Change-Id: If2d48c85164375e5049056d574683536d1af5cce,0.18720337748527527
337,Update security hardened images with latest content As the patch that was containing security hardened images was old aged_ and had not been rebased in latest time_ it was missing the latest updates on overcloud-full image_ like the removal of some elements and including some extra packages Adjust the security hardened image properly_ to reflect the same contents as the normal overcloud one Change-Id: I2bd71d9e7267e2700af411c37ad3fd8475f55db0,0.4489278197288513
338,Adds policy rules to Access and Security Panel partial-bug fix Change-Id: I91a674401a50e6b03c4d82fd8be5c025e68daded,0.25463271141052246
339,Update security group of service port manila-share can not create when manila-share service node use openflow to set security group manila-share can not ssh to service instance due to realization of openflow cause the internal tap bind port that added security group can not send packages Change-Id: I505aea29a15cd559af145fd6a9e55142973182f0,0.27394044399261475
340,ignore for now enable missing security group tests Change-Id: I0ed89ffc6e0c58b3b509c98a6106ea5e0b69810f,0.3106231987476349
341,Add popular ip protocols name in security group Currently_ ip protocols are specified as integer in security group However_ due to a recent commit[1]_ most of the useful ip protocols are supported and can be specified by its common name in neutron If horizon can support it_ it will greatly help ease the input of various ip protocols [1]https://reviewopenstackorg/#/c/259037/ Change-Id: I1410e55eafdb1ff60b188f8e5b5a8bc651f2a3f9 closes-bug:#1547998,0.20589902997016907
342,test_server_basic_ops: add http to security group Test test_server_basic_ops issues a curl command from inside a VM but the packets never exit the VM_ because the security group is configured only for icmp and ssh protocols The failing test can be seen in the fuel functest runs on opnfv: https://buildopnfvorg/ci/view/functest/job/functest-fuel-armband-baremetal-daily-danube/68/consoleFull https://buildopnfvorg/ci/view/functest/job/functest-fuel-baremetal-daily-danube/179/consoleFull The fix adds a security group rule for http port 80 Change-Id: Ibd0cbac145402c0d98dc75a6e630683399945066 Signed-off-by: Cristina Pauna <cristinapauna@eneacom>,0.17672505974769592
343,WIP: API: rework security group APIs The current security group APIs don't work well with Neutron This spec fixes that problem_ and deprecates the older APIs blueprint api-security-group-rework Change-Id: I455bcd5bbe761fa73c4745227567a98b1106e672,0.3667025864124298
344,Support security groups association per port This patch support operation for operators and project users to associate security groups to a port The feature is mentioned at the neutron user feedback session in Barcelona summit [1] This function UI is same as the function of security groups association per instance To realize this_ the way of implementation for 'Edit port' is changed_ which move from a single modal to a workflow base [1] https://etherpadopenstackorg/p/ocata-neutron-end-user-operator-feedback (L35+) Also we need to display how security groups is associated at a port At the moment_ there is not way to be able to see it (only this function) It should be done as an another patch This is one of the patch divided from https://reviewopenstackorg/#/c/404178/ An another is https://reviewopenstackorg/#/c/451620/ Change-Id: I59e734eec7af265531c6150caa7c9de6737dc6b5 Closes-Bug: #1637444 Co-Authored-By: Akihiro Motoki <amotoki@gmailcom>,0.23469361662864685
345,Revise logic condition for generating security group UUID The ID generation should not be dependent on the neutron's security group extension being avaiable_ as that is a job of the test case skip_checks() method In fact_ if the extension is not available_ the test case should be skipped altogether This logic is vestigial anyway now that nova-net is no longer run in the gate_ however is kept for downstream users Change-Id: I9955687afbf34c00e576b28def2076a300588c35,0.22122430801391602
346,Don't refresh all security group filters when updating DHCP port Instead of forcing a refresh/rebuild of all security group filter rules on all ports on the network when a DHCP port is changed_ just do nothing This is not necessary as VM ports automatically get rules allowing the DHCP ports through_ anyway Refreshing all filters on all ports generates considerable load on neutron-server and the backend database for networks with a large number of ports Change-Id: I2e9a70c7ea7c2c0015b8fba6f460d14f2c4837de Closes-Bug: #1653830,0.21847796440124512
347,[WIP] Porting Security Related Code to Mistral-Lib The custom actions need access to the keystone_utils To port this code over properly_ we also need the context_ exceptions and a few utility methods The patch proposed here is to illustrate the task and get some feedback in the direction that should be taken Change-Id: Ib744ade29418e287d0bcc622b9979940a22422cb,0.12792673707008362
348,Disable security group tests in tempest-dsvm-cells-rc using a config option Currently_ the tempest security group tests for tempest-dsvm-cells-rc are blocked becausecells doesn't support security groups The block is now done using a nova whitelist: http://gitopenstackorg/cgit/openstack/nova/tree/devstack/tempest-dsvm-cells-rc Change to block the tests based on a new tempest config option - compute-feature-enabledsecurity_groups Also_ some of the tempest scenario tests attempt to create a server with a security group These will not work with cells_ so use the new config option to block those tests This commit changes devstack to set the compute-feature-enabledsecurity_groups option to False if cells are enabled Change-Id: I4f74b80024a9bcc374d374d86052dceb40598d32 Partial-Bug: 1495653 Depends-On: Icd62f42809380de6d638b343d3322b102b0d1d1f,0.19479399919509888
349,Setup private gerrit for security reviews Fixes bug 1083101 Change-Id: I7b0244adfcd5864b9b7ad815fe050b7081519f3d,0.39679327607154846
350,Adding icmp ingress allow rule to the Security Group Change-Id: I55feb42e6ed864ce49e5161c82e50c7df6b739be,0.16293832659721375
351,bunch of security logging to debug gate issue Change-Id: I4146cf3727c246103f917b8a7c844f0bee178cae,0.22414278984069824
352,describe-security-groups by name in default VPC mode describes security groups in default vpc only Change-Id: I9a6846585db45b4861e3d3eec6b42f20f870bb6c,0.17563946545124054
353,Disable security group tests in tempest-dsvm-cells-rc using a config option Currently_ the tempest security group tests for tempest-dsvm-cells-rc are blocked because cells doesn't support security groups The block is now done using a nova whitelist: http://gitopenstackorg/cgit/openstack/nova/tree/devstack/tempest-dsvm-cells-rc Change to block the tests based on a new tempest config option - compute-feature-enabledsecurity_groups Also_ some of the tempest scenario tests attempt to create a server with a security group These will not work with cells_ so use the new config option to block those tests This commit changes tempest to add the compute-feature-enabledsecurity_groups option with a default of True Future commits will change devstack to set the new option into tempestconf_ change nova to remove the security test regex from the whitelist_ and change the scenario tests to use the new option Change-Id: Icd62f42809380de6d638b343d3322b102b0d1d1f Partial-Bug: 1495653,0.19264483451843262
354,[WIP] Use reader and writer for security groups Change-Id: Id4d6692ed5bc353a6c22280d7cd91308ff839fc7,0.16133388876914978
355,Move Floating IPs from Access & Security to panel This patch makes the Floating IPs tab in Access & Security its own panel under Project > Network Change-Id: Icb11609b8b70fc248350f2676dc04c5f7fa802bc Implements: blueprint reorganise-access-and-security Co-Authored-By: Rob Cresswell <robertcresswell@outlookcom>,0.17415258288383484
356,WIP: example verification of security groups Change-Id: I7d83abbf7b17679f892364bf034986fc8cbbf881 Signed-off-by: Andrea Visnyei <andreavisnyei@nokiacom>,0.24247202277183533
357,Allow Endpoint update to remove Security Group An endpoint cannot be updated to remove a security group from it This patch resolves this issue and allows security group to be removed from an endpoint Change-Id: Idaa54c6207ac8ca0361b5d6ecebaf2d935ccc554 Closes-Bug: Bug #1645753,0.33950549364089966
358,Recursively delete endpoints associated with Security Group When removing a security group_ any associated endpoints should also be removed from Neutron DB_ in a recursive manner Change-Id: Ic67ebed1fc4d090cbb7a9c60820f1dc15d978ff2 Closes-Bug: Bug #1645261,0.2202235460281372
359,Enabling MAC learning needs to also remove security groups and port security When MAC learning is enabled_ port security must be disabled and security groups must be removed in most platforms Consequently when MAC learning is disabled port security must be added back to the port Change-Id: I1a6f91b382d18b7365e272b97057052ec668aea8 Closes-Bug: #1648011,0.1690165102481842
360,Don't refresh all security group filters when updating DHCP port Instead of forcing a refresh/rebuild of all security group filter rules on all ports on the network when a DHCP port is changed_ just do nothing This is not necessary as VM ports automatically get rules allowing the DHCP ports through_ anyway Refreshing all filters on all ports generates considerable load on neutron-server and the backend database for networks with a large number of ports Change-Id: I11263b4741b43b4db2bed353759f45b7758386d0,0.2168823778629303
361,[POC] A reference implementation of logging api for security groups Change-Id: I7fc8ca1bf0834b7481b03be6f77d917b16aa985a spec: https://reviewopenstackorg/#/c/203509/,0.1341693103313446
362,"[user-guide] Update the ""nova secgroup"" to ""openstack security group"" Change-Id: I0ea155032125fce59f7e53a25037a4f33bddbde1 Implements: blueprint use-openstack-command",0.2416355013847351
363,[WIP] ovn: Implement stateless security groups support OVN uses 'allow' action for stateless ACLs This patch makes to use 'allow' for stateless and 'allow-related' actions for stateful security groups Limitation: There is currently an issue in core OVN that makes it not possible to use statless ACL if a stateful ACL is present for port on the same chassis NOTE: I don't know how to enable stateful-security-group API extension so unittests are currently failing Blueprint: stateless-security-groups Change-Id: I6f8ad1461cb3059aeb606b936296b8113538896e Signed-off-by: Jakub Libosvar <libosvar@redhatcom>,0.2737008333206177
364,Fuel master sysctl security hardening Change-Id: I067dfded620d61d3a863e24367964d17dbed771d Closes-Bug: 1648789,0.2921462059020996
365,Change description in the security group section Description was changed according to the appropriate spec Change-Id: I314a974b85c24dbed6ab0e5e81b562e91f23dc9d,0.3532126545906067
366,Add a workflow step to change VIP security group Now we can't change security group rules on port attached to VIP by UI So I add a workflow step in loadbalance edit VIP form that can modify the security group after creation of VIP Change-Id: I80b5e53a5f85882d2e01130432af4fe8e97d404c closes-bug:#1325397,0.1287553906440735
367,educe security groups # for k8s coreos cluster This patch allows two security groups to be created for k8s coreos cluster(one for master and one for minion) Change-Id: Ifccf30adc5cb8022b760e84bc6862b63cbce9e32 Closes-Bug: 1642752,0.3463621437549591
368,Neutron loadbalancer uses incorrect security group As per bug_ when loadbalancer is created then port is also created and default security group is attached And i could not find any method of attaching security group to port using heat templates A neutron client class has been made_ which creates security group and security rules Then security group is attached to port for fedora kubernetes driver Change-Id: Ic0c2f6d3bb52c4cf87cbb4a585d9bce50d6c9b13 Closes-Bug: #1605416,0.22007495164871216
369,Moved duplicate code for security groups to common location Change-Id: Iedb86a49193b54bf31319df60bb652e7aeddf4b4 Closes-bug: #1609674,0.2979074716567993
370,Enable security compliance feature This patch enables the keystone compliance feature in DevStack for keystone's tempest plugins jobs Change-Id: Ie02c4bb558ca4266dec7c19ad95eb1248286b670 Depends-On: If6b5eb3e3cbc43eb241c94d18af80ad50be08772,0.3170422911643982
371,Join NSX fabric after security certificate gets written on disk Puppet manifests try to join transport node with SSL certificate before it gets written on disk by `nsx-t-configure-plugin' deployment task_ this change executes `reg-node-on-management-plane' after `nsx-t-configure-plugin Change-Id: Idcea1e4d59bc0427180ef46389901881367afa5c Closes-bug: #1638490,0.18463870882987976
372,[WIP] Fix add security group race condition Change-Id: I8aa2dbbe16a16c24cd2a47df0c50c1db994cb93f,0.21389761567115784
373,Remove deprecated hyper-v security group driver Change-Id: I2277923fa2bfcf3722399e14d22c182db99d3095 Related-bug: #1520054,0.29588544368743896
374,initial commit Neutron validates security-group names regardless of case_ however they would fail when the scheduler would attempt to allocate the group to the instance causing it to enter into an ERROR state This patch helps in resolving this issue by raising exception when duplicate security group name is provided while booting VM Now VM instead of going into error state_ shows exception to user saying security group not found Change-Id: Ibb0afdf668e3f01990553a96fcb3df0305eac8a4 Closes-Bug: #1289195,0.2860279679298401
375,Case-sensitive neutron security groups nova-network security groups are case-sensitive Neutron validates security-group names regardless of case_ however they would fail when the scheduler would attempt to allocate the group to the instance causing it to enter into an ERROR state This patch helps in resolving this issue by raising exception when case-insensitive name is provided while booting VM Now VM instead of going into error state_ shows exception to user saying security group not found Change-Id: Ic56be21aeb7a7ef20c9f2fcab83f2b9247598c80 Closes-Bug: #1286463,0.22898536920547485
376,WIP: Active-Active Topology - fix Security Group for Distributor SG allows a port to send only traffic from specific IPs -- disables spoofing Distributor must send traffic with src_ip that is not its port ip (but IP of the client) to an amphora This commit lets distributor while staying in security group perform such legal spoofing Change-Id: I1f22982160fb1bb2582ce203c5d35719f82eda44,0.27133965492248535
377,[RFC/WIP] scenario tests for security groups Introduce scenario tests to test single security group in isolation The existing security group functional tests are limited to testing only traffic which can be generate by ping and netcat_ and this approach is incompatible with SDN approaches like OVN These tests use an isolated network between two instances_ one of which has port security disabled Initially just testing the test setup Change-Id: Ifdd273d5e70651c0908e3f6ca6931142de1e7c5b,0.13322746753692627
378,Hyper-V: delete the security group driver Commit 1b22c0e1eaa14bfa5fb81c63ff6f85b642728beb indicated that the driver was deprecated and would be removed in O This removes that code Change-Id: Idf00c363dc999e2a35f7eb88ab27b5cb0071e68e,0.2538049817085266
379,Add default security group instance creation tests Add a test to verify that the default SG is applied to an instance when provided with both an additional security group and on its own during instance creation Change-Id: I29470561baff5896e78f1434354d176e178e9801,0.12111978232860565
380,Security group rules not removed from bridge when port security group is updated When VM port is updated with new security-group_ old SG rule flows are not removed from the ovsvapp Change-Id: If50aaedceb0f28cd19e195253b704cc99dd29438 Closes-Bug: #1628836,0.22080661356449127
381,Add security groups tests Add base test for checking security groups Change-Id: Ic2d4754a3b998e1f67d584840d8884e7c4e78e88,0.1639772653579712
382,Negative case for IPv6 security group The test is done after we made sure that ping to IPv6 of VM is working when security groups are properly configured 1) Create function that finds and removes ingress ICMP for ver 6 rule and removes it 2) Try to ping IPv6 address of VM and make sure it fails Change-Id: I513c0fb1d37ac490d0706fd6d413560a30092cd5,0.08685269951820374
383,Add security rule step failed by timeout after destructive action - fix Added timesleep(300) - extremely dirty hack_ which should be replaced by normal check Change-Id: I6451a3af9a23686df60c5662a978428bd379ef64 Closes-bug: #1532874,0.23771917819976807
384,Add ID to security groups on launch instance Adds the id to the security group name in the old create instance form and adds an extra ID column to the new create instance modal for easy identification of security group Ids Change-Id: I6058ffd1daacd5af4d90c158e76f3055e61be548 Closes-Bug: #1523409,0.13128338754177094
385,DNM: Gate test with security groups disabled Do not merge this gate test Change-Id: I99f272afbd0f8af3c6d8ab4a594ea774d90de149,0.24084289371967316
386,Enrich security group information in pre commit message When create security group_ we enrich security group information in pre commit message in the transaction Change-Id: I808e9dba7a5a6270b8237edcc49a6e816e10fc39 Closes-Bug: 1614340,0.3077092170715332
387,Add '--project' and '--project-domain' options to os security group list cmd This patch added '--project' and '--project-domain' options to filter security group resulted by os security group list command Change-Id: I9f1382c09c7e7372cdc9d981a38428b5a3adc409 Closes-Bug: #1613629,0.26801159977912903
388,Update the lbaas security group only if the service policy is enabled When handler of policy is enabled and pod_security_groups_driver is policy but but handler of service is disabled _kuryr-controller start failed It should be adapted to cases when service handler is disabled and policy is enabled for pod Change-Id: Id122c974dfdab1e015a0cff7bf6f9476c0702bd9 Closes-Bug: 1895100,0.15123005211353302
389,Update the lbaas security group only if the service policy is enabled When handler of policy is enabled and pod_security_groups_driver is policy but but handler of service is disabled _kuryr-controller start failed It should be adapted to cases when service handler is disabled and policy is enabled for pod Closes-Bug: 1895100 Change-Id: I662828e54363fb028ae8fcafdb7ca2a9fcc1d8bb,0.139015793800354
390,Update the lbaas security group only if the service policy is enabled Change-Id: Ib3ebcaeb1b56f8bae834a008d241cb53f8437bcd Closes-Bug: 1894987,0.18649283051490784
391,Update the lbaas security group only if the service policy is enabled Change-Id: Ia4dbefa1a06032867de0860300fd299a97764af2 Closes-Bug: 1894987,0.18495340645313263
392,Update the lbaas security group only if the service policy is enabled Closes-Bug: 1894987 Change-Id: I2d4f375ddddd0fffb14c54afce6fab26d7d1f871,0.217600479722023
393,Find security group profiles by project scope If a security group exists with the same name in multiple projects_ a profile will not be able to created using that security group name This change will try to scope the security group to the user's project during validation If the security group can not be found using the project scope_ it will try to find it without the project scope Change-Id: I595b3c348ce8133a273d8e26c664fffc32694705,0.13149018585681915
394,Add --protocol option to os security group rule list cmd This patch added --protocol option to filter rules by os security group rule list command Change-Id: I3270e991af3a15b72fda6260da727a42337bee21 Partial-Bug: #1613533,0.2349015772342682
395,Port security groups to OVO This patch introduces Oslo VersionedObject for the port security groups Change-Id: I9dc516e94cd7d8eeb8b0416b50df7420f674e723,0.3660242557525635
396,Handling for 4 byte unicode in security group In case 4 byte unicode characters are used in name of security group_ it returns 500 error code without any proper error message This is fixed for security group create and update operations Change-Id: I8d68fb00cab04d16f7d8d829136167c4d7d50599 Closes-Bug: #1545729,0.2411077320575714
397,Hide access and security panel if no nova If nova isn't available in a region_ Horizon will show an error page/failure in the access and security panel Although there are other panels that don't work without nova_ they just show a proper error message Update the panel definiton so that access and security is shown only when nova is available Change-Id: Ie292dc97a4e80b86cd52c66b28b1fd467e303067 Closes-bug: 1498403,0.11650113016366959
398,WIP: Use neutron network API in neutron security group driver In an effort to wrap the Neutron network API calls and handle global errors (unauthorized_ connection failures_ etc)_ we should have the Neutron security group driver in Nova use the Neutron network API for existing APIs like listing ports We'll have to make a decision about whether or not to move the security group client calls from the security group driver into the Neutron network API so all of the calls to Neutron happen through the network API Change-Id: I33509c14f327649b80a829d5332a10b1ca7f15a7 Related-Bug: #1571722,0.17502424120903015
399,return correct attribute map for provider security groups Previously_ this preventing provider_security_groups attribute from showing up on port resources outside of the api server Change-Id: I5ab13df0a634683f64dd3280db1ad151cf6ca23d,0.22062253952026367
400,Introduce VNC Security Proxy Framework This commit introduces the security proxying framework for VNC The base class is intended to be subclassed_ but will still function as a basic no-op security proxy Which class is being used to do the security proxying can be set using the configuration option 'console_security_proxy_driver' Implements bp: websocket-proxy-to-host-security Change-Id: Id586b2558fd4c7ed0eda3d3555d51fcd019eb414,0.09639479219913483
401,Add VeNCrypt (TLS/x509) Security Proxy Driver This adds support for using x509/TLS security between the compute node and websocket proxy when using websockify to proxy VNC traffic In order to use this with x509_ an operator would have to set up client keys and certificates_ as well as CA certificates_ and configure libvirt to pass the appropriate options to QEmu (this is configured globally for libvirt_ not by Nova) This is process is documented on the libvirt website Then_ the operator would enable this driver and set the following options in /etc/nova/novaconf: [console_proxy_tls] client_key = /path/to/client/keyfile client_cert = /path/to/client/certpem ca_certs = /pat/to/ca/certpem Implements bp: websocket-proxy-to-host-security Change-Id: I64859ad01120782fb17308aac3abb125597c3ea2,0.10680793225765228
402,WIP: Disable security group tests in tempest-dsvm-cells-rc using a config option Currently_ the tempest security group tests for tempest-dsvm-cells-rc are blocked becausecells doesn't support security groups The block is now done using a nova blacklist: http://gitopenstackorg/cgit/openstack/nova/tree/devstack/tempest-dsvm-cells-rc Change to block the tests based on a new tempest config option - compute-feature-enabledsecurity_groups Also_ some of the tempest scenario tests attempt to create a server with a security group These will not work with cells_ so use the new config option to block those tests This commit changes tempest-dsvm-cells-rc to remove blacklisted tests that are now blocked by the config option Change-Id: Icb6d9934dfbe4a4f03e38a47fb9d29a0e72d1942 Partial-Bug: 1495653 Depends-On: I4f74b80024a9bcc374d374d86052dceb40598d32,0.18858882784843445
403,[WIP] Fix add security group race condition Change-Id: Ieed4caf3208409959c6dccc18bf394fb4518737f,0.2165520191192627
404,Make the create_instance call accept security group ids as well as names Since it's possible to have multiple security groups with the same name_ we need a way of specifying the groups by id instead This change makes it still accept names (for backward compatibility)_ but treats them as ids when they have format of an UUID Change-Id: I0025893535837ebcd53e9fdcc7dc71c509fe0988,0.07016272097826004
405,Test security group(s) removal from port Implement the following test cases: 1 Create port with security groups then remove one of the security groups and update the port 2 Create port with security groups then remove all of the security groups and update the port Create helper function to create port with multiple security groups Change-Id: I1bd8da0b8a0953a38ceb2a47e8caecb4e4625139,0.12236358970403671
406,Test port creation/update with non-existing security group Implement the negative test cases: 1 Create a port with non-existing security group 2 Update a port with non-existing security group Change-Id: I772a072f417e1d20f4dd9e28a399cf31ae510132,0.1472472846508026
407,"Preventing duplicated rule on *one* security group in neutron active-active This change prevents two identical rules when performing concurrent rule security group creations on same security group in neutron active-active It is supported by _lock_security_group [1] It uses the updating feature of database to disallow 2 transactions performing concurrently: Two transactions will conflict each other because they update the same row to the db will discard the last transaction and Controllercreate[2] will catch and retry the ""discarded"" allocation This change adds the ""hash"" attribute in ""securitygroups"" table to enable previous update [1] neutrondbsecuritygroups_db [2] neutronapiv2base Change-Id: I729b626560da821c7f5212014b73352925c8fe3a Closes-Bug: #1532696",0.2641814351081848
408,Modified in serverpy method 'take_action' of class 'RemoveServerSecurityGroup' to pass security group name instead of SecurityGroup object to the server instance Change-Id: Ic986d56b305683a836eaac14c0036dfa555d9449,0.18590788543224335
409,Backport OCF/PAM security limits fixes * Fix missing OCF logging Closes-bug: #1487083 (cherry picked from commit 6d90814c5675353aaf97946a40eb92d55cb9bdb4) * Remove exit code verification from MySQL OCF Closes-Bug: 1505735 (cherry picked from commit 14ec4750e763d82ab89f0b315f0d4f1341e893d6) * Check for Mysql wss constraints among online nodes Closes-bug: #1524826 (cherry picked from commit 7050f07fe155e00fd1d3bcbf2658de56c3b25387) * Refactor MySQL OCF script Closes-Bug: 1542256 (cherry picked from commit 615a0428e3250cffadbf5ebf61e477e91858cb16) * Update OCF stop actions to use procfs Partial-Bug: 1425579 (cherry picked from commit 7c210ee68db112bbd16066a54bfdf462a8bbedbd) * Fix the proc_kill ocf helper func Closes-bug: #1528889 (cherry picked from commit d961691e5fa7ba49305e35a4c17de09b2dae2eb6) * Add pkill by name to the ocf-fuel-funcs Partial-bug: #1532723 (cherry picked from commit d5a370e8eb723dcfa28795b089d9f247f51ef105) * Apply PAM security limits by running daemons through su Closes-Bug: #1429553 (cherry picked from commit 65eca547606edceedc15d8fadfd1e5822ba9f1f6) Change-Id: Ie64b4d89c3e3b9aa360a4175416c866ed1ae2620 Closes-bug: #1487083 Closes-bug: #1505735 Closes-bug: #1524826 Closes-bug: #1542256 Partial-bug: #1425579 Closes-bug: #1528889 Partial-bug: #1532723 Closes-bug: #1429553,0.3875514268875122
410,Backport OCF/PAM security limits fixes * Fix missing OCF logging (cherry picked from commit 6d90814c5675353aaf97946a40eb92d55cb9bdb4) * Remove exit code verification from MySQL OCF (cherry picked from commit 14ec4750e763d82ab89f0b315f0d4f1341e893d6) * Check for Mysql wss constraints among online nodes (cherry picked from commit 7050f07fe155e00fd1d3bcbf2658de56c3b25387) * Refactor MySQL OCF script (cherry picked from commit 615a0428e3250cffadbf5ebf61e477e91858cb16) * Update OCF stop actions to use procfs (cherry picked from commit 7c210ee68db112bbd16066a54bfdf462a8bbedbd) * Fix the proc_kill ocf helper func (cherry picked from commit d961691e5fa7ba49305e35a4c17de09b2dae2eb6) * Add pkill by name to the ocf-fuel-funcs (cherry picked from commit d5a370e8eb723dcfa28795b089d9f247f51ef105) * Apply PAM security limits by running daemons through su (cherry picked from commit 65eca547606edceedc15d8fadfd1e5822ba9f1f6) Change-Id: Ie64b4d89c3e3b9aa360a4175416c866ed1ae2620 Closes-bug: #1487083 Closes-bug: #1505735 Closes-bug: #1524826 Closes-bug: #1542256 Partial-bug: #1425579 Closes-bug: #1528889 Partial-bug: #1532723 Closes-bug: #1429553 (cherry picked from commit aa7e4cc0829fed1206f0641822079ede3d1eaba6),0.3395271301269531
411,Backport OCF/PAM security limits fixes * Fix missing OCF logging (cherry picked from commit 6d90814c5675353aaf97946a40eb92d55cb9bdb4) * Remove exit code verification from MySQL OCF (cherry picked from commit 14ec4750e763d82ab89f0b315f0d4f1341e893d6) * Check for Mysql wss constraints among online nodes (cherry picked from commit 7050f07fe155e00fd1d3bcbf2658de56c3b25387) * Refactor MySQL OCF script (cherry picked from commit 615a0428e3250cffadbf5ebf61e477e91858cb16) * Update OCF stop actions to use procfs (cherry picked from commit 7c210ee68db112bbd16066a54bfdf462a8bbedbd) * Fix the proc_kill ocf helper func (cherry picked from commit d961691e5fa7ba49305e35a4c17de09b2dae2eb6) * Add pkill by name to the ocf-fuel-funcs (cherry picked from commit d5a370e8eb723dcfa28795b089d9f247f51ef105) * Apply PAM security limits by running daemons through su (cherry picked from commit 65eca547606edceedc15d8fadfd1e5822ba9f1f6) Change-Id: Ie64b4d89c3e3b9aa360a4175416c866ed1ae2620 Closes-bug: #1487083 Closes-bug: #1505735 Closes-bug: #1524826 Closes-bug: #1542256 Partial-bug: #1425579 Closes-bug: #1528889 Partial-bug: #1532723 Closes-bug: #1429553 (cherry picked from commit aa7e4cc0829fed1206f0641822079ede3d1eaba6),0.3395271301269531
412,Add gosec security scanning This adds gating around the gosec static security scanner/linter (formerly known as `gas`)_ and makes the gate green by remediating existing issues Any issues found by gosec may be ignored with a #nosec annotation_ ideally along with a justification comment Gosec can also be configured to ignore specific issues globally if we decide that's warranted https://githubcom/securego/gosec Change-Id: I05c1ffd0c30ec65957d4d5650e303ac08ece4210,0.20141369104385376
413,Make security group CIDR conversion stricter Neutron API currently accepts security group remote-ip CIDR in format '19216811/24'_ which is a CIDR with host bits set There are two issues with this: 1 Security-wise_ a user may unwittingly use '19216811/0'_ which effectively is '0000/0' 2 CIDRs with host bits set do not work in OVN Update API to throw an error if such a case occur Also update current tests that have CIDRs with host bits Change-Id: I4b1e6c76aba0f7cc75ad8f0ad3824f089798bb8e Closes-Bug: #1869129 Related-Bug: #1837339,0.23976245522499084
414,A possible security vulnerability in using jinja2 fixed Jinja2 by default uses autoesacpe=False_ which is a possible security vulnerability_ added autoescape=True _ if autoescape false is needed_ then in the template_ {%autoesacpe false%} should be used Change-Id: If5269e18bac0a4045f2a9d69a6b7919e6bd79508 Closes-Bug: #1558262,0.0770966112613678
415,Update Security Group negative test case to BadRequest The value 'bad_group_id' is not a UUID_ and Neutron's API has been changed to return a BadRequest error when you do not send a UUID in your request to the Security Group API Change-Id: I820cbd99b58a6f286f156550903abd070fc9e37b Depends-On: I95c570d4d8b1b0b30f2ded64f11716ca9d5f8a3b,0.3331443667411804
416,[WIP] Improve gate testing for security role This patch removes the skipped tags in toxini and carefully skips some problematic tasks using conditionals This enables more of the tasks to run in the gate but skips some failures that would normally cause the gate job to break Change-Id: Idfabf33073715e74eca757078a1c2a9c745d6cf9,0.2896961271762848
417,Tests for security compliance This test for checking security requriments on master node by lynis tool Change-Id: I91481c9e66f52addc45f87d5f4aa947bb21f499f,0.2859766483306885
418,"Fuzzers for security utils This patch contains the data generators and response verifiers to be used by the security utils proposed in #216303 Currently_ this covers: - ASCII (all ASCII characters) - content types (eg Content-Type headers) - malformed dates - large strings - JSON recursion - evil numbers (-0_ 9999999999999999999_ Infinity_ etc) - remote code execution payloads - SQL injection payloads - path traversal payloads - malformed URLs - XML External Entity attack payload - XSS payloads - other random ""junk"" (meta-characters_ unicode characters_ etc) Change-Id: I4961d7b001bc07af04d56e31d7b33bf9aeccedff",0.27136296033859253
419,Add popular IP protocols for security group The patch for neutron is merged Link: https://reviewopenstackorg/252155 This is to update the documentation Change-Id: I1e62a78ce6c9b7dd77579204a759f6f04d737dac Closes-Bug: #1542352,0.332427054643631
420,Add popular IP protocols for security group The patch for neutron is merged Link: https://reviewopenstackorg/252155 Change-Id: If3f890e1e47ad7b97d7752e5ebfea49ce6b1c74e Partial-Bug: #1542352,0.3373222351074219
421,Install proper security libs This will allow proper verification of https for packages Change-Id: Ibb534b283433659ad8c7ce31b95643cf120dd1c2 Closes-Bug: #1560302,0.47695809602737427
422,"Improve security rule notification message If from_port and to_port are both ""-1"" then return ""any port"" instead of ""-1:-1"" For example_ instead of ``ALLOW -1:-1/icmp from 0000/0`` return ``ALLOW any port/icmp from 0000/0`` Change-Id: I09a0321bb662191821d274c38bf3848d191baea9 Closes-Bug: #1430005",0.16396595537662506
423,Add Security group id to magnum client This patch add parameter security_group_id to python magnum client for bay creation Change-Id: I846d37bc980a04c696c66671412ae84ad3f49d51 Partial-Bug: #1501050,0.19723764061927795
424,Support security group creation It appears from infra_config sample that both default and webserver security groups_ should be applied for gerrit and jenkins instances This change adds 'webserver' security group details to infra_config sample and additional tasks in setup_openstack_resources role to create it and add rule to it Change-Id: I127ead0708b556cdf266047dddec7910f7c8b46d,0.1999567449092865
425,Do not specify default security group to Neutron by default Neutron supports port_security_enabled=False feature which means that no security group is enabled for an instance port But Nova automatically adds 'default' security group even if no group is specified in a request It leads to difficulties in the use of the featrue This patch moves default initialization of an instance security groups to nova-network only related code This gives a chance to Neutron to set a default security group by itself Also 'default' group is not added to a response for create instance operation_ if no group is specified in a request Closes-Bug: #1175464 Change-Id: I043901491f60ea76dfbae879ce6e56acbd12f30c,0.22607769072055817
426,Add option for updates and security repos In some cases when network connections are restricted and only local mirrors are available should be possible to specify mirrors for updates and security repositories Change-Id: Ife5409eba758e90468d6fccccbc98fd59c56c1b3,0.5519832372665405
427,NSXv: Security group logging switching to new model Change-Id: If486ee7050c53e9d942cbe0cbfe30f03a521a6c4,0.17001833021640778
428,Assign management port to security group(s) This adds creation of a security group per management port that ensures IPv4 + IPv6 API traffic can reach the appliance It also enables SSH and ICMP by default_ for debugging Additionally_ it adds a new configuration setting 'management_extra_security_group_ids' that allows operators to specify additional security groups to be assigned to the management port Closes-bug: #1451622 Change-Id: I5a47cd306f6f7f1b005c26971a042163a2f86e88,0.13167519867420197
429,Add rate limiting security groups rules UI Change-Id: Id706bdaf561afe221a425b2837e9a1e007df6f93 Implements: blueprint security-group-brute-force-prevention-ui,0.1742200404405594
430,Workaround missing neutron security bindings After Kilo to Liberty upgrades_ creating a new virtual machine immediately resulted in an error This happened because the Kilo networks did not have the port security binding information There exists a neutron migration to add this (35a0f3365720_add_port_security_in_ml2py)_ but it appears to be run during Kilo install_ and does not re-run when Liberty updates This fix simply runs the same insert commands after neutron is upgraded in order to add security bindings to the pre-existing networks Change-Id: Idea369449990f34525448f0ce07f5fed73e1f376 Addresses-Bug: #1509312,0.28753891587257385
431,Add config option + docs for security hardening This patch adds a configurable option for deployers to apply security hardening by adjusting apply_security_hardening to true within the user_variablesyml file In addition_ security hardening is enabled on AIO builds by default Documentation about the security role and how to enable it are also included in this patch This is a backport of Ic05ab7eacd6a1966814764b8290817fb78732758 from master Implements: blueprint security-hardening Change-Id: Ic05ab7eacd6a1966814764b8290817fb78732758,0.314106285572052
432,Add data security related metadata to image Enterprises need to be compliant with data security laws and regulations that require sensitive data to be encrypted at all times Many OpenStack services have features (eg transparent data encryption in Nova) that can be combined together to form a data security compliance plan However_ the burden of verifying that such features have been enabled falls on the operator We propose a new metadata category related to data security that can be defined on an image This can form the basis of a declarative data security enforcement model in which this image metadata is used by various OpenStack services to enforce/enable the data security features that they are capable of Change-Id: I386de387ce086e169ab5c76448fb422e39ab96ac,0.17968177795410156
433,"Implement security group - Neutron plugin part The task Neutron plugin needs to finish for security group functionality is simple When a rule is created or deleted in a security group_ it just updates the corresponding bottom security group Also_ creating or deleting a rule with ""remote_group_id and changing rules in default security group will be rejected by plugin Currently this task runs in synchronous way Later it can be implemented in asynchronous way for better response time Change-Id: I0702b0db14269b1e2f6cb37d7e0f9f698d9cb6ec",0.21277540922164917
434,Add RPC handler for security group To support cross-pod security group_ we need to divide rule with remote_group_id into rules with remote_ip_prefix since security group id can not cross pods_ so we add the following RPC handlers to support (1) Given a port_ find the security gruop rules associated with it_ and retrieve IP addresses in the remote groups of those rules So when a port is added_ we know what IP addresses to allowed to access the port This is already implemented in Neutron plugin so we just inherit the proper base class (2) Given a security group_ retrieve security groups that use it as the remote group So when a port is added_ we can update those security groups to add new rule to allow the new port to access Security group management will be implemented in later patch Change-Id: Id71e655e8d6b1a4e8670eddc7d379d0c6a7998bc,0.11612532287836075
435,Add popular ip protocols name in security group Currently_ ip protocols are specified as integer in security group However_ due to a recent commit[1]_ most of the useful ip protocols are supported and can be specified by its common name in neutron If horizon can support it_ it will greatly help ease the input of various ip protocols [1]https://reviewopenstackorg/#/c/259037/ Change-Id: I617c16ab807d1e49325f0caeb67b2e86046e931f closes-bug:#1547998,0.20543062686920166
436,[WIP] Check for security groups on failed ping When ping diagnostics fails_ check for security groups settings Report failure if no matching rule for ICMP is found Change-Id: I9505e548db04467dfd5d47ce0ee800dbbe39f345,0.1211974173784256
437,Add popular IP protocols for security group The patch for neutron is merged Link: https://reviewopenstackorg/252155 This is to update the documentation Change-Id: I1e62a78ce6c9b7dd77579204a759f6f04d737dac Related-Bug: #1542352,0.3283815383911133
438,BVS-5248_ register callback functions for security group operation Change-Id: I2474bf92dc22c77d6ab7569245518c96542df07e,0.23151364922523499
439,auto install security rules for egress port of sfc by default_ the port security of Neutron port is enabled the fixed security rule <ip/mac> pair will be installed for egress traffic only the fixed ips and allowed address pair can be permitted The traffic on the service chain will travel multiple sfc group ports if these sfc group ports enable the port security_ the source ip of traffic should be configured on these groups ports' allowed_address_pairs_ then the traffic can be outbound from these ports at present_ There are two selections to install the security rules for sfc group ports_ one is the upper layer MANO(Management and Orchestration) to configure for sfc groups the other is sfc plugin or driver to auto install security rules according the extension configuration the patch implements the second one 1 portchain interface extension define auto_install_security_rules for the extension parameters chain-parameters_ when auto_install_security_rules=True_ it indicate driver will auto install security rules for egress port of sfc 2 how to enable this feature eg_ neutron port-chain-create --chain-parameters auto_install_security_rules=True --port-pair-group e65a5dd6-5a8c-49e0-91d4-90351cf8cdde --flow-classifier 8a583d69-7eb6-4cf4-b10f-8060caee0b20 client1_sf1_server1 Change-Id: I72b5e342e5896d48f1e2fa3d1053431bd7fb8109,0.21484170854091644
440,WIP: test security group can have optional desc Related-Bug: #1434172 Change-Id: Ied5abf368737d7f8fe4f0227b7b426f38fbcbdd9 Depends-On: I67943f96bed0966c1f2bb018852c57da5e40e854,0.2892308533191681
441,Make security group API work like documentation All the documentation for the security group API has stated description is optional Except_ it's not_ because of an enforcement point that's done incorrectly This will allow the security group to be created without a description as per the API spec Change-Id: I67943f96bed0966c1f2bb018852c57da5e40e854,0.2345857322216034
442,sessionpy file was initially using eval() which is not recommended for security purposes_ hence I used other safe equivalent function Close-bug: 1414529 Change-Id: I832f41ea4092f7a1d084f2d016cf110811e4fe03,0.08284086734056473
443,Adding Security Guide Meeting Adding new security-guide-meetingyaml to add our regular meeting at Mondays at 10am PST_ 1700 UTC in #openstack-meeting-alt Change-Id: I194cdbb16c0c2bcbb8ac30238d0311710640e105,0.26409000158309937
444,Resource to add security group to port Implments blueprint add-security-group-to-port Change-Id: I98a3d85c5008afd26879a7c935c6b4e1f305e962,0.22646036744117737
445,Add security improvement to glance's default policy These policy changes improve the security of Glance by allowing only the admin or owner to: - publish an image publically - admin_ remove or modify an image's membership Change-Id: I63deb23629b306f4e2aca0e359edc2007c419727,0.24446788430213928
446,Implementation of Security Groups Firewall for OVS driver This implementation is based on OVS learn actions Each new rule manually added to a security group (ingress or egress) will create a mirror action to allow this traffic (and only this one) to return Supports IPv4 and IPv6 Multicast support enabled by default DocImpact: added a new topic in openvswitch_agent doc to enable the firewall for OVS Closes-Bug: #1531205 Change-Id: I1c3ada221eacd9cdec8a910ac160d69a8e25a83c,0.19895167648792267
447,Launch Instance Wizard - Security Group Available table Default Security Group is allocated by default_ but is still showing up in Available table Also_ the 'No available items' row is there too So there are two extra rows that should not be there Also_ if there is more than one security group_ the Available item count is incorrect The reason for this is when the allocated transfer-table is created_ the 'default' security group has not yet been set So we need to broadcast this change when it is so that the transfer-table gets updated accordingly Change-Id: Ibd5ccd08a455ef3f01d3f4d18d0bb4b78aec5f57 Closes-Bug: #1518110,0.20016053318977356
448,Update CentOS 7 update and security packages repo url Start from Fuel 80_ we are using CentOS 7 instead of CentOS 6 for host OS_ update repo url for this change Change-Id: Ic8aae2e331a0714ed6a893c1f74978d613acda50 Closes-Bug: #1529564,0.4292714595794678
449,Add Congress as part of OpenStack Security Guide The presented commit is submitted as part of a request to add Congress to OpenStack Security Guide Closes bug: 1503914 Change-Id: I4e0f03f6c0087a0c803c0d5c586040379072794f,0.3533536493778229
450,Adds OpenStack Security threat analysis folder This provides a skeleton and basics/process for OpenStack threat analysis work Change-Id: I365adead7285ced91a1e2cb65b44ae2845f86f93,0.30573782324790955
451,Add Security Group spec This adds a spec describing the changes needed to be done in Dragonflow pipeline in order to support security group Change-Id: Id995c62f50dafe9f35d72821c8f82313d693b920,0.25911781191825867
452,Fix ICMP code value is None in security group rule test Security group rule with ICMP protocol has type/code value In Neutron API_ code is specified but type is None or type is specified but code is None will raise an exception This patch modifing ICMP code value which is None to normal Change-Id: Icd9499ea37864a0f68f0af70f9137e8710a3b561,0.27668190002441406
453,Correct some Security Group Rules validation Currently some input of the user Security Group Rules creation form do not treat -1 as a valid value_ this patch correct some validation Closes-Bug: #1528091 Change-Id: Ib42adcdf4cffc52c36f37403ce9165a1d26cea70,0.29311585426330566
454,Wrong Link to External Site Integrity life-cycle in Security Guide A link to dm-verify under the section Node Hardening of Integrity life-cycle is incorrect The current link points to a a Google Code page The dm-verify project has been moved to Gitlab Change-Id: I8ef62f8a07cdb2c7bf6576985532220fc7faaec9 Closes-Bug: #1490049,0.4682852029800415
455,Adds Security Groups for Windows Server 2012 Adds Security Group Rules and Generator for Windows / Hyper-V Server 2012 Change-Id: I40b22bf935f1f59d154c0c0d89e0bdc3c136fcad,0.23247012495994568
456,hot resource security group example format change in latest devstack_ using previous example format doesn't work modify format to be list and dict format to sepcify security rules Change-Id: Ib07502e35d51ffa89d2cb6ebfbcc1120fa65ada4,0.3102271556854248
457,Exception will not be raised when Port Security is not enabled if port_dataget(psecPORTSECURITY) is None_ the variable port_security is True_ so AddressPairAndPortSecurityRequired exception will not be raised for ever Change-Id: I7e9a8022adcdfdc30c3fc528ed84b6570c8df291,0.17211021482944489
458,Adding example playbook for security role This example playbook makes it easier for users to quickly run the openstack-ansible-security role against hosts which are part of an openstack-ansible deployment Change-Id: If53fb3da24bf9c69b77a2567c6cf12a51e8bb7eb,0.22116315364837646
459,dded appropriate functionality to check ICMP 'type' and 'code' while adding security group rule While adding new security group rule 'Custom ICMP rule' when wrong ICMP 'type' or 'code' was given the errors it would show was 'Not a valid port number'; which is wrong or misleading Before this patch_ for checking/validating ICMP 'type' and 'code'_ the code for validating 'TCP ports' was used Now that new improved code is available in 'osloutilsnetutils' that does validation of ICMP 'type' and ICMP 'code' this code has been used in this patch Change-Id: I3c9debc0eb156a4a3932b5e3f4dd601a313d065e Closes-Bug: #1511748,0.2086765021085739
460,Data Security Enforcements In Nova Enterprises need to be compliant with data security laws and regulations that require sensitive data to be encrypted at rest (storage) as well in motion (over the wire) Nova has features such as transparent data encryption that can be utilized as part of a data security compliance plan We propose implementing checks inside Nova that will ensure that such features are enabled These checks will be triggered based on the presence of specific metadata defined on an image Such declaration based enforcements can provide additional confidence to the operators tasked with setting up a secure cloud and thereby provide impetus to the enterprise adoption of OpenStack Change-Id: I0618bf381d1868af7facf991d22e2e8113794193,0.1795029491186142
461,BVS-4833_ add missig api from listening to security group updates Change-Id: I9532fa321b0493f2601c69b981a58114acf9e843 (cherry picked from commit 0de63c9acdb558a23e18b19d4d86020cb027a3b2),0.37574678659439087
462,Editorial updates on Security Guide upstream Acted on Greg's comments Signed-off-by: egoncalv <elisamaraaokigoncalves@windrivercom> Change-Id: I647711ac35f45bc9c79cc490269831770e98e2f4,0.34592384099960327
463,Add exception for insufficient priveleges when using security services When trying to create a share using a security service while having insufficient privileges or providing wrong credentials_ manila raises a generic user message that provides little information to the end user on what exactly went wrong Added a driver-agnostic exception for when this happens_ accompanied with a user message to provide more useful information to end users Partial-Bug: #1900755 Change-Id: I2b0bc5c0715c225cd5b38b55fb3967ff7fc86fa8,0.16630223393440247
464,Horizon: Expose additional security config params Expose additional Horizon security params in accordance with the OpenStack Security Guide [0] - ALLOWED_HOSTS - HORIZON_IMAGES_UPLOAD_MODE [0] https://docsopenstackorg/security-guide/dashboard/domains-dashboard-upgrades-basic-web-server-configurationhtml Change-Id: I071c8fbfc5ea9b41d3c35840e342d83349ae1613,0.24597865343093872
465,[NSX-v] Improve handling of port security transition - When network port security is set to True_ ensure the same IP is not used for multiple ports - Extend checks for netork port security to all ports_ not only ports with a nova compute device_id - When creating or updating a port_ perform checks if port security is enabled for the network or the flag for allowing multiple addresses is unset Change-Id: I5d81257b55730d4544537bb269030ec7f1a277c1,0.11829695105552673
466,Fix list security groups performance with RBAC After change [1]_ if the system has a high number of security groups with no associated RBAC entries_ a non admin user owning only one security group will experience unacceptable response times when listing her security groups Change [1] added methods get_object and get_objects to class RbacNeutronDbObjectMixin in neutronobjectsrbac_db_ which retrieve with and admin context all the objects (networks_ subnets or security groups) in the DB and then decide in memory whether the project that made the query has access to them or not_ based on their associated RBAC policies This change proposes to remove those methods and revert to their counterparts in NeutronDbObject (neutronobjectsbase)_ which use a DB query scoped to the project to retrieve the objects based on their associated RBAC policies by calling [2] In this way_ the potential number of objects that are retrieved from the DB and that have to be converted to OVOs is greatly reduced_ improving significantly the response time to the user [1] https://reviewopendevorg/#/c/635311 [2] https://githubcom/openstack/neutron-lib/blob/7a58374fde64fdc14e327940dde6bea4a8a39345/neutron_lib/db/model_querypy#L100 Change-Id: Idd303778d83089da8fbeff40e3dda2bd19008d8e Closes-Bug: #1830679 (cherry picked from commit a240c68022d96c8639652cbdf57e707e68fb2a88),0.23138292133808136
467,Fix list security groups performace with RBAC After change [1]_ if the system has a high number of security groups with no associated RBAC entries_ a non admin user owning only one security group will experience unacceptable response times when listing her security groups This patch proposes an optimization whereby we only check the RBAC entries of a security group if we know it has such entries This is likely going to be the first in a series of patches aimed at improving the performance of RBAC code for cases when associated resources exist in high numbers [1] https://reviewopendevorg/#/c/635311 Change-Id: Idd303778d83089da8fbeff40e3dda2bd19008d8e Partial-Bug: #1830679,0.2553364336490631
468,Using htk for glance security policies Overriding the values in valuesyaml Change-Id: Ib7cd343b4b95cae088a4fe564524448af79de785,0.2597212493419647
469,Neutron: fix security context typo This PS fixes a typo in the security context settings for neutrons sriov agent Change-Id: I8cd255969b0f47d541cd5df68dbddde0b1fcf898 Signed-off-by: Pete Birley <pete@portdirect>,0.37543976306915283
470,Neutron: Fix security context values keys This updates the values used for generating the pod and container security contexts for the components of the neutron chart This moves to using a unique application key for each neutron service instead of a single 'neutron' key that maps to every pod Change-Id: I1c87a5b4b74e2a2d17b8913dd34f40dc1c38fbe0 Signed-off-by: Steve Wilkerson <sw5822@attcom>,0.31588420271873474
471,Implement Security Context for Neutron Implement container security context for the following Neutron resources: - Neutron server deployment Change-Id: Ic2600c2301bd9d7c91bc72c22a7813d07e3a8ef6,0.28216224908828735
472,[NSX-v] Improve handling of port security transition - When network port security is set to True_ ensure the same IP is not used for multiple ports - Extend checks for netork port security to all ports_ not only ports with a nova compute device_id - When creating or updating a port_ perform checks if port security is enabled for the network or the flag for allowing multiple addresses is unset Cherry-picked from commit: 8280be510a897df79b0bfc28a5f89093e6e8f595 Change-Id: I5d81257b55730d4544537bb269030ec7f1a277c1,0.19981472194194794
473,[NSX-v] Improve handling of port security transition - When network port security is set to True_ ensure the same IP is not used for multiple ports - When creating or updating a port_ perform checks if port security is enabled for the network and the flag for allowing multiple addresses is unset Change-Id: I5d81257b55730d4544537bb269030ec7f1a277c1,0.1362086832523346
474,Manual: Regression Security passw rule Updating test steps for horizon secure login Change-Id: I7bd3f700b85737e812b275720331dfd3ce3c98d0,0.29923972487449646
475,Manual: Regression Security Malformed localhostyml Updating test steps for ansible-playbook command in order to validate localhostyml malformed format Change-Id: Ibb20a2c10b23a3e02504bb20c665e33e2a33bdbd,0.2311367690563202
476,Manual: Regression Security OAM iptable changes Updating test steps for ansible-playbook command in order to verify iptables are set correctly Change-Id: Ida54a0060235e4e04c6c311ea66e40ce50dcdd3e,0.22638212144374847
477,NSX|V3+P: Ignore IP ::/x in security group rules Setting ::/x as remote/local IP of a security group rule is not allowed by the NSX This patch uses 'ANY' instead_ similar to the way it handles 0000/x for IPv4 Change-Id: I1a2c1e0111d24c24fe51e60e70bd663cabeed346,0.1725490689277649
478,NSX|V3+P: Ignore IP ::/x in security group rules Setting ::/x as remote/local IP of a security group rule is not allowed by the NSX This patch uses 'ANY' instead_ similar to the way it handles 0000/x for IPv4 Change-Id: I1a2c1e0111d24c24fe51e60e70bd663cabeed346,0.1725490689277649
479,Change default security group protocol to 'any' The default protocol used to create a security rule was changed to ``tcp``_ which was a regression from the neutron client Change it back to ``any``_ which skips sending the protocol to the API server entirely Users that had been creating rules without specifying a protocol and expecting ``tcp`` need to change to use ``--protocol tcp`` explicitly Change-Id: Iedaa027240e00dced551513d8fa828564386b79f Closes-bug: #1716789,0.24850139021873474
480,[WIP][IPv6] Adding port security scenarios and api Change-Id: I2fc2ec31b5a6aaa2ca35978790ce8e016b09e86a,0.19975027441978455
481,[WIP] Coredns: Add pod/container security context This updates k8s chart to include the podsecurity context on the pod template This also adds the container security context to set readOnlyRootFilesystem to true Change-Id: Ib44e7b9e5d0ccc642ee095062f3aefcfef2a98f8,0.1993841975927353
482,[IPv6] Adding port security api tests Change-Id: I62ec417161b6d108438ab63f3d588f5fee967b54,0.24425244331359863
483,[NetApp] Implement security service update This patch implements support for security service updates for in use share networks It works with 'active_directory' and 'kerberos' security service types For both types_ the 'domain' attribute update isn't supported yet since it can might affect user's access to all related shares Change-Id: I8556e4e2e05deb9b116eacbd5afe2f7c5d77b44b Depends-On: I129a794dfd2d179fa2b9a2fed050459d6f00b0de Implements: bp netapp-security-service-update Co-Authored-By: Carlos Eduardo <ceseduardo98@gmailcom> Signed-off-by: Douglas Viroel <viroel@gmailcom>,0.24537672102451324
484,Sync in security guide fixes and fix local Neutronconf_ in Ocata_ has a multi valued string config option which ConfigParser treats as invalid INI This change resovles that and allows it to parse Closes-Bug: #1833368 Change-Id: I838ca6e7bf505d316e0dd703a0a50a8bc2e16e53,0.266643762588501
485,[IPv6] Fixing API security group test Adding changes for creating custom rules Change-Id: I65fcb49cea4992382da46cce5b688f69406e27c1,0.2114902287721634
486,"Revert ""Ingress: Add pod/container security context"" This reverts commit a0d67a11171ae70b2123c7a8ad1ed4ceced4d9b9 Change-Id: Icf7e29e95e0c3cf2bf71a22711a03218390c90cb",0.36904624104499817
487,Barbican: Add security context to chart and read-only-fs This PS adds the security context macros to the barbican chart_ and sets the default to read-only-rootfs Change-Id: I2dad0a50b23f2d202d6cd89b96d308321001fbe9,0.12373995780944824
488,[WIP]ETCD: Add pod/container security context This updates the etcd chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem to true Change-Id: I34a8ab3e850779192491b9b127a82b82f05fa00b,0.13194464147090912
489,Haproxy: Add pod/container security context This updates k8s chart to include the podsecurity context on the pod template This also adds the container security context to set readOnlyRootFilesystem to true Change-Id: Ic823232fbbb3b0967047d88de81f6a2ee83dcd3e,0.16546940803527832
490,DNM: Allow sharing of security groups via RBAC mechanism Neutron-lib api ref and tempest test reviews are being submitted at the same time to their respective repos Marking DNS_ because I think the list/show isn't quite flushed out yet Change-Id: I974b0a603b6ca75cf080fb7b0751c7fb87df8443,0.32376614212989807
491,Ensure CRD Security Group is update on pod events When a pod event happens and a Network Policy with a named port is already being enforced_ the CRD Security Group should be updated in case the pod is selected by any ingress/egress selector of that policy and contains a container port with same name as the one defined in the policy Change-Id: Ia695306bed7835cefe101b579000f577136a5c07,0.1760508418083191
492,Add UI for making security teams related to projects Change-Id: Ief2ad18b10ba51da7a42b2ebf88d9a4e4f98c630,0.1479298174381256
493,Adding IPv6 provider security group tests Change-Id: Id081ec0689c96466d93fe3596c71a7804138e992,0.2633497416973114
494,Move security group stack fixture to shared package Change-Id: I56cc623cb3a425bb1bc2ea2ac8619ee28a7b8e77,0.3691805601119995
495,Ceph-client: Fix security context for pod/container This changes the user from root to the nobody user instead in ceph-client chart whereever needed Change-Id: I4c56b97f85093bbbaaef617f1981f67215a8bc00,0.1816033273935318
496,Ceph-mon: Fix security context for pod/container This changes the user from root to the nobody user instead in ceph-mon chart whereever needed Change-Id: I5d3c1fbc8f983688807b73867773bfa2d83b91b3,0.20616331696510315
497,Ceph-osd: Fix security context for pod/container This changes the user from root to the nobody user instead in ceph-osd chart whereever needed This also permits read-only filesystems to back the containers by setting the default to true Change-Id: Ia777bf212e0e3414909c70a4bd839e12d4919bb2,0.18280890583992004
498,"Document mitigation for Intel MDS security flaws (MDS == ""Microarchitectural Data Sampling"") References: - https://accessredhatcom/security/vulnerabilities/mds - https://mdsattackscom/ - https://zombieloadattackcom/ Change-Id: I1bb472c3438cc9a91945999d2350b2c59fa6a1f3 Signed-off-by: Kashyap Chamarthy <kchamart@redhatcom>",0.23888464272022247
499,Disable add rules button when quotas are exceeded in security rule panel Change-Id: I662e5ca2bc4e36377cf9044d1f2759bbf6cbb555,0.08155745267868042
500,Canonicalize ICMP protocol name in security groups Currently_ 'icmp'_ 'ipv6-icmp' and 'icmpv6' can be specified as an IPv6 ICMP protocol value This can lead to duplicate entries in the DB for doing exactly the same thing Change them all to be 'icmp' so this doesn't happen ** Still need to work on squashing existing duplicates Change-Id: I7cd146691dce1a690e1d2c309dfd54b4a0032f76 Particl-Bug: #1582500,0.19980598986148834
501,"Add a security flag to Stories This is more specific than ""private"" and can therefore be sensibly used for automating ACLs based on projects/teams affected by the story Change-Id: Ib8ff53d11ba3977b15d735cef420ac44fd9aa288 Story: 2000568 Task: 29891",0.11154543608427048
502,Ranger-Agent: Add pod/container security context This updates the Ranger chart to include the pod security context on the pod template Change-Id: I69f99d651a7d60f27c75f1718e894c84bcfea366,0.18812397122383118
503,Change IPv6 ICMP security group rule check A neutron change_ https://reviewopendevorg/#/c/453346/ is standardizing the protocol name for IPv6 ICMP in security group rules to be 'ipv6-icmp'_ even if 'icmp' or 'icmpv6' was passed during creation Change the IPv6 ICMP test to use 'ipv6-icmp' as the protocol name when the ethertype is IPv6 Change-Id: I7c0e0caf67ab39743cdd7600dba099aecacd86db Partial-Bug: #1582500,0.24090760946273804
504,NSXP: place project id in security rule tag Change-Id: I9d3f9238c3f08d704ca495e5059f57b279c93271,0.2136772871017456
505,Change openstack security group rule create CLI Change-Id: I74290f12f9c98cf7cb610e14611c90ec8739763e,0.2222006618976593
506,Implement Security Context for Nova Implement container security context for the following Nova resources: - Nova server deployment Change-Id: I02743cff46d9a043ccb029547c819fafd9da3611,0.239495187997818
507,Remove note in README regarding security hardened images Support for security hardened images was delivered in Queens_ not as TechPreview Removing the section of README that indicates it is TechPreview Change-Id: I579b1fdedcd23f8d004bb9ca6c8fedd29c33ac7c (cherry picked from commit 37b74a670a8569566f5c928f80b46ae125d21d41),0.4788520634174347
508,Remove note in README regarding security hardened images Support for security hardened images was delivered in Queens_ not as TechPreview Removing the section of README that indicates it is TechPreview Change-Id: I579b1fdedcd23f8d004bb9ca6c8fedd29c33ac7c (cherry picked from commit 37b74a670a8569566f5c928f80b46ae125d21d41),0.4788520634174347
509,Remove note in README regarding security hardened images Support for security hardened images was delivered in Queens_ not as TechPreview Removing the section of README that indicates it is TechPreview Change-Id: I579b1fdedcd23f8d004bb9ca6c8fedd29c33ac7c (cherry picked from commit 37b74a670a8569566f5c928f80b46ae125d21d41),0.4788520634174347
510,Ranger: Add pod/container security context This updates the Ranger chart to include the pod security context on the pod template Change-Id: I00304483de5109e75860bde826ed18370610e286,0.19409596920013428
511,Remove note in README regarding security hardened images Support for security hardened images was delivered in Queens_ not as TechPreview Removing the section of README that indicates it is TechPreview Change-Id: I579b1fdedcd23f8d004bb9ca6c8fedd29c33ac7c,0.46041229367256165
512,Compare port security groups as sets Change-Id: Ifaf8dbf481b29db7ea203a669ba8a44b9720f4e8,0.1658191829919815
513,Change legacy security group rule check A neutron change_ https://reviewopendevorg/#/c/453346/ is standardizing the protocol name for IPv6 ICMP in security group rules to be 'ipv6-icmp'_ even if 'icmp' or 'icmpv6' was passed during creation Change the API test to check against a list of possible values so it covers both old and new behaviors Change-Id: I0ca8d743ca56f7d67ef8c1ae45ca518bd6e6dc35 Partial-Bug: #1582500,0.2966338098049164
514,Update images to pass security scan Change-Id: Ibd06325074805d80f2043e108ed212ac14e2b75a,0.3504384458065033
515,Fix LB failover for amphorav2: set security group Fix for the issue that an amphorav2 LB cannot be reached after loadbalancer failover The LB security group in was not set in the amphora port Fixed the v2 variant of UpdateVIPSecurityGroup to actually return the security group id (v1 already did) The flow created in get_failover_LB_flow uses UpdateVIPSecurityGroup which is supposed to provide VIP_SG_ID_ which is later needed in get_amphora_for_lb_failover_subflow as a requirement for CreateVIPBasePort Story: 2008735 Task: 42087 Change-Id: I1bb334ef0c11a79038b21a873a6675d76b0fbefc,0.19789376854896545
516,Divide-and-conquer security group beasts In one specific compute node_ the security group rules can be enormous quantity This patch adds a step-by-step processing method to deal with the large number of the security group rules And also changes or adds some LOG Related-Bug: #1813703 Related-Bug: #1813704 Related-Bug: #1813707 Conflicts: neutron/common/constantspy neutron/agent/common/ovs_libpy Conflicts: neutron/agent/securitygroups_rpcpy neutron/common/constantspy neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agentpy Conflicts: neutron/agent/common/ovs_libpy neutron/common/constantspy Change-Id: I57bf27ec75cf848271c5a28b22beee12b8bd5faa (cherry picked from commit 6ac420df7eb3ed324669472c61fec41b3d9cb35b) (cherry picked from commit f5d110e15f60753d056da942414ca6ecd6b78d8a) (cherry picked from commit 5424b9a68cb3ac1fcc04ed8ae603c421bde2dee3),0.28139567375183105
517,Use dynamic lazy mode for fetching security group rules In conjunction with the prior fix to only get a subset of fields when needed_ this makes the querying of non-rules SG objects very very fast Before the two fixes_ if you have about ten security groups with 2000 rules each: list all: 14s list all_ just 'id' field: 14s list one: 06s list one_ just 'id' field: 06s With just the previous partial fix: list all: 14s list all_ just 'id' field: 6s list one: 06s list one_ just 'id' field: 02s Now with this change: list all: 14s list all_ just 'id' field: 004s list one: 06s list one_ just 'id' field: 003s Closes-Bug: #1810563 Change-Id: I15df276ba7dbcb3763ab20b63b26cddf2d594954 (cherry picked from commit 1e9086f6e269f32d1cb19a0f55eb1f5dd73ca651),0.2523585557937622
518,Use dynamic lazy mode for fetching security group rules In conjunction with the prior fix to only get a subset of fields when needed_ this makes the querying of non-rules SG objects very very fast Before the two fixes_ if you have about ten security groups with 2000 rules each: list all: 14s list all_ just 'id' field: 14s list one: 06s list one_ just 'id' field: 06s With just the previous partial fix: list all: 14s list all_ just 'id' field: 6s list one: 06s list one_ just 'id' field: 02s Now with this change: list all: 14s list all_ just 'id' field: 004s list one: 06s list one_ just 'id' field: 003s Closes-Bug: #1810563 Change-Id: I15df276ba7dbcb3763ab20b63b26cddf2d594954 (cherry picked from commit 1e9086f6e269f32d1cb19a0f55eb1f5dd73ca651),0.2523585557937622
519,Change to use non-deprecated security group rule syntax --src-ip and --src-group were deprecated in 2016_ change to use --remote-ip and --remote-group_ respectively Related to https://reviewopendevorg/#/c/659400/ Change-Id: Ie609380b130410e3548eeacffd72871c6b5722ea,0.3590191900730133
520,Add remote_ip_prefix on security group rule Specify 'remote_ip_prefix' as '0000/0' on creating security group rule for exposing ports Change-Id: I6a5824090ab2ca5cbfc7f7e446bc8596dca8809c,0.12502813339233398
521,Postgresql: Fix security context This PS fixes the use of the security context macros for the postgresql chart Change-Id: I7d5080686e98837b95297b9a33e7241c79193830,0.19053369760513306
522,Kibana: Add security context to chart and read-only-fs This PS adds the security context macros to the Kibana chart_ and moves the default to read-only-rootfs for all containers Change-Id: Ie79e3bfc6af07b16cd53eddae17eceac3d9f8613,0.12557470798492432
523,ceph-osd: Fix security context This PS fixes the use of the security context macros for the ceph-osd chart Change-Id: I75cb057d08831fb39e9846fbab53e3ee6e113ada,0.2326461225748062
524,ceph-mon: Fix security context This PS fixes the use of the security context macros for the ceph-mon chart Change-Id: Ibde448481c44f2753ddfe57e590ea7d05671793a,0.23537814617156982
525,prometheus-process-exporter: Add pod/container security context This updates the prometheus-process-exporter chart to include the pod security context on the pod template This changes the pod's user from root to the nobody user instead This also adds the container security context to set allowPrivilegeEscalation to false and readOnlyRootFilesystem to true Change-Id: I623227f9f9c878a8e7745f46f2cc77f6904005fb,0.20952589809894562
526,OVSvApp Security Group Changes 1 OVSvApp Security Group Agent no longer override the security_group_*_updated methods from neutron's SecurityGroupAgentRpc 2 Neutron DB may report ports having more than one port bindings So ovsvapp routines that process port info needs accomodate the new structure Closes-bug: #1825421 Change-Id: I4a09731751d31f469b16477b3481aa6c001a6a5b (cherry picked from commit 82ae4151c61c87df6cba35bb3f64381967a2cb17),0.40118658542633057
527,OVSvApp Security Group Changes 1 OVSvApp Security Group Agent no longer override the security_group_*_updated methods from neutron's SecurityGroupAgentRpc 2 Neutron DB may report ports having more than one port bindings So ovsvapp routines that process port info needs accomodate the new structure Change-Id: I4a09731751d31f469b16477b3481aa6c001a6a5b,0.33066725730895996
528,controller_manager: Add pod/container security context This updates the controller_manager chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem to true Change-Id: Icee324ef7ddbd230c7c99f4dc284e2866d9acf1a,0.13332077860832214
529,Fix the bug of deleting a security group after testing changing password Before deleting a security group_ adding the logic of remove the security group from instance Change-Id: I3d4a3816196f42af3ea3f891473d09208651ae68,0.21430212259292603
530,Bug:2333131 Adding updated policy path for port security and security group Change-Id: I86c3d1cdfb8febb30359943c699f7de73edbee7b,0.351141095161438
531,Ceph-provisioners: Fix security context This PS fixes the use of the security context macros for the ceph-provisioners chart Change-Id: Iddeb643139f2e7798282e67e319f38d3a22cd10d,0.2791372537612915
532,Elasticsearch: Fix security context This PS fixes the use of the security context macros for the elasticsearch chart Change-Id: I85a37aa4dec88222107323f17d10e5ff29f41648,0.22508913278579712
533,"Ingress: Add pod/container security context - deployment-erroryaml - deployment-ingressyaml This updates the ingress-error chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem to true removing readOnlyRootFilesystem flag for ingress since pods are running to ""crashLoopBackOff"" state by implementing HTK functionality Change-Id: I28171d529a27c3f203b02c031a6cf289fcc5f3e6",0.1667720079421997
534,Allow configuring security options Change-Id: I27c202344c1e8be5f0e0da710c8fb18f0bc398b9 (cherry picked from commit 9b8c252b75572b8b4b80c419de913d11c7236983),0.3958224654197693
535,Fluent-logging: Fix security context This PS fixes the use of the security context macros for the fluent-logging chart Change-Id: I2cd12015732bddb642136ba14f88ed2c248d519d,0.12776777148246765
536,Memcached: Fix security context This PS adds the missing allowPrivilegeEscalation flag in container securityContext Change-Id: Ie10951bd43de563fec09795feedc0050dcd4ebbe,0.16615575551986694
537,[Policy] Converting port security tests to policy Change-Id: Ib7b35c1bb898203ed2ff5937c8652338dfdc9b47,0.22841937839984894
538,Allow configuring security options Change-Id: I27c202344c1e8be5f0e0da710c8fb18f0bc398b9,0.24942848086357117
539,prometheus: Fix security context This PS fixes the use of the security context macros for the prometheus chart Change-Id: I0abb309132a9954a140cbf76463724c5e2c7c5f3,0.33060431480407715
540,prometheus-alertmanager: Fix security context This PS fixes the pod application name and also adds security context to initcontainer Change-Id: Ia7cd5057247b0a07f88406259d41601659688f1a,0.22434471547603607
541,prometheus-kube-state-metrics: Fix security context This PS fixes the application name to holistic manner Change-Id: Ib68c6fc114962fd53a5fcd2ce9e79bfefd5d94a3,0.31870561838150024
542,prometheus-node-exporter: Fix security context This PS fixes the use of the security context macros for the node-exporter chart Change-Id: I7009a5675096036ac9f214d70c853830b7132264,0.2955557405948639
543,Nagios: Fix security context This PS fixes the use of the security context macros for the nagios chart Change-Id: Ibe7ca7b87153f4e5535b9c8b1bf1ba63edb5e3af,0.16821059584617615
544,Kibana: Fix security context This PS fixes the use of the security context macros for the Kibana chart Change-Id: Iaad821ac3df7e42eb52ba2f274fe47e4847d30af,0.1572219580411911
545,prometheus-openstack-exporter: Fix security context This PS fixes the use of the security context macros for the openstack-exporter chart Change-Id: I91e9f6810442477c167a07e2d8ffa4f01beb66d3,0.29675060510635376
546,ceph-rgw: Add pod/container security context This updates the ceph-rgw chart to include the pod security context on the pod template This also adds the container security context to set allowPrivilegeEscalation to false and readOnlyRootFilesystem to true Change-Id: Ic75a1decfe156e1e8aa2ebe38238f6b77abb71f8,0.1727220118045807
547,Libvirt: Fix security context This PS fixes the use of the security context macros for the libvirt chart Change-Id: I3340742a0eaf9cffa9263642fd2b987363128ed5,0.19640661776065826
548,Update security sig frequency and chair This change updates the security sig irc meeting details_ both the chair to the current chair and the meeting frequency to the new proposed monthly_ keeping the same time/day Change-Id: I13ef2f0808184f242fecac623cb40e63a13a6542,0.30547741055488586
549,Don't try to create default SG when security groups are disabled If security group API is disabled_ there is no point to create default security group for tenant when eg network is created Closes-Bug: #1913297 Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa (cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae),0.2001621127128601
550,Registry: Add pod/container security context This updates the registry chart to include the pod security context on the pod template This also adds the container security context to set allowPrivilegeEscalation to false Change-Id: I36b6a2cf291dda2f991843c07ba116f3bf936d03,0.13637825846672058
551,Ceph-Client: Add security context to ceph-client chart and read-only-fs This PS adds the security context macros to the ceph-client chart_ and moves the default to read-only-rootfs for all containers Change-Id: I2fe03f31cc59e1cda2bf0396ae6e3aca5c440a16 Signed-off-by: Pete Birley <pete@portdirect>,0.16331520676612854
552,Calico: Fix security context Change-Id: I2ed8a5e994726b625d76a2c308895441c7d174a9 Signed-off-by: Pete Birley <pete@portdirect>,0.22159633040428162
553,OpenvSwitch: use security context macros This PS updates to use security context macros from HTK_ in line with other charts Change-Id: I5ca0af17eccc4856baef871cf199554aad075ebe Signed-off-by: Pete Birley <pete@portdirect>,0.16533592343330383
554,Postgresql-exporter: Add security context for pod/container This adds a security context to the postgresql exporter_ which changes the pod's user from root to the nobody user instead This also adds the container security context to set allowPrivilegeEscalation to false and readOnlyRootFilesystem to true Change-Id: Ibe49f77ed2d0a588b5abe175318edd1c82a57cca,0.0897534042596817
555,Prometheus: Add pod/container security context This updates the prometheus chart to include the pod security context on the pod template This changes the pod's user from root to the nobody user instead This also adds the container security context to explicitly set allowPrivilegeEscalation to false and readOnlyRootFilesystem to true Change-Id: I2a3a4b77d9b25c086dc23b4fd66dca92872c422d,0.24502572417259216
556,Enhance updating a group and security policy - Allow updating a group and conditions in a single request - Allow updating a security policy with entries in a single request Change-Id: Ifb643365a0072e4b7094d09b0a632a2e3a1306b0 (cherry picked from commit e55f95e2904454ee782461438d9e790659f44956),0.2915226221084595
557,Enhance updating a group and security policy - Allow updating a group and conditions in a single request - Allow updating a security policy with entries in a single request Change-Id: Ifb643365a0072e4b7094d09b0a632a2e3a1306b0,0.24711960554122925
558,Implement Security Context for Neutron Implement container security context for the following Neutron resources: - Neutron server deployment Change-Id: I221bdb54b1e94e4089fb079f161dcb4de4dd3571,0.2817685306072235
559,Promenade: Add security context for pod/container This adds a security context to the promenade chart_ which changes the pod's user from root to the nobody user instead This also adds the container security context to set allowPrivilegeEscalation to false and readOnlyRootFilesystem to true Change-Id: I269d034f6f8a1c14f2897bb375e899abc99e0c01,0.07170504331588745
560,ceph-provisioners: Add pod/container security context This updates the ceph-provisioners chart to include the pod security context on the pod template This also adds the container security context to set allowPrivilegeEscalation to false and readOnlyRootFilesystem to true Change-Id: Iee49ffe17f2cd08fc978461269b654d3b2cb4406,0.1919824331998825
561,Tiller: Add pod/container security context This updates the tiller chart to include the pod security context on the pod template This also adds the container security context to set allowPrivilegeEscalation to false Change-Id: Ic0d87ba2e933444ebe8a6d59d7bb74aae81a051d,0.15817715227603912
562,elasticsearch-exporter: Add security context for exporter pod/container This adds the security context snippet for the elasticsearch prometheus exporter container to set allowPrivilegeEscalation to false and readOnlyRootFilesystem to true Change-Id: Ia80aa9cfc837073fae0a884de5245764147d7ded,0.20053362846374512
563,Set random security policy rule id if not set in build_entry Change-Id: I4fde9dba80b78d841cad9d48ae1dcc80718adcaa (cherry picked from commit adadd2a94790cec1dced544f478d12523d71c236),0.2721807062625885
564,Set random security policy rule id if not set in build_entry Change-Id: I4fde9dba80b78d841cad9d48ae1dcc80718adcaa,0.2030523121356964
565,NSX|P: Fix removal of provider security groups from port Change-Id: I74e39328858fe91515f7796d3bef80de934843c4,0.29601365327835083
566,NSX|P: Fix removal of provider security groups from port Change-Id: I74e39328858fe91515f7796d3bef80de934843c4,0.29601365327835083
567,Fix update_entries in security policy When updating entries in a security policy_ if there are old entries in the update list_ we need to preserve the attributes of those old entries (such as revision) in the update request Otherwise MP will complain rule already exists Change-Id: Ia9a30c725f1c9d83d5370216d4b87e493ad6c84b (cherry picked from commit e88d308651e1af06c9320fa28ce1a44be61eaa5f),0.35133832693099976
568,Divide-and-conquer security group beasts In one specific compute node_ the security group rules can be enormous quantity This patch adds a step-by-step processing method to deal with the large number of the security group rules And also changes or adds some LOG Related-Bug: #1813703 Related-Bug: #1813704 Related-Bug: #1813707 Conflicts: neutron/common/constantspy Change-Id: I57bf27ec75cf848271c5a28b22beee12b8bd5faa (cherry picked from commit 6ac420df7eb3ed324669472c61fec41b3d9cb35b),0.2779495120048523
569,Fix update_entries in security policy When updating entries in a security policy_ if there are old entries in the update list_ we need to preserve the attributes of those old extries (such as revision) in the update request Otherwise MP will complain rule already exists Change-Id: Ia9a30c725f1c9d83d5370216d4b87e493ad6c84b,0.3189285397529602
570,Divide-and-conquer security group beasts In one specific compute node_ the security group rules can be enormous quantity This patch adds a step-by-step processing method to deal with the large number of the security group rules And also changes or adds some LOG Related-Bug: #1813703 Related-Bug: #1813704 Related-Bug: #1813707 Conflicts: neutron/common/constantspy Conflicts: neutron/agent/securitygroups_rpcpy neutron/common/constantspy neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agentpy Conflicts: neutron/agent/common/ovs_libpy neutron/common/constantspy Change-Id: I57bf27ec75cf848271c5a28b22beee12b8bd5faa (cherry picked from commit 6ac420df7eb3ed324669472c61fec41b3d9cb35b) (cherry picked from commit f5d110e15f60753d056da942414ca6ecd6b78d8a) (cherry picked from commit 5424b9a68cb3ac1fcc04ed8ae603c421bde2dee3),0.27538731694221497
571,Divide-and-conquer security group beasts In one specific compute node_ the security group rules can be enormous quantity This patch adds a step-by-step processing method to deal with the large number of the security group rules And also changes or adds some LOG Related-Bug: #1813703 Related-Bug: #1813704 Related-Bug: #1813707 Conflicts: neutron/common/constantspy Conflicts: neutron/agent/securitygroups_rpcpy neutron/common/constantspy neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agentpy Change-Id: I57bf27ec75cf848271c5a28b22beee12b8bd5faa (cherry picked from commit 6ac420df7eb3ed324669472c61fec41b3d9cb35b) (cherry picked from commit f5d110e15f60753d056da942414ca6ecd6b78d8a),0.2690662741661072
572,Divide-and-conquer security group beasts In one specific compute node_ the security group rules can be enormous quantity This patch adds a step-by-step processing method to deal with the large number of the security group rules And also changes or adds some LOG Related-Bug: #1813703 Related-Bug: #1813704 Related-Bug: #1813707 Change-Id: I57bf27ec75cf848271c5a28b22beee12b8bd5faa (cherry picked from commit 6ac420df7eb3ed324669472c61fec41b3d9cb35b),0.23147031664848328
573,HTK: Update k8s-entrypoint container macro to add security context This PS updates the htk k8s-entrypoint container macro to add security context_ with a set of defaults to allow operation with existing charts Change-Id: Ib41600e2e3c848ae0d62181ad7e01f3cf00a26a0 Signed-off-by: Pete Birley <pete@portdirect>,0.19623035192489624
574,WIP: Mariadb: Add security policy functions Change-Id: Ic0f035e0281281fb3f2977ea130385f65c9a04e4 Signed-off-by: Pete Birley <pete@portdirect>,0.21952246129512787
575,Add Security Headers into Ranger-Agent Change-Id: I427424702597e9b1bdcbb1d67d1863c13322f025,0.25105804204940796
576,Divide-and-conquer security group beasts In one specific compute node_ the security group rules can be enormous quantity This patch adds a step-by-step processing method to deal with the large number of the security group rules And also changes or adds some LOG Related-Bug: #1813703 Related-Bug: #1813704 Related-Bug: #1813707 Change-Id: I57bf27ec75cf848271c5a28b22beee12b8bd5faa,0.23328238725662231
577,"Enable security group support for OVS agent The neutron OVS firewall_driver driver is currently set to noop since there is no suitable firewall driver packaged The security group support for OVS agent is now enabled with the native ""openvswitch"" firewall driver_ which is stateful and based on openflow + conntrack implementation Change-Id: Ie49ea124b3dd1ad2c5d405274fa891d88c7e39bf Story: 2002944 Task: 22937",0.2419215589761734
578,Adds HTTP Security Headers Adds HTTP security headers to Shipyard API handling Change-Id: Ia68d2364d40c0a1e528f0f27d1ce999981a0b5bf,0.324390709400177
579,Ignore case in security group rule --ethertype Currently_ this only allows 'IPv4' or 'IPv6'_ but one can imagine a user frequently typing eg 'ipv6' and getting frustrated Allow any case_ while still keeping correct case for the choices and the value sent to Neutron Change-Id: I70ce1f43d32aad01b174437d03c984a5b608b161,0.13675937056541443
580,Remove security squad from list The squad is being disbanded for the time being Change-Id: I6527a8bf34ec7bb0ebaaa12cf9f57498b042f28a,0.2710042893886566
581,NSX|P: Fix provider security groups 1 Add unit tests 2 Change rules action to Block 3 Fix _build_port_tags not to add the provider SG to the list of port SGs Change-Id: I7c36dbf463f019310c6c83233b1806f87c366559,0.2679328918457031
582,WIP: API v244 update_ security service 'ou' field Change-Id: I03c0cb01cc04745e67d94a45e3f7570c1609ede0,0.32305437326431274
583,Add security add/update services for in-use share networks This change adds two new commands to the client: - `share-network-security-service-update` - `share-network-reset-state` Partially Implements: bp add-security-service-in-use-share-networks Co-Authored-By: Carlos Eduardo <ceseduardo98@gmailcom> Co-Authored-By: Andre Beltrami <debeltrami@gmailcom> Depends-On: I129a794dfd2d179fa2b9a2fed050459d6f00b0de Change-Id: Ib7b67b4c0ce9b16e1ee4a8291cb48c0b1c7ca367,0.20276270806789398
584,WIP Add security service update support to the container driver This implementation adds the functionality to add/update security services to in use share networks using the container driver The container driver will also try to setup security services while creating share servers Currently_ the only supported security service type is LDAP Co-Authored-By: Carlos Eduardo <ceseduardo98@gmailcom> Partially Implements: bp add-security-service-in-use-share-networks Depends-On: I129a794dfd2d179fa2b9a2fed050459d6f00b0de Change-Id: Ifb8b9ebe6eb0661844c794ca1a32e35105652f72,0.22583633661270142
585,NSX-P Automation Patch Added nsxp client support for router and security group api cases Change-Id: I88cf258557a0fed54a4c7954e362c4c05cd51b5e,0.2081557810306549
586,Fix TF DNS port's security groups Set the TungstenFabric DNS placeholder port's security-groups to an empty list to avoid unexpected implicit behavior Change-Id: I04326df6e391b1c17989558da447f258f5b77d3d,0.20123091340065002
587,Allow updating a single rule entry in a Security Policy Change-Id: I0ce43ba8d664e4260f8bdf20fdecfa74f68cb4b8,0.25601398944854736
588,Add bandit for security static analysis This change adds a basic bandit config for cloudkitty It can be invoked by running the tox environment for bandit; tox -e bandit Change-Id: Iae7d7604457345fe6d482cf48311c9b75fdde947,0.20792099833488464
589,WIP: Use Octavia's project for lb security group ops The security group is created under the service tenant but the operations are being run as the admin tenant causing rule creation operations to fail Change-Id: I3cb1918d94ab56fc96663ae3db6015bcd5c9c547 NOTE: needs a bug,0.1381487250328064
590,Implement Security Context for Heat Implement container security context for the following Heat resources: - Heat server deployment Change-Id: I8202cd011f4c4f73d778c5f0ad2648440e259e5d,0.20635299384593964
591,Implement Security Context for Glance Implement container security context for the following Glance resources: - Glance server deployment Change-Id: I32b63226f5f2bcfff09f0b6760f5475ef7d1b5b5,0.2809290587902069
592,Implement Security Context for Heat Implement container security context for the following Heat resources: - Heat server deployment Change-Id: I4c1efb0807c56f750cc8d74155b96f06735e5051,0.20877568423748016
593,Implement Security Context for Keystone Implement container security context for the following Keystone resources: - Keystone server deployment Change-Id: Ia68b5ebe4d76e0405d67224d976fee013cc02d0b,0.19027605652809143
594,prometheus-kube-state-metrics: Add container security context This adds the container security context to set readOnlyRootFilesystem to true Change-Id: I1cc81e2284dbbe94739fd498ccfd3e0ee96dfdbd,0.25320765376091003
595,prometheus-alertmanager: Add container security context This adds the container security context to set readOnlyRootFilesystem to true Change-Id: Ic8d33ae817ace49bf5ead40b2b41c6002217aa5e,0.21561475098133087
596,prometheus-node-exporter: Add container security context This adds the container security context to set readOnlyRootFilesystem to true and allowPrivilegeEscalation to false Change-Id: I7b2f78b51b6ff219c371893f975a30fd89f1719b,0.22236338257789612
597,Make pod security policy job nonvoting check This moves the pod security policy job to a nonvoting check and removes it as a gating job This was overlooked previously Once the job has been vetted_ we can revisit potentially making it a voting and gating job This had been done previously_ but was overlooked in a change that reintroduced the podsecuritypolicy job as a voting check and gate Change-Id: I604efb9c608da69a04eaf87a54899cea34d7cd59,0.21572387218475342
598,Start running bandit security analyser Fix the path bandit was using to networking_ovn_ and add the package to test-requirementstxt so it's installed Also run it from the pep8 target now_ along with genconfig Change-Id: Ibaba1f5a446d9d109de1b41dbe4cad75cc15dbdf,0.25388240814208984
599,Better handle ports in security groups After taking a closer look at bug 1818385_ I found a couple of follow-on things to fix in the security group code First_ there are very few protocols that accept ports_ especially via iptables For this reason I think it's acceptable that the API rejects them as invalid Second_ UDPlite has some interesting support in iptables It does not support using --dport directly_ but does using '-m multiport --dports 123'_ and also supports port ranges using '-m multiport --dports 123:124' Added code for this special case Change-Id: Ifb2e6bb6c7a2e2987ba95040ef5a98ed50aa36d4 Closes-Bug: #1818385,0.18106132745742798
600,Kubernetes-keystone-webhook: Add security context This adds the security context to the kubernetes-keystone-webhook This changes the default user from root to the nobody user This also adds the container security context to explicitly set allowPrivilegeEscalation to false Change-Id: I54621e94f2866a4b4301baa6b570472c5fcda291,0.13844013214111328
601,Use dynamic lazy mode for fetching security group rules In conjunction with the prior fix to only get a subset of fields when needed_ this makes the querying of non-rules SG objects very very fast Depends-On: https://reviewopenstackorg/637389 Change-Id: I15df276ba7dbcb3763ab20b63b26cddf2d594954,0.20718048512935638
602,Manual Tests: Security Password rule setup Password rule sub-domain_ adding 6 test cases Change-Id: Iff7b9052a0dae4b2175d0f6eb3b167bf44a054db,0.13687743246555328
603,Make pod security policy job nonvoting check This moves the pod security policy job to a nonvoting check and removes it as a gating job This was overlooked previously Once the job has been vetted_ we can revisit potentially making it a voting and gating job Change-Id: I5d06343f94ae64355bce9d4f7862a8b18b5ea827,0.1867997944355011
604,Fix hyperlink reference to security section Change-Id: Id936885d51054a2c4aa93d4b2a051e9e5e37bce5,0.3513101041316986
605,Adding keystone authentication sub domain for Security TCs Change-Id: Ib3e179de4b814bce6b246686a956da588c12ec68,0.1443902850151062
606,Adding Appropriate File Access subdomain for Security Test Suite Change-Id: I4ee004cc457ce9af928311f12a23aa989e4b8f56,0.16713982820510864
607,Adding https sub-domain for Security test suite Change-Id: Ie5d5720355c06e73cc7b9b7f3d34f86f4de2e0b3,0.24577292799949646
608,Adding VM password protection sub-domain for Security test cases Change-Id: I4d9439e9a3e654bb4b8cf20cff5ec8131a8b6400,0.12883928418159485
609,Add security service update for in-use share networks This patch implements the update of security service's association with in-use share networks The following changes were added: - New share network APIs: `share_network_security_service_update` and `share_network_reset_state` - A new `status` attribute was added to share network model to identify when it's in a modification state_ called 'network_change' Other supported status that were added: 'active' and 'error' - New 'security_service_update_support' property was added to both share server and share network models_ to identify when this resources are able to process security service update for in-use share networks - New driver interface was added to support update of security service's configuration of a given share server DocImpact APIImpact Partially Implements: bp add-security-service-in-use-share-networks Co-Authored-By: Carlos Eduardo <ceseduardo98@gmailcom> Co-Authored-By: Douglas Viroel <viroel@gmailcom> Co-Authored-By: Andre Beltrami <debeltrami@gmailcom> Change-Id: I129a794dfd2d179fa2b9a2fed050459d6f00b0de,0.28196442127227783
610,[NetApp] Fix kerberos security service issues - Fixes the zapi calls for setting up a kerberos_ which have changed since ONTAP 83 - Fixes kerberos configuration cleanup when deleting a share server - Fixes access rules authentication methods for NFS when a share server is configured for Kerberos Change-Id: I60b4f92979045b1fdb90ad8df4f65c1dfe463ae8 Closes-Bug: #1901189 Closes-Bug: #1904746 Closes-Bug: #1907669 Co-Authored-By: Felipe Rodrigues <felipefuty01@gmailcom> Signed-off-by: Douglas Viroel <viroel@gmailcom>,0.27508997917175293
611,[NetApp] Fix security service configuration for LDAP servers This patch fixes some issues with LDAP client configuration on ONTAP SVMs With ldap security service_ users should be able to configure a LDAP client that can be used for authentication and name mapping The name service switch order remains: ldap_files Issues fixed: - The driver now identifies when user provide a Active Directory domain or a Linux/Unix LDAP server IP and sets the correct schema - LDAP configuration parameter `servers` was replaced by `ldap-servers` in ONTAP 92_ and now accepts host names too - Fix DNS configuration for LDAP security service - User can now specify base search DN for LDAP queries_ which can be mandatory for Unix/Linux servers_ using the security service `ou` parameter Closes-Bug: #1916534 Change-Id: Ieaa53abbe50e7b708e508c132dfc4bb36b71a4f5 Signed-off-by: Douglas Viroel <viroel@gmailcom>,0.24892088770866394
612,Add security checklist to Keystone This charm adds the general ownership audits_ as well as keystone specific security checklist audits Change-Id: Iee093b36c54081f14a07c95e677ea08c72d72ca4,0.20129169523715973
613,NSX|P: Add scope to security group rules Distributed firewall rules better have the scope of the security group so that it will match only relevant ports Same for the default section rules that should match only openstack traffic Depends-on: I492e0f9b7bfae8507ee11634f405a8f0f6669d04 Change-Id: I04b2a6e73317750e2cf368ce3ca0008106b38ce6,0.15533235669136047
614,Add function to get security policy rule Add function to get a specific security policy rule Change-Id: I07da7baba990206087cf9a67e3baea92d67a4884,0.13451246917247772
615,Implement Security Context for Memcached Implement a pod security context for the following Memcached resources: - Memcached server deployment Change-Id: I8628ceb246e7c435a2ddd20bf1bcecd94db8ea26,0.13017520308494568
616,Support ip version in policy security rules Change-Id: I97bcbd99fcced02592a6e5f10d0d43a3e99efbe6,0.23323936760425568
617,[k8s-fedora-atomic] Security group definition for worker nodes Rather than allowing all the inbound traffic to worker nodes_ this patch explicitly defines the security group rules Change-Id: Idbc67cb95133d3a4029105e6d4dc92519c816288,0.30886322259902954
618,Add Security Group integration tests Change-Id: Ief0a44e7908e8e77c951f245ab7cc581f6dbec09,0.25402528047561646
619,Add 'unknown' to the address list if the port's port security is disabled When a port's port security is disabled then the port should be allowed to use any mac address And for this to work_ OVN expects 'unknown' address to be added into the Logical_Switch_Portaddresses column This patch adds this 'unknown' address if the port security is disabled Change-Id: I5f25f4d4b2acccada3ab2944e9cfd2461149ef3e Closes-bug: #1815270,0.2308562844991684
620,Fix provider security group exception call Change-Id: I02de68b4b457757ccd1c25535e8d2dd4d732ee36,0.24705146253108978
621,Fix provider security group exception call Change-Id: I02de68b4b457757ccd1c25535e8d2dd4d732ee36,0.24705146253108978
622,Fix provider security group exception call Change-Id: I02de68b4b457757ccd1c25535e8d2dd4d732ee36,0.24705146253108978
623,Upgrade Flask version due to security concerns Change-Id: I080716f5fcdea5d50b4a5c30ffb9c83ab501da46,0.33049583435058594
624,HTK: Update pod security context snippet This PS updates the pod security context snippet to support a more sane values layout Change-Id: Id25441802a23e2dd00ad656cec2428432359dbe5 Signed-off-by: Pete Birley <pete@portdirect>,0.2832029461860657
625,HTK: Fix k8s pod security context example This PS fixes the k8s prod security context example Change-Id: I1b1d6875dda852bebb428708d4acf9c460360510 Signed-off-by: Pete Birley <pete@portdirect>,0.2309805154800415
626,V2T migration: Validate direct vnic ports security disabled Change-Id: I66a8b2efe6d882c5247fdf9b2d118b0212ab31a7,0.24967600405216217
627,V2T migration: Validate direct vnic ports security disabled Change-Id: I66a8b2efe6d882c5247fdf9b2d118b0212ab31a7,0.24967600405216217
628,V2T migration: Validate direct vnic ports security disabled Change-Id: I66a8b2efe6d882c5247fdf9b2d118b0212ab31a7,0.24967600405216217
629,V2T migration: Validate direct vnic ports security disabled Change-Id: I66a8b2efe6d882c5247fdf9b2d118b0212ab31a7,0.24967600405216217
630,doc: update the security groups admin doc This makes the following changes: * re-orders the page to move the nova-network specific information to the bottom * creates two sections: one for CLI and one for nova-network * mentions at the top that by default neutron manages security groups and their quota and links to the neutron docs * drops the mention of the 'nova' CLI since there are no examples in this doc using that CLI Change-Id: Ifd23424ac14bacf4bf7a0716c268f48ec869a41e,0.2854079008102417
631,Fix security group broken code & tests Commit I34e41a128f28211f2e7ab814a2611ce22620fcf3 broke the MH plugin security groups + some other SG tests This patches fixes those Change-Id: I9634583ce22f4c1be53283495426905979c9ea81 (cherry picked from commit baafb2a16ab110b0dbb383a140d8055671c3714a),0.4336484670639038
632,Fix security group broken code & tests Commit I34e41a128f28211f2e7ab814a2611ce22620fcf3 broke the MH plugin security groups + some other SG tests This patches fixes those Change-Id: I9634583ce22f4c1be53283495426905979c9ea81 (cherry picked from commit baafb2a16ab110b0dbb383a140d8055671c3714a),0.4336484670639038
633,Fix security group broken code & tests Commit I34e41a128f28211f2e7ab814a2611ce22620fcf3 broke the MH plugin security groups + some other SG tests This patches fixes those Change-Id: I9634583ce22f4c1be53283495426905979c9ea81 (cherry picked from commit baafb2a16ab110b0dbb383a140d8055671c3714a),0.4336484670639038
634,Fix security group broken code & tests Commit I34e41a128f28211f2e7ab814a2611ce22620fcf3 broke the MH plugin security groups + some other SG tests This patches fixes those Change-Id: I9634583ce22f4c1be53283495426905979c9ea81,0.41530370712280273
635,Fix performance regression adding rules to security groups Sometime between liberty and pike_ adding rules to SG's got slow_ and slower with every rule Streamline the rule create path_ and get close to the old performance back Two performance fixes: 1 Get rid of an n^2 duplicate check_ using a hash table instead_ on bulk creates This is more memory intensive than the previous loop_ but usable far past where the other becomes too slow to be useful 2 Use an object existence check in a few places where we do not want to load all of the child rules Co-Authored-By: William Hager <whager@salesforcecom> Change-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3 Closes-bug: 1810563 (cherry picked from commit 2eb31f84c9a6c9fc6340819f756a7a82cbf395f3),0.22343061864376068
636,Fix performance regression adding rules to security groups Sometime between liberty and pike_ adding rules to SG's got slow_ and slower with every rule Streamline the rule create path_ and get close to the old performance back Two performance fixes: 1 Get rid of an n^2 duplicate check_ using a hash table instead_ on bulk creates This is more memory intensive than the previous loop_ but usable far past where the other becomes too slow to be useful 2 Use an object existence check in a few places where we do not want to load all of the child rules Co-Authored-By: William Hager <whager@salesforcecom> Change-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3 Closes-bug: 1810563 (cherry picked from commit 2eb31f84c9a6c9fc6340819f756a7a82cbf395f3),0.22343061864376068
637,Fix performance regression adding rules to security groups Sometime between liberty and pike_ adding rules to SG's got slow_ and slower with every rule Streamline the rule create path_ and get close to the old performance back Two performance fixes: 1 Get rid of an n^2 duplicate check_ using a hash table instead_ on bulk creates This is more memory intensive than the previous loop_ but usable far past where the other becomes too slow to be useful 2 Use an object existence check in a few places where we do not want to load all of the child rules Co-Authored-By: William Hager <whager@salesforcecom> Change-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3 Closes-bug: 1810563 (cherry picked from commit 2eb31f84c9a6c9fc6340819f756a7a82cbf395f3),0.22343061864376068
638,Horizon: Expose additional security config params Expose additional Horizon security params in accordance with the OpenStack Security Guide [0] - Check-Dashboard-03: Is DISALLOW_IFRAME_EMBED parameter set to True - Check-Dashboard-07: Is PASSWORD_AUTOCOMPLETE set to False [0] https://docsopenstackorg/security-guide/dashboard/checklisthtml Change-Id: I355ddbc9fb1dcd0a6100ee650afd54680ef9ffbd,0.2534163296222687
639,Add Security Group scenarios to rally-jobs This commit adds security group related rally scenarios to CI Change-Id: I11fd3a6d30f743dbeea923407bc72753ba488da4,0.2667107582092285
640,Horizon: Expose security config params This PS exposes security related config params Change-Id: Ia6d2e089301cfc8fd809380ad3f31c6e37dc5607 Signed-off-by: Pete Birley <pete@portdirect>,0.22676101326942444
641,Restore tenant_id check on security group rule adds to previous semantic We switched from swapping the tenant_id in the context to explicitly checking the db column Switch back Change-Id: I6af4d414b1972e14692a8356ef95db7323e3a09a,0.18597960472106934
642,Misc updates to security and configuration documentation - Improve docs on ARA_ENV - Refresh outdated defaults - Fix broken link on ara-web git repo Change-Id: Ib882dc7415cc7b50f35a3a6bfbf1bc0fbe401dc8,0.4458252191543579
643,First iteration of authentication and security docs This is a first iteration on basic security and authentication documentation It documents the security settings users might want to pay attention to and explains how to configure them Change-Id: I694eb1a2aa03193335f11cbda40ed6962357c428,0.23084786534309387
644,Fix performance regression adding rules to security groups Sometime between liberty and pike_ adding rules to SG's got slow_ and slower with every rule Streamline the rule create path_ and get close to the old performance back The most controversial change is likely using the sqla db models to write the rules instead of the neutron objects Restoring that part loses some performance_ but keeps most of it_ so if that interface is important_ we can do that Change-Id: I34e41a128f28211f2e7ab814a2611ce22620fcf3 Closes-bug: 1810563,0.23696330189704895
645,Include latest security updates when building image Change-Id: I529c159d8a0c8c238a1da15b86d75bbe9bbc6435,0.4300369322299957
646,Implement secure RBAC for security services This commit updates the policies for security services to understand scope checking and account for a read-only role This is part of a broader series of changes across OpenStack to provide a consistent RBAC experience and improve security Change-Id: I399a61691dad3a80c289c9f3f99f3c48be07846f,0.2696017324924469
647,"Improve security by avoiding buffer overflows This patch adds compiler flags to improve the security of STX code Flags added: Format string vulnerabilities: CFLAGS=""-Wformat -Wformat-security"" Compiler will treat string format warnings as errors_ so at compiling level_ buffer overflow is avoided Story: 2004380 Task: 28823 Signed-off-by: Luis Botello <luisbotelloortega@intelcom> Reviewed-by: Erich Cordoba <erichcordobamalibran@intelcom> Victor Rodriguez <vmrod25@gmailcom> Suggested-by: Victor Rodriguez <vmrod25@gmailcom> Erich Cordoba <erichcordobamalibran@intelcom> Change-Id: I45a0002288db434bc79c477c231f900e477347a1",0.19525669515132904
648,"This patch adds compiler flags to improve the security of STX code Flags added: Format string vulnerabilities: CFLAGS=""-Wformat -Wformat-security"" Compiler will treat string format warnings as errors_ so at compiling level_ buffer overflow is avoided Story: 2004380 Task: 28808 Signed-off-by: Luis Botello <luisbotelloortega@intelcom> Reviewed-by: Erich Cordoba <erichcordobamalibran@intelcom> Victor Rodriguez <vmrod25@gmailcom> Sugested-by: Victor Rodriguez <vmrod25@gmailcom> Erich Cordoba <erichcordobamalibran@intelcom> Change-Id: I7e844718e14b35893f9eeb725e32d9d7477f0d57",0.19224074482917786
649,"Improve security by avoiding buffer overflows This patch adds compiler flags to improve the security of STX code Flags added: Format string vulnerabilities: CFLAGS=""-Wformat -Wformat-security"" Compiler will treat string format warnings as errors_ so at compiling level_ buffer overflow is avoided Story: 2004380 Task: 28806 Signed-off-by: Luis Botello <luisbotelloortega@intelcom> Reviewed-by: Erich Cordoba <erichcordobamalibran@intelcom> Victor Rodriguez <vmrod25@gmailcom> Sugested-by: Victor Rodriguez <vmrod25@gmailcom> Erich Cordoba <erichcordobamalibran@intelcom> Change-Id: Ia1ffaf18e7050d9099b80f9023b2bf255b4750fa",0.18869981169700623
650,Increase size for security hardened images With the move to containers there has been an increase of demand on the /var volume Increase the global size_ as well as give more percentage to /var and reduce /root Also fix fsck-passno setting_ that was incorrectly set Change-Id: I8d820f668ffffe5993d5fef38e0c1e8c5f5862ec Depends-On: Ib806bac815077c2508060719469b5d0f1acc0f99 (cherry picked from commit aa19a7f92af8d7683b84221550f3850ceec85363) (cherry picked from commit 9f1c8002385be0173dee1b5c6e2ce33530c20101),0.3272002935409546
651,Increase size for security hardened images With the move to containers there has been an increase of demand on the /var volume Increase the global size Change-Id: Ib806bac815077c2508060719469b5d0f1acc0f99 (cherry picked from commit 83c7887ffb361b33cd150098708fe3e06ea5e77b) (cherry picked from commit a32cbdee414f9bd20f03fe7eebb3e13cde5ca9e8),0.29521453380584717
652,Fluentd: Add security context for pod uids This adds the security context snippet to the fluentd and fluentd exporter templates This changes the users for these two pods from root to the nobody user instead Change-Id: Ibf1da152f4aa78d425bbd00f514c2787d8ad9c5f,0.09293203800916672
653,Grafana: Add container security context This adds the container security context to grafana_ which explicitly sets allowPrivilegeEscalation to false Change-Id: I3723a0c96699b9a517dafa2df08bf8cc916bf117,0.2113245129585266
654,Openstack exporter: Add security context for pod uid This adds a security context to the openstack exporter_ which changes the pod's user from root to the nobody user instead Change-Id: Ie3f105ee8b489f7641b5b7256a2023ae35257343,0.16246071457862854
655,Mariadb: Add security context for mysql exporter uid This adds a security context to the mysql prometheus exporter pod_ which changes the user from root to the nobody user (uid 99 here) instead Change-Id: I5ddebb059e3c31c231fdc4c24190a65f23e37785,0.1400853991508484
656,Memcached: Add security context for exporter pod uid This adds the security context to the memcached prometheus exporter pod_ which changes the default user from root to the nobody user instead Change-Id: I3401c1a67f17cef49a478be98f9ab42691b84d66,0.15698419511318207
657,Alertmanager: Add security context snippet for pod uid This adds the security context snipper to the alertmanager pod This changes the default user from root to the nobody user instead Change-Id: Ie4423c57e871a03ab4baea346ac777c9f2ca3e2e,0.1061733290553093
658,Elasticsearch: Add security context for exporter pod uid This adds the security context snippet for the elasticsearch prometheus exporter pod This changes the pod's user from root to the nobody user instead Change-Id: If692fccaf4dd362b28fecb4656036289a3a97122,0.2022368609905243
659,Kube-State-Metrics: Add pod security context for pod user This updates the kube-state-metrics chart to include the pod security context on the pod template This changes the pod's user from root to the nobody user instead Change-Id: I17748b299a6e7a394cae63a0e713c49fbf68b4eb,0.16468149423599243
660,Increase size for security hardened images With the move to containers there has been an increase of demand on the /var volume Increase the global size Change-Id: Ib806bac815077c2508060719469b5d0f1acc0f99 (cherry picked from commit 83c7887ffb361b33cd150098708fe3e06ea5e77b),0.31200110912323
661,Increase size for security hardened images With the move to containers there has been an increase of demand on the /var volume Increase the global size_ as well as give more percentage to /var and reduce /root Also fix fsck-passno setting_ that was incorrectly set Change-Id: I8d820f668ffffe5993d5fef38e0c1e8c5f5862ec Depends-On: Ib806bac815077c2508060719469b5d0f1acc0f99 (cherry picked from commit aa19a7f92af8d7683b84221550f3850ceec85363),0.31430163979530334
662,Grafana: Add pod security context for grafana user This updates the Grafana chart to include the pod security context on the grafana pod This changes the pod's user from root to the grafana user instead Change-Id: Id64853640f1941001b83566865defe93227b4291,0.17641039192676544
663,[WIP] NSX|P add port security profiles Change-Id: Ief4a3989316f7b7097c5be6145aae169cde87e8e,0.1328662782907486
664,NetApp ONTAP: cifs add AD security service server as preferred DC multiple comma separated entries can be given Change-Id: I9d6c79704d0ceb7a6fdc18035992e707327dd908 Closes-Bug: #1804651,0.1319471150636673
665,Helm-toolkit: Fix hasKey call for security context snippet This fixes the hasKey call in the pod security context snippet template_ as the call requires 2 args: a map and a key This addresses the problem by indexing the provided map on the application key_ before passing it to the hasKey call Change-Id: I95264c933b51e2a8e38f63faa1e239bb3c1ebfda,0.17705248296260834
666,Add authtoken security options Add ability to specify the memcache_security_strategy and memcache_secret_key for keystone authtoken middleware The keys for individual services are hashed with a salt_ to isolate them Change-Id: I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7 (cherry picked from commit 59b54b6f46b2089b0480a276463f8d5d1de9f307),0.050654102116823196
667,[DNM] [WIP] Please ignore -- [OVN] security group logging support Change-Id: Ic86fa70eb34c9b178267b80de1f8883a3ef03e98,0.35202446579933167
668,[OVN] security group logging support (1 of 3) This patchset 1 of 3 for OVN driver handling of security-group-logging It includes the design documentation for this feature Related-Bug: 1914757 Partially-implements: https://reviewopendevorg/c/openstack/neutron-specs/+/203509 Change-Id: I95d57613cef3b6892d3a0dd5705e2e8f3386a3a2,0.29713761806488037
669,Update test cases after security group menthods improvements Change-Id: I8589b31db996702c3da2235fa72182badfd84c02,0.351176381111145
670,[WIP] Add security groups driver for NP This commit creates a new security group driver for handling network policies sg and sg rules Change-Id: Ie4dfac39704f4bbfb31eb329cd43ab8a06addf0d,0.1628849357366562
671,Set admin security context in the action execution checker thread Change-Id: I4c7abff04b8797618294d9e13fbec4b5876bcdb6 Closes-Bug: #1805080,0.12726694345474243
672,[doc] Fix: Modify the content of the configure access and security for instance Step 7 of 'Add a key pair' instructs end users to respond to the prompt to download but Horizon now automatically download Key pair and no prompt to download the key pair is displayed This patch updates the doc correctly Change-Id: Ic96de6983c7d95c4eca19ae0b6e3d1c700aac9b5 Closes-Bug: #1804139,0.3587796688079834
673,Set admin security context in the action execution checker thread Change-Id: I4c7abff04b8797618294d9e13fbec4b5876bcdb6 Closes-Bug: #1805080,0.12726694345474243
674,Set correct switch security profile when port sec disabled Ensure that the swicth security profile does not have any security features on it when port security is disabled Change-Id: Ib3aa7f3b960d3a03d1c9eb24ce376b311abd9324,0.1176903247833252
675,[cleanup]catch the exception while there is not any neutron security group In some environment_ the security group is not configured_ so we need to catch the exception which is raised by security group list Change-Id: Iaa5d2af6040a54011b8cbf788797c2c199f30ab4,0.2853502929210663
676,Add security groups tests Pre test: two VMs created_ one of them with blank sg verify there is ping only to one of the VMs Post test: verify status is the same and add rules to the blank sg to allow ICMP verify ping is working for both VMs Change-Id: I1f36c52e085f293e3011c7eeea18f8762e2d4ee1,0.0742466151714325
677,Add Monasca Grafana security note Update the Monasca docs to improve security considerations Trivial-Fix Change-Id: I97eb8441466f8c6abdbd66068257765bdbe32d4d,0.28896021842956543
678,Add authtoken security options Add ability to specify the memcache_security_strategy and memcache_secret_key for keystone authtoken middleware The keys for individual services are hashed with a salt_ to isolate them Change-Id: I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7 (cherry picked from commit 59b54b6f46b2089b0480a276463f8d5d1de9f307),0.050654102116823196
679,Update policy security roadmap Some things have changed since this was originally written and this patch attempts to update those things Change-Id: Ibc24b4192f5cec2efa4eef79e94bdbcf27ffc162,0.38127636909484863
680,[Tempest] Added uni-scale cases for below entites - Port-security - Provider Security groups - Also changed to function name to test vm internal traffic Change-Id: I28d92272f100a76b7239a006580f605f91ed14ba,0.15771284699440002
681,Document security considerations for detailed healthcheck The detailed healthcheck output includes some potentially sensitive information like stack traces of the service This may be unacceptable in some organizations and we should point it out in the help for the option Change-Id: Ic10c29f39ef601e4c7873acb0d56e1ec8e4ebcb3,0.20426787436008453
682,NSX|P: Fix security group rule validation Duplicate rule validation failed since _check_local_ip_prefix should be called before addign the ruels to the DB Change-Id: I931ad9e42ff76dd5fd7582ddad0ffbb3f4e8fc45,0.16899487376213074
683,Increase size for security hardened images With the move to containers there has been an increase of demand on the /var volume Increase the global size_ as well as give more percentage to /var and reduce /root Also fix fsck-passno setting_ that was incorrectly set Change-Id: I8d820f668ffffe5993d5fef38e0c1e8c5f5862ec,0.2664657235145569
684,Increase size for security hardened images With the move to containers there has been an increase of demand on the /var volume Increase the global size Change-Id: Ib806bac815077c2508060719469b5d0f1acc0f99,0.26204824447631836
685,Create default security group in TF with different name vnc_openstack does not allow to create sg with name 'default' in TF_ but the networking-openstack requires to have security group in TF with the same uuid as in neutron db Change-Id: I614cdf89d2d075e79ebd962820bf4dd53e4347f7,0.14537592232227325
686,NSX|V3: Support security features for ENS switches Depending on the platform version_ support port-security_ and allow disabling mac learning for ENS netowrks and ports Change-Id: I412c30aa87a7706603696ddff476ac58600d7b87,0.14102943241596222
687,NSX|V Allow updating port security and mac learning together Change-Id: Ia3b4ade1f1500e2b8c6c51de5465a5cd1791a177,0.22766074538230896
688,NSX|V Allow updating port security and mac learning together Change-Id: Ia3b4ade1f1500e2b8c6c51de5465a5cd1791a177,0.22766074538230896
689,NSX|V Allow updating port security and mac learning together Change-Id: Ia3b4ade1f1500e2b8c6c51de5465a5cd1791a177,0.22766074538230896
690,Correct OpenStack Security URL in sites Our Mailman site templates and similar content contain links to an old openstack-security page on the foundation-run site which no longer exists Correct this to the OpenStack community's security site_ which should be much more stable Change-Id: I9577540319c53f76afc40a33b2c5697280397149,0.37005415558815
691,Don't try to create default SG when security groups are disabled If security group API is disabled_ there is no point to create default security group for tenant when eg network is created Closes-Bug: #1913297 Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa (cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae),0.2001621127128601
692,Fixes too low security group rules quota The quota for security group rules was erroneously set to 100 with the aim to have 100 security group rules per security group instead of to 100*#security group rules This patch fixes this discrepancy It also uses the int filter to avoid string mis- interpretation Change-Id: Iafd15276524988e7240a26a1f362593c05529931 (cherry picked from commit b2d820d3fc19514b2827599a563066b9ec276702),0.35600024461746216
693,Fixes too low security group rules quota The quota for security group rules was erroneously set to 100 with the aim to have 100 security group rules per security group instead of to 100*#security group rules This patch fixes this discrepancy Change-Id: Iafd15276524988e7240a26a1f362593c05529931,0.3459759056568146
694,Ignore missing ports when handling security groups This issue affects the neutron OVS agent_ when using the Hyper-V security groups driver In quite a few situations_ OVS ports may be leaked This becomes more troublesome as the OVS agent will try to update rules for Hyper-V switch ports that do not exist anymore and fail Note that the agent handles multiple ports at a time If one of them is a leaked port_ the others won't get processed The security groups driver may just ignore missing ports Closes-Bug: #1794975 Change-Id: Ic59ba7ca68828dcead99973fadc4ec798e116833 (cherry picked from commit 15a7db5e4f6224023860c1feaa32fd5fb77adb6d),0.2792629599571228
695,Ignore missing ports when handling security groups This issue affects the neutron OVS agent_ when using the Hyper-V security groups driver In quite a few situations_ OVS ports may be leaked This becomes more troublesome as the OVS agent will try to update rules for Hyper-V switch ports that do not exist anymore and fail Note that the agent handles multiple ports at a time If one of them is a leaked port_ the others won't get processed The security groups driver may just ignore missing ports Closes-Bug: #1794975 Change-Id: Ic59ba7ca68828dcead99973fadc4ec798e116833 (cherry picked from commit 15a7db5e4f6224023860c1feaa32fd5fb77adb6d),0.2792629599571228
696,Ignore missing ports when handling security groups This issue affects the neutron OVS agent_ when using the Hyper-V security groups driver In quite a few situations_ OVS ports may be leaked This becomes more troublesome as the OVS agent will try to update rules for Hyper-V switch ports that do not exist anymore and fail Note that the agent handles multiple ports at a time If one of them is a leaked port_ the others won't get processed The security groups driver may just ignore missing ports Closes-Bug: #1794975 Change-Id: Ic59ba7ca68828dcead99973fadc4ec798e116833,0.256489098072052
697,Improve security of default and example configurations * Enabled the NodeRestriction Admission Controller * Configured the default terminated-pod-gc-threshold in the controller-manager * Disable repair-malformed-updates * Disable anonymous-auth in the Kubelet * Further restrict permissions for contents of /etc/kubernetes and /var/lib/etcd Change-Id: I112652a5aa7bde054de253234f65755d90ab65ad,0.20596635341644287
698,[WIP] Airship Ubuntu/MAAS security guide Security item list for how Ubuntu is configured on Airship deployed nodes Change-Id: I8a784f01d4487658f23d6901a8bb3f4702887e19,0.23192083835601807
699,Normalize security groups when using Neutron When Neutron was used_ the listed security groups were not being normalized_ which doesn't help end users on having a consistent representation of them regardless the cloud configuration choices Story: #2003741 Task: #26423 Change-Id: I6b132c9aac119d94b1085741f557fa405836a703,0.2657381594181061
700,Fix the revision needed for security rules version This feature was added in NSX 24 instead of 23 Change-Id: I24aaafb82e67f4cab9d8b379491d204441462213,0.3915252685546875
701,Fix the revision needed for security rules version This feature was added in NSX 24 instead of 23 Change-Id: I24aaafb82e67f4cab9d8b379491d204441462213,0.3915252685546875
702,Don't try to create default SG when security groups are disabled If security group API is disabled_ there is no point to create default security group for tenant when eg network is created Closes-Bug: #1913297 Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa (cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae),0.2001621127128601
703,Add authtoken security options Add ability to specify the memcache_security_strategy and memcache_secret_key for keystone authtoken middleware The keys for individual services are hashed with a salt_ to isolate them Change-Id: I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7 (cherry picked from commit 59b54b6f46b2089b0480a276463f8d5d1de9f307),0.050654102116823196
704,Don't try to create default SG when security groups are disabled If security group API is disabled_ there is no point to create default security group for tenant when eg network is created Closes-Bug: #1913297 Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa (cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae),0.2001621127128601
705,Merge security groups extension response into server view builder As nova extensions has been deprecated already and goal is to merge all scattered code into main controller side Currently schema and request/response extended code are there among all extensions This commit merge the security groups extension resposne into server view builder Partially implements: blueprint api-extensions-merge-rocky Change-Id: I57141fc6b1ee87ad3933edd9dc255294d03b5651,0.27069514989852905
706,"Don't set security groups in openstackci-packethost This account is an admin account and sees every project's default security group This leads to: FAILED! => {""changed"": false_ ""msg"": ""Multiple matches found for default""} When attempting to set the properties of the default security group for this account There doesn't appear to be a good way to filter the other default security groups out currently so avoid setting them for now Change-Id: I9a8cc7d59c0295caa71bf107b9b78745a4617981",0.2154139131307602
707,HAProxy Security Guide - Added a basic HAProxy security guide Guide is light due to using TCP mode Change-Id: Ic5d5126c6ca45112acad640826fdbbb2b0e080f4,0.18511205911636353
708,Fix lost connection when create security group log Packet sent to table 91 are considered accepted by the egress pipeline and NORMAL action is used by default in this table However_ if we create a security group logging resource_ then ovs flows log will be added into this table with higher priority Therefore packet matches with ovs flows log will be sent to CONTROLLER and never forward So this patch append action=NORMAL into ovs flows log to forward the packet and send it to CONTROLLER for logging Closes-Bug: #1787106 Change-Id: I6e95e2e646ec8a5507c7f140ab2c4a56be8404c3 (cherry picked from commit 7d2ac2d0aff90d17d2e46aba2af3b4cc32d1833c),0.2459527850151062
709,Fix no ACCEPT event can get for security group logging Currently_ we cannot get ACCEPT packet log because there are some changed related to ovs firewall code since ovs firewall logging has been merged Regarding to performance perspective_ we only log first accepted packet So we only need to forward first accepted packet of each connection session to table 91 and table 92 So this patch fixes these issues Closes-Bug: #1782576 Change-Id: Ib6ced838a7ec6d5c459a8475318556001c31bdf0 (cherry picked from commit ced78395a7952d0e616055892645fd2a6165833f),0.29095184803009033
710,Fix no ACCEPT event can get for security group logging Currently_ we cannot get ACCEPT packet log because there are some changed related to ovs firewall code since ovs firewall logging has been merged Regarding to performance perspective_ we only log first accepted packet So we only need to forward first accepted packet of each connection session to table 91 and table 92 So this patch fixes these issues Closes-Bug: #1782576 Change-Id: Ib6ced838a7ec6d5c459a8475318556001c31bdf0 (cherry picked from commit ced78395a7952d0e616055892645fd2a6165833f),0.29095184803009033
711,Fix lost connection when create security group log Packet sent to table 91 are considered accepted by the egress pipeline and NORMAL action is used by default in this table However_ if we create a security group logging resource_ then ovs flows log will be added into this table with higher priority Therefore packet matches with ovs flows log will be sent to CONTROLLER and never forward So this patch append action=NORMAL into ovs flows log to forward the packet and send it to CONTROLLER for logging Closes-Bug: #1787106 Change-Id: I6e95e2e646ec8a5507c7f140ab2c4a56be8404c3 (cherry picked from commit 7d2ac2d0aff90d17d2e46aba2af3b4cc32d1833c),0.2459527850151062
712,Add bandit python security scanning to pep8 This change adds bandit python security code scanning to the pep8 zuul check Change-Id: I8b6c52bd3fae87c5b49f3cde8bb9e63526155973,0.2712247967720032
713,Deprecate security groups related commands * Print a warning message on the security groups commands to tell users these commands are deprecated * Bump the API microversion to 115 * Add a TODO comment to indicate that the OSC security group commands need further work Depends-On: Ifd39948fec7e94b6e78298b3a6ccbed947f7ce61 Change-Id: I01bf45aa00c3f8e4c4c86636304e675c8d402d55 Implements: blueprint rework-security-group-api,0.3626018166542053
714,NSX|V Fix policy security group update Updating the policy of the security group was not reflected in the DB Change-Id: I83ce48404722df67daa00e3df703c6902a5ef84d,0.2513102889060974
715,"[Fullstack] Add debug_iptables=True in security groups tests In security groups tests with ""iptables"" or ""iptables_hybrid"" driver it will be useful to have debug_iptables_rules enabled to check what rules are applied by L2 agent in case of test failures Change-Id: Ib7d12b2e589019bc6043affe371ef5aa5425945b Related-Bug: #1779328",0.13249023258686066
716,NSX|V Fix policy security group update Updating the policy of the security group was not reflected in the DB Change-Id: I83ce48404722df67daa00e3df703c6902a5ef84d,0.2513102889060974
717,NSX|V Fix policy security group update Updating the policy of the security group was not reflected in the DB Change-Id: I83ce48404722df67daa00e3df703c6902a5ef84d,0.2513102889060974
718,WIP: Fix lost connection when create security group log Change-Id: I6e95e2e646ec8a5507c7f140ab2c4a56be8404c3,0.19698794186115265
719,(security) Airship Security Guide framework The document shell for holding Airship security guide topics Change-Id: I35b216f742b93c984506674d20344a74b26c876c,0.15156716108322144
720,Add authtoken security options Add ability to specify the memcache_security_strategy and memcache_secret_key for keystone authtoken middleware The keys for individual services are hashed with a salt_ to isolate them Change-Id: I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7,0.031380631029605865
721,V2T migration: Create security group rules in bulk Change-Id: Id4b3d1fbc2d4a5c1c1b8c9b3727c43e59905bdbb,0.18734589219093323
722,V2T migration: Create security group rules in bulk Change-Id: Id4b3d1fbc2d4a5c1c1b8c9b3727c43e59905bdbb,0.18734589219093323
723,V2T migration: Create security group rules in bulk Change-Id: Id4b3d1fbc2d4a5c1c1b8c9b3727c43e59905bdbb,0.18734589219093323
724,V2T migration: Create security group rules in bulk Change-Id: Id4b3d1fbc2d4a5c1c1b8c9b3727c43e59905bdbb,0.18734589219093323
725,NetApp cDOT: use security service ou sets organizational unit in AD at NetApp C-mode CIFS server Change-Id: Ifbbd98d0ad414985ac15da52d9e3305dd109e927 Closes-Bug: #1696669,0.10214166343212128
726,Improve Security Group support This implements the use of dynamic ACLs to ensure that stale security groups and rules do not persist on TORs It also adds logic to query TORs for dynamic ACLs and ACL bindings This allows us to cleanup any stale config that might be present as a result of intermittent connection loss It also allows to only send config that may be missing_ rather than reconfiguring everything on each sync Change-Id: I2beaa0b182cf054e2846145322b083781467d018,0.21507012844085693
727,Remove Stable branch maintenance as a project team Remove the defunct Security project team and reassign all its remaining Git repositories to the Security SIG which was created May 29_ 2018 in change Id51c8dbe9a3cc790d90b30dcf13cbac72fb0b730 Change-Id: Id5db19efc66abc1f92b7226f344e4030e84158e0,0.4368348717689514
728,Set namespace security group driver for namespace gate Depends-On: I37025bf65b67fe04f2a6d9b14bbe1b7bc387e370 Implements: blueprint openshift-project-isolation-support Change-Id: I49c23532b1f6669bfef1504eb8f07a35d16b2cf8,0.26327431201934814
729,library policy create security groups up-front minor improvement to the library policy to improve robustness Because actions by default execute in asynchronously_ if we wait to create the security group until the security group is needed_ the policy may attempt to attach to a security group before it is created Change-Id: I0c2b1939c5b48d4576f821b482f120537c923808,0.2039880007505417
730,Execute security group setup against octavia_service_setup_host In order to reduce the packages required to pip install on to the hosts_ we use service delegation to octavia_service_setup_host so that instead of installing software on the target host_ and putting credentials on every target host_ we isolate the software and credentials to a single host In this patch we make the security group tasks execute using cloudsyaml so that we do not need to expose the credentials in the task (it will leak the credentials in vebose mode or on failure) We also set the tasks to execute on octavia_service_setup_host so that we do not need as much software installed on the target host There are any other tasks in the role which need updating before we can eliminate the octavia_requires_pip_packages_ but for the sake of keeping the patch smaller and easier to review they will be done in follow up patches Change-Id: Idc8e5aa922541ab5f8464c83c006b1b7fc8308c5,0.3296976387500763
731,Avoid namespace security group override Ensure default security group value does not get override in subsequent calls to get_security_groups Closes-Bug: 1785035 Change-Id: I9a79601beae7d58027418e0a9e3c4768606eb15f,0.20369690656661987
732,Complete the api-ref of security group rule Adding the correct path of examples in security group rules api-ref Change-Id: I9b7ee5d6da7837901089861d0252f9792a817ce4,0.20493252575397491
733,NetApp cDOT: Fix security style for CIFS shares If the backing FlexVol security style is configured incorrectly_ end users cannot write to their manila shares Change-Id: I12c85c54c7318592ac0b34efe3624d175d2e6976 Closes-Bug: #1696000 (cherry picked from commit 5e8df296abcc2f08aac085b09aeae202508d5dc7) (cherry picked from commit 48b5c91ad73e74a8e35b3649b0433ba86d6bdf06),0.24060112237930298
734,Fix getting share networks and security services error It will fail when non-admin tenants try to get share networks and security services with option '{all_tenants: 1}' The reason is that the policy of 'get_all_share_networks' and 'get_all_security_services' are admin api_ they do not allow the non-admin tenants list the share networks and security services with all_tenants=1 This patch removes the policy check of non-admin tenants and allows non-admin tenants to request to list with 'all_tenants=1'_ however 'all_tenants' in the request is just ignored Change-Id: Ied021b66333f1254cd232bbc38562a4a9b762ad2 Co-Authored-By: Goutham Pacha Ravi <gouthampravi@gmailcom> Related-Bug: #1721787 (cherry picked from commit 9f69258cab9baf77384282b67feb390d0487d3b9) (cherry picked from commit 7a6955dd7fa47b51e5f2a7766061066ffaa0af8d),0.34597861766815186
735,Log exceptions on security group callbacks This patch adds EXCEPTION-level logging for non-retriable exceptions during security groups and rules callbacks The reason is that the callback manager triggering these callbacks wont do any logging on its own for precommit events On situations like [1]_ it was necessary to enable debug logging to check the reason behind the error Regarding [1]_ see change [2] for a fix that prevents the exception [1] http://jiraopendaylightorg/browse/NETVIRT-896 [2] https://reviewopenstackorg/#/c/536935 Change-Id: I49872b5b65372ac333ad759bb506fac7348c3fa9 co-authored-by: Jaime Caamaño Ruiz <jcaamano@susecom> (cherry picked from commit 496e9a2a7e2827efdf1f060ee4765fc16c1c3e3c),0.18105757236480713
736,NetApp cDOT: Fix security style for CIFS shares If the backing FlexVol security style is configured incorrectly_ end users cannot write to their manila shares Change-Id: I12c85c54c7318592ac0b34efe3624d175d2e6976 Closes-Bug: #1696000 (cherry picked from commit 5e8df296abcc2f08aac085b09aeae202508d5dc7),0.23714375495910645
737,Fix getting share networks and security services error It will fail when non-admin tenants try to get share networks and security services with option '{all_tenants: 1}' The reason is that the policy of 'get_all_share_networks' and 'get_all_security_services' are admin api_ they do not allow the non-admin tenants list the share networks and security services with all_tenants=1 This patch removes the policy check of non-admin tenants and allows non-admin tenants to request to list with 'all_tenants=1'_ however 'all_tenants' in the request is just ignored Change-Id: Ied021b66333f1254cd232bbc38562a4a9b762ad2 Co-Authored-By: Goutham Pacha Ravi <gouthampravi@gmailcom> Related-Bug: #1721787 (cherry picked from commit 9f69258cab9baf77384282b67feb390d0487d3b9),0.33260440826416016
738,Adds toggle port security on network create Added a new property_ 'port_security_enabled' which is a boolean to enable or disable port_secuirty during network creation The default behavior will enable port security_ security group and anti spoofing will act as before When the attribute is set to False_ security group and anti spoofing are disabled on the ports created on this network Change-Id: If984a82ca5f6fb69ee644f4fa84333df09d7f8bc,0.1380472481250763
739,Upgrade OSC security groups code The openstack client new version added functionality that the vmware_nsx code should also add This patch adds the missing code_ with a condition on its existance_ to avoid mandatory upgrade of the openstack client Change-Id: Iac22f2204c5215f5d20dc9accdae2a5e75779de5,0.3370715379714966
740,Update base image with latest security fixes This ensures freshly built kolla images include the latest security fixes for severity Important and above This was suggested by Jon Schlueter and based on the code available at https://githubcom/brianwcook/happywebserver/blob/master/Dockerfile#L27 Change-Id: Ib14f326a335d9519fb888f5486950275985a788c (cherry picked from commit 38f18f2d1280d7429a7be45b993bb5f166f39134),0.43578627705574036
741,Update base image with latest security fixes This ensures freshly built kolla images include the latest security fixes for severity Important and above This was suggested by Jon Schlueter and based on the code available at https://githubcom/brianwcook/happywebserver/blob/master/Dockerfile#L27 Change-Id: Ib14f326a335d9519fb888f5486950275985a788c,0.4053879976272583
742,Add bandit for security static analysis This change adds a basic bandit config for Cinder It can be invoked by running the tox environment for bandit; tox -e bandit Change-Id: I0aa5a9ef82d93401bd4459ec761366f3f98cc20b,0.13995757699012756
743,Add security hardened images that can boot from uefi This is a similar image than the hardened one_ but it has some differences: - removes the blacklist of vfat module_ as we need it - Sets DIB_BLOCK_DEVICE to efi instead of mbr - Uses the overcloud-secure-uefi element_ that creates the proper layout Change-Id: I0e1c79462da170fb9dc99e12c05817b9f565c0de Depends-On: If9e0504438632f1a22b45b7c95e7bfb8cb6f41d3,0.14713050425052643
744,OSP-192: speed-up security group rule deletion - changing the mode of event receipt from callback to post delete RPC - callback method does not include parent sec group ID_ only the sec group rule ID and tenant info is included - post delete notification has the sec group ID - post delete RPC is also used for sec grup create/delete and keystone related methods Change-Id: Ic0e8bc2160737728a6181886651141fbf5f29362,0.206402987241745
745,OSP-192: speed-up security group rule deletion - changing the mode of event receipt from callback to post delete RPC - callback method does not include parent sec group ID_ only the sec group rule ID and tenant info is included - post delete notification has the sec group ID - post delete RPC is also used for sec grup create/delete and keystone related methods Change-Id: Ic0e8bc2160737728a6181886651141fbf5f29362,0.206402987241745
746,OSP-192: speed-up security group rule deletion - changing the mode of event receipt from callback to post delete RPC - callback method does not include parent sec group ID_ only the sec group rule ID and tenant info is included - post delete notification has the sec group ID - post delete RPC is also used for sec grup create/delete and keystone related methods Change-Id: Ic0e8bc2160737728a6181886651141fbf5f29362,0.206402987241745
747,OSP-192: speed-up security group rule deletion - changing the mode of event receipt from callback to post delete RPC - callback method does not include parent sec group ID_ only the sec group rule ID and tenant info is included - post delete notification has the sec group ID - post delete RPC is also used for sec grup create/delete and keystone related methods Change-Id: Ic0e8bc2160737728a6181886651141fbf5f29362,0.206402987241745
748,Add a preliminary structure for admin security guide Change-Id: I4b624f7f8f87c6cd847cd4b8fa282304c7d4ebd6,0.28187447786331177
749,Merge server create for security group extension As nova extensions has been deprecated already and goal is to merge all scattered code into main controller side Currently schema and request/response extended code are there among all extensions This commit merge the server_create for security group extensions Partially implements: blueprint api-extensions-merge-rocky Note- unit tests will be moved to test_serversV21 when we will merge the extended response for security group Change-Id: I447947e23451d3898a5eee0e25facc3d9ae8c01e,0.2899930477142334
750,Add ou to security service tests This patch complements I70fd4e0ea7898e85dff59a927b3cb086d5e408ac by adding tests for ou parameter at security services with new microversion 243 Change-Id: I77d87c8e6f98054f2f02bc4202c14314ff321964,0.342704176902771
751,Fix the bandit security linter test Add the bandit security linter test to the pep8 target Change-Id: I9324b9d9df77fd05c2e10bb48d7ccf8b4c634525,0.18275712430477142
752,Merge server create schema for security group extension As nova extensions has been deprecated already and goal is to merge all scattered code into main controller side Currently schema and request/response extended code are there among all extensions This commit merge the schema part of create server for security group extensions Partially implements: blueprint api-extensions-merge-rocky Change-Id: I160028d77e84705106aad5ec8b2d9a54a3c54b18,0.30262601375579834
753,Fix security groups ext_properties loading Commit I123ae390bec489a931180a2e33f4bf7b1d51edb2 broke the extended security group code_ by removing the 'is_default' attribute from the list of fields that should have been updated in the DB Not sure exactly why it broke us Change-Id: I891bc792e62ac90683ce8745f98a3139c9ffd3d9 (cherry picked from commit f9071f3f9f47a143150768abb99def3b53960349),0.3523022532463074
754,starlingx_dashboard should enable optional security settings - Turning on ENFORCE_PASSWORD_CHECK to require admin password re-entry when updating password - Turning on disable_password_reveal so that passwords cannot be revealed in password fields Closes-bug: 1914831 Signed-off-by: Tyler Smith <tylersmith@windrivercom> Change-Id: I630839fd2b39ea3a9fca2b2e1d827404bc50f77d,0.1991262435913086
755,Don't try to create default SG when security groups are disabled If security group API is disabled_ there is no point to create default security group for tenant when eg network is created Closes-Bug: #1913297 Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa,0.16360464692115784
756,OSP-192: speed-up security group rule deletion - changing the mode of event receipt from callback to post delete RPC - callback method does not include parent sec group ID_ only the sec group rule ID and tenant info is included - post delete notification has the sec group ID - post delete RPC is also used for sec grup create/delete and keystone related methods Change-Id: Ic0e8bc2160737728a6181886651141fbf5f29362,0.206402987241745
757,Clear security group rules before adding new ones Due to a recent change on EOS_ duplicate rules are no longer treated idempotently The fix is to clear all ACL rules when creating/recreating an ACL Change-Id: I306c30b2fe035f4ad0205e38b3c8c94affe6a098,0.17992916703224182
758,Clear security group rules before adding new ones Due to a recent change on EOS_ duplicate rules are no longer treated idempotently The fix is to clear all ACL rules when creating/recreating an ACL Change-Id: I306c30b2fe035f4ad0205e38b3c8c94affe6a098,0.17992916703224182
759,Fix security groups ext_properties loading Commit I123ae390bec489a931180a2e33f4bf7b1d51edb2 broke the extended security group code_ by removing the 'is_default' attribute from the list of fields that should have been updated in the DB Not sure exactly why it broke us Change-Id: I891bc792e62ac90683ce8745f98a3139c9ffd3d9 (cherry picked from commit f9071f3f9f47a143150768abb99def3b53960349),0.3523022532463074
760,Network: Add tag support for security group TODO: reno_ UTs for unset Change-Id: Icccb23429913724c6a8bd15d4737672b47a5f13a Closes-Bug: #1750983,0.2705117166042328
761,DNM Fix security groups ext_properties loading Commit I123ae390bec489a931180a2e33f4bf7b1d51edb2 broke the extended security group code_ by removing the 'is_default' attribute from the list of fields that should have been updated in the DB Not sure wxactly why it broke us Change-Id: I891bc792e62ac90683ce8745f98a3139c9ffd3d9,0.3541772663593292
762,SNMPv3 security features added to the `snmp` driver SNMPv3 message authentication and encryption features added to Ironic ``snmp`` driver Added support for the ContextName parameter of the SNMPv3 message at Ironic's ``snmp`` driver The ``snmp_security`` parameter of Ironic ``snmp`` driver is obsoleted by the ``snmp_user`` parameter Though ``snmp_security`` parameter remains supported For the sake of patch reviewability_ it does not touch similar SNMP features in the `iLO` and `irmc` drivers A followup patch might converge these similar SNMP uses onto the core ``snmp`` driver's functionality this patch introduces Change-Id: Ic8a4fc37a42377c4ec50ffae421b3f47922ef982 Closes-Bug: #1710850,0.13419109582901
763,Fix Port OVO filtering based on security groups Filtering of port OVO based on ids of security groups which are used by ports is now available Closes-Bug: 1744447 Change-Id: Ie5a3effe668db119d40728be5357f0851bdcebbe (cherry picked from commit e7c0ec17df83da3c7ba3f453ad8935320c471eb8),0.27049264311790466
764,Import correct registry in security group callback for ocata Change-Id: I0200ec579c932f2d505e2989a2a959e23c89823f,0.24518129229545593
765,[AIM] Fix validation of security groups Add a unit test for validation of security groups_ and ensure port numbers are converted to strings Change-Id: I59b201bda32445b678137355763e6e4de81ce269,0.22801540791988373
766,[AIM] Fix validation of security groups Add a unit test for validation of security groups_ and ensure port numbers are converted to strings Change-Id: I59b201bda32445b678137355763e6e4de81ce269,0.22801540791988373
767,[AIM] Fix validation of security groups Add a unit test for validation of security groups_ and ensure port numbers are converted to strings Change-Id: I59b201bda32445b678137355763e6e4de81ce269,0.22801540791988373
768,[AIM] Fix validation of security groups Add a unit test for validation of security groups_ and ensure port numbers are converted to strings Change-Id: I59b201bda32445b678137355763e6e4de81ce269,0.22801540791988373
769,Ignore default values for deprecated security parameters The command line parameters_ ca-file_ key-file_ and cert-file_ are deprecated The problem is that the argument parser stores the values for the deprecated parameters into the same attributes used by Keystone As a result the murano dashboard is overriding the default values of the Keystone attributes with its own default values This is wrong The change is to ignore these parameters if they are not specified on the command line This will allow the Keystone client's method_ register_cli_options_ to set them to the correct default values If the user specifies these parameters on the command line_ then we will honor them Change-Id: I08974f7fea0cd0cb2a906e26c9f197209c473b9b Closes-bug: #1767144,0.2254021316766739
770,Document how to manage security groups Change-Id: Iee43da3b18395c3fad796e1bed223420ccf10d1e Closes-Bug: #1770566,0.2864065170288086
771,Fix Port OVO filtering based on security groups Filtring of port OVO based on ids of security groups which are used by ports is now available Closes-Bug: 1744447 Change-Id: Ie5a3effe668db119d40728be5357f0851bdcebbe,0.2322591245174408
772,Raise 409 when removing security group from instance currently when attempting to remove a security group from instance_ nova api returns 500 when there are more than one secuity groups with such name in the project This patch makes it return 409 Conflict_ using the same logic as already present when adding a security group to the instance in such scenario of duplicate names for security groups Change-Id: I28ad999c49d4e11add54405b89185b3f56f165b5,0.26828742027282715
773,"Disable security group rule when create port Use ""driver_handles_share_servers=True"" backend driver When create service neutron port to connect with service instances_ we should set the port security group is disable_ to prevent be added the default security group in neutron Because some cases the default security group would lead to the port can not connect with the service instances Change-Id: Ib13e4f80c5a54b2b863b511ebb6e8f82700a3639 Closes-Bug:#1720283 (cherry picked from commit 3c3d899837e256d4692c4195f0e77ff600817e5c)",0.1777724325656891
774,Set max_microversion 235 for nova security group tests The compute os-security-groups API is deprecated from the Microversion 236_ so we should set max_microversion = '235' for compute security group tests Implements blueprint: clear-deprecated-api Change-Id: I2084ddcac0f8b4b9f81e5263ac4058939418626d,0.3613332509994507
775,Add Security SIG to list of SIGs This change adds the Security SIG to the total list of SIGs as well as information related to the SIG Change-Id: Id51c8dbe9a3cc790d90b30dcf13cbac72fb0b730,0.33546245098114014
776,Fixes port security settings caching issue When updating the MAC spoofing for a given vswitch port_ its Msvm_EthernetSwitchPortSecuritySettingData object is removed and a new one is created_ but the original object is not cleared from the cache Because of this_ the next update will fail with a Not Found exception This patch addresses this issue Closes-Bug: #1744755 Change-Id: I91b9000c64d269b7d5b1db9e0c6344bbd70e37b2 (cherry picked from commit 776270c4b3be0523f2ee2a73792b4a41bb52d6f5),0.3568825125694275
777,[WIP] Remove APIs for managing security groups These APIs are proxy to Neutron API calls Users can achieve the equivalent functionality by directly calling the Neutron APIs In particular_ these APIs are removed after microversion 115 * POST /containers/<ident>/add_security_group * POST /containers/<ident>/remove_security_group Change-Id: Ifd39948fec7e94b6e78298b3a6ccbed947f7ce61 Implements: blueprint rework-security-group-api,0.31718015670776367
778,Add ou to security service Allows to configure in which organizational unit the share ends up APIImpact Change-Id: I70fd4e0ea7898e85dff59a927b3cb086d5e408ac Partial-Bug: #1696669,0.11408334970474243
779,Cleanup Arista Security Group Support Move all security group logic to a service plugin ACLs are now applied to ports in response to PORT callbacks rather than via the ML2 mechanism driver eAPI commands are also now built incrementally rather than by dictionary lookup Change-Id: Ide2d61b2ea29d6ed34c972d006c322c66a2de3f1,0.20985481142997742
780,Fullstack: Add using multiple security groups Change-Id: I8eadb434be3e7d0849a6e4c3bdf75dbfb5f15a83 Closes-Bug: #1690998,0.24090220034122467
781,NSX|V3: Do not add security profile for native DHCP ports The NSX does not support setting custom switch profiles to a DHCP port Change-Id: I30fb5c24edf7d190ebbceec27b843bc5feb180e8,0.13789254426956177
782,NSX|v: Support icmp-v6 security group rules Change-Id: Iffbd322220ad7b5d08146ee6939d41888f3d5c4e,0.14282537996768951
783,Restore Ambari with newer JDK security policies Recent changes in JDK security policies disabled TLSv1_ which is used by default in the communications between ambari-agent and ambari-server More details here: https://communityhortonworkscom/articles/188269/javapython-updates-and-ambari-agent-tls-settingshtml In order to restore the functionalities_ two changes are needed: - Ambari 2430_ a minor update in the 24x line; - a change in the ambari-agent configuration file to force a newer TLS Story: 2002012 Task: 19651 Change-Id: I3782ce9acb8c895e4e1f3fb9046b54f2a57acdbf (cherry picked from commit 522627e0e6ba1686bdb2cfdfde279da9ef6d615c),0.3010138273239136
784,Restore Ambari with newer JDK security policies Recent changes in JDK security policies disabled TLSv1_ which is used by default in the communications between ambari-agent and ambari-server More details here: https://communityhortonworkscom/articles/188269/javapython-updates-and-ambari-agent-tls-settingshtml In order to restore the functionalities_ two changes are needed: - Ambari 2430_ a minor update in the 24x line; - a change in the ambari-agent configuration file to force a newer TLS Story: 2002012 Task: 19651 Change-Id: I3782ce9acb8c895e4e1f3fb9046b54f2a57acdbf,0.29164767265319824
785,"Revert ""Add lock for security group rules"" This reverts commit 6abc8435a22a8bf43e0e79fe7566ec005afefba1 Change-Id: I1aea9c65f3abf31ea52073a985adb66c16fc86ec",0.39668896794319153
786,"Revert ""Add lock for security group rules"" This reverts commit 473751f51f6329d8400e236683c66e022c093f23 Change-Id: I106d6fa065eb1381d62203308b55a56a4d7d5977",0.3945225477218628
787,"Revert ""Add lock for security group rules"" This reverts commit 0041f47b0bec33086aa828f2b8c83714c53fb54c Change-Id: Id36cec6c3900f8e1491beee2ded60f20a074aac7",0.40568235516548157
788,"Revert ""Add lock for security group rules"" This reverts commit da526e783e072281d567cc3a568c4389fa7ebf7e Change-Id: I50335507fc1b50cb4c0b4818d5e070e5bcbd147a",0.4042588472366333
789,Add lock for security group rules In order to reduce concurrency exceptions_ lock updates to remote IPs for security group rules Change-Id: I2d662850e4b09afa43df4be6a9004e4776248cd8,0.17024290561676025
790,Add lock for security group rules In order to reduce concurrency exceptions_ lock updates to remote IPs for security group rules Change-Id: I2d662850e4b09afa43df4be6a9004e4776248cd8,0.17024290561676025
791,Add lock for security group rules In order to reduce concurrency exceptions_ lock updates to remote IPs for security group rules Change-Id: I2d662850e4b09afa43df4be6a9004e4776248cd8,0.17024290561676025
792,Add lock for security group rules In order to reduce concurrency exceptions_ lock updates to remote IPs for security group rules Change-Id: I2d662850e4b09afa43df4be6a9004e4776248cd8,0.17024290561676025
793,V and D: make security group logging more robust Prevent exceptions Change-Id: I1a318347f92d6d793768dd20d653c872a3f75da3 (cherry picked from commit 89602824597db2dcf7c90fbfa46723df46f9c64a) (cherry picked from commit c9e0278f8aef886de7a4c5f1f1c4f222166832cb),0.2827492952346802
794,V and D: make security group logging more robust Prevent exceptions Change-Id: I1a318347f92d6d793768dd20d653c872a3f75da3 (cherry picked from commit 89602824597db2dcf7c90fbfa46723df46f9c64a),0.318695604801178
795,api-ref: several fixes on security group rules * Fix the attributes 'remote_ip_prefix' and 'direction' that were messed up with metering rules * Fix the attributes 'ethertype'_ 'port_range_max'_ 'port_range_min' and 'remote_group_id' that have the wrong required/optional Change-Id: I92ff1ad5921695c569c8c831a70d388a7900809c,0.2808103561401367
796,WIP - Fix 'ss-type' conflicts in security service tests This patch fixes security service conflict errors when security service tests are executed In these tests_ no security services should be automatically created during share network creation_ or the test may fail due conflicting types This issue can be seen when 'security_service' config option is set to use a 'kerberos' or 'ldap' security service Change-Id: I4585fa8349a98f0ac6ec7ec23fb7b26ab61d65af Signed-off-by: Douglas Viroel <viroel@gmailcom>,0.34735822677612305
797,Enable neutron port security for Octavia tests Some Octavia tempest tests require that neutron port security feature is enabled Change-Id: I0b35080f065df09b460e33431545f70ac3cb9557,0.2472076416015625
798,TVD: make security group logging more robust Ensure that DVS security groups (which do not have this extension) do not cause exceptions Change-Id: I1a318347f92d6d793768dd20d653c872a3f75da3,0.16918179392814636
799,"Add ""Edit Port Security Groups"" action This commit adds a new action ""Edit Port Security Groups"" which jumps the interfaces tab of the instance detail page In addition_ a warning message is added to the ""Edit Security Groups"" form because if a user change security groups as an instance level the change will be applied to all interfaces of the instance_ so it would be nice if we can provide a good navigation to a page of editting security groups per port Previously_ UpdateMembersStep does not support help_text_template option To use a bold tag in the added help message_ we need to use a template instead of help_text_ so _workflow_step_update_membershtml is updated Closes-Bug: #1750147 Change-Id: I71437a376b94cab90df0e423aa7e1d2d0d8387ee",0.2632192075252533
800,Add vxlan port at the multinodes security group There are problems with RDO cloud + multinode communication_ there is no vxlan package arriving from subnode-1 to subnode-0_ to allow that vxlan port needs to be open Close-Bug: 1767099 Change-Id: I9d070e208000194e73654299c9645679bea27169,0.0960921198129654
801,OSP-167: handle exception during security group rule deletion - when deleting a security group rule_ we update the security group on BCF ie overwrite SG with new set of rules - hence_ we query neutron DB for security group - this will fail when security group is being deleted and it is expected to not find any SG Change-Id: I48792ac029b42475a184c920b54130b1265df7b9,0.2535441517829895
802,OSP-167: handle exception during security group rule deletion - when deleting a security group rule_ we update the security group on BCF ie overwrite SG with new set of rules - hence_ we query neutron DB for security group - this will fail when security group is being deleted and it is expected to not find any SG Change-Id: I48792ac029b42475a184c920b54130b1265df7b9,0.2535441517829895
803,OSP-167: handle exception during security group rule deletion - when deleting a security group rule_ we update the security group on BCF ie overwrite SG with new set of rules - hence_ we query neutron DB for security group - this will fail when security group is being deleted and it is expected to not find any SG Change-Id: I48792ac029b42475a184c920b54130b1265df7b9,0.2535441517829895
804,OSP-167: handle exception during security group rule deletion - when deleting a security group rule_ we update the security group on BCF ie overwrite SG with new set of rules - hence_ we query neutron DB for security group - this will fail when security group is being deleted and it is expected to not find any SG Change-Id: I48792ac029b42475a184c920b54130b1265df7b9,0.2535441517829895
805,OSP-167: handle exception during security group rule deletion - when deleting a security group rule_ we update the security group on BCF ie overwrite SG with new set of rules - hence_ we query neutron DB for security group - this will fail when security group is being deleted and it is expected to not find any SG Change-Id: I48792ac029b42475a184c920b54130b1265df7b9,0.2535441517829895
806,Add instance interfaces tab for easy security group edit Partial-Bug: #1750147 Change-Id: Ia2bd19f92251702878be3b12d0ea2a5c6618c65e,0.17540167272090912
807,NSX-T: Disable Port Security by default for ENS TZ fix for: https://bugzillaengvmwarecom/show_bugcgi?id=2093846 Change-Id: I2115108be664e0d1f09752d10a11107b215d5590 Signed-off-by: Michal Kelner Mishali <mkelnermishal@vmwarecom>,0.12499348819255829
808,Ensure security of etcd connection The code assumes that etctlsavailable has been set; however that might not be the case so guard the configuration of vault to use etcd to check for this flag before adding etcd configuration Change-Id: I52f6fb2db309564634ba1698bd7905b2c1e8ceeb,0.1673978567123413
809,"Add Security Groups tab for container update This patch adds ""Security Groups"" tab into container update dialog to add/remove security groups Change-Id: Ic39a985c7daffdb7f5e5616a0eb3c07d57c4db22",0.2919323444366455
810,Describe more about security group on create This patch adds description for security group on container creation dialog Change-Id: Idb019f9956aefca275d7554e4eff203b7a2724f8 (cherry picked from commit 1fb13fefcb630b51b5759462887dc5fe57786a35),0.2985358238220215
811,Describe more about security group on create This patch adds description for security group on container creation dialog Change-Id: Idb019f9956aefca275d7554e4eff203b7a2724f8,0.27574193477630615
812,Doc: Add driver security notes to contributor doc Document some requirements that driver authors should consider when creating drivers Change-Id: Ieae8863d5e4c140545d89c4cfa4e019dbb301a36,0.21342331171035767
813,Allow port security to be disabled Allow Murano application packages to specify whether port security should be disabled for a network By default_ the Heat service will enable port security for all ports in a network With this change_ Murano will now propagate to Heat the application's desire to disable port security if the application sets a new flag_ port_security_enabled_ to false in the Neutron network object Change-Id: Iab25b4901010c24aef42213a7a9082b7594a5a16 Closes-Bug: 1759914,0.18288180232048035
814,A description can now be added to a security rule This patch fixes Bug #1742332 (Security Rule Description neither editable nor shown) I have added the option for a description to be added to a security rule which will show the description on the related table Change-Id: Ie723deb412977ae460c1e897f5d71fc8dbb7a853 Closes: #1742332,0.29002130031585693
815,Implement secure RBAC for security group API This commit updates the security group policies to understand scope checking and account for a read-only role This is part of a broader series of changes across OpenStack to provide a consistent RBAC experience and improve security Change-Id: I0c2062619a72184e6681530de6c074fb3c23635f,0.26532191038131714
816,"Ensure to show security groups only from current project Previously when logging in as a user with admin role_ if we visit ""Edit Security Group"" action of the instance table_ security groups from all projects are listed Change-Id: I71ff940434ef8dc146e934dc833c4d26829930c0 Closes-Bug: #1750140",0.15993815660476685
817,Describe unmasking fields in security document This adds some words about how to unmask passwords or secrets applied by default policy Change-Id: I0295cfa3bce09b336a3f460e3fd7741549e8483b Story: #1669331 Task: #9725,0.13889051973819733
818,Load networks and security groups in parallel We need both networks and security groups info on the port details page To speedup page loading we loads this data in parallel using futurist library Change-Id: Id51f4d0b4c90e8dd1f72366b9edf6b98ec6ce6f7,0.14134234189987183
819,Increase the image size for security hardened images to 23G In recent deployes we needed to increase size of /var volume by 3G So we need to give the image the right size to fit there Change-Id: I3885a5c359b56c515dbb9286ded1dee062cdcffc (cherry picked from commit 654804cd0812b30b410bc188ce2811d164a50c6b),0.29597485065460205
820,Increase the image size for security hardened images to 23G In recent deployes we needed to increase size of /var volume by 3G So we need to give the image the right size to fit there Change-Id: I3885a5c359b56c515dbb9286ded1dee062cdcffc (cherry picked from commit 654804cd0812b30b410bc188ce2811d164a50c6b),0.29597485065460205
821,Fix port security disabling Introduced with the change to fix the use of empty secgroup rule sets_ port security off does not disable all rules_ leaving the antispoofing rule in place This addresses that problem Change-Id: Ia6da2cb54f4bf2eb206b51b9ca6c35c82328aa19,0.22078536450862885
822,"Revert ""[Fullstack] Mark security group test as unstable"" It is possible that issue with ncat process can be already fixed by [1] so there is no need to mark as unstable anymore This reverts commit 685596f89c02711410bd6b650a12264ca99145fe [1] https://reviewopenstackorg/#/c/545820/ Change-Id: Ia4ea2ed86ec1fd7aee5428319efb956672c9d1a8",0.41927993297576904
823,"[Fullstack] Mark security group test as unstable As is described in related bug report this tests is failing quite often due to some problem with spawning ""ncat"" process Change-Id: I0651da07fb786cce82262703bfab8ca30ad4125d Related-Bug: 1744402",0.20447924733161926
824,Cleanup the created security groups The security groups created in test needs to be cleanup after In addition_ refactor the image cleanup code Change-Id: Ic088bc26bf786f2844d4fba5dbeca0a3256ad8a9,0.23253440856933594
825,Increase the image size for security hardened images to 23G In recent deployes we needed to increase size of /var volume by 3G So we need to give the image the right size to fit there Change-Id: I3885a5c359b56c515dbb9286ded1dee062cdcffc,0.2576152980327606
826,Remove protocols choice in security rules Security group rule can support a lot of protocols now and their integer representations in 0-255 range Let's not limit for this option anymore Change-Id: I0432e5d5d6d5f5ce935cf59a00f35153649c22dd,0.22073951363563538
827,Create security groups with the same name Test scenario: Create a number of security groups using the same name Make sure that all the security groups have been created successfully and that each group has it own unique ID Change-Id: I044e8f86cd8999d1bde5e4995239b0dfa55489f0,0.13268113136291504
828,Add security tips Some security tips added to security documentation List of the tips can be extended in the future Change-Id: Ic4a854a9fb8e12e0d6cdf969ef804e25f6341a32 Related-bug: #1659455 Related-bug: #1692511,0.2409910410642624
829,"Add debian security gpg key We have debian-security defined for mirroring in [1] with key C857C906; however we don't seem to be importing this key Possibly it was manually imported on the old server and this has now gone missing on the new Xenial server Import this key from https://ftp-masterdebianorg/keys/archive-key-8-securityasc The keys are renamed to have ""jessie"" in it_ to avoid confusion (see [2]) [1] http://gitopenstackorg/cgit/openstack-infra/system-config/tree/modules/openstack_project/files/reprepro/debuntu-updates#n41 [2] https://ftp-masterdebianorg/keyshtml Change-Id: Iabfd5e3fa7aa39716a120998663f5ad0e30afe25",0.5983708500862122
830,[Tempest]: Removing of extra security groups added to port Earlier ICMP rule were added to ports due to this even after applying port security to instane port vms were able to communicate with each other Change-Id: Iaea4fd3e0533f14b157b95a5cf17eefed771281d,0.1422264277935028
831,Add security squad to document Change-Id: I4ff4d69dccc714c26567f7e355f3bce902eb8eea,0.3077731430530548
832,ovsfw: Use bundle when adding security group rules Sometimes ports can have a lot of security group rules Adding OpenFlow rules to the integration bridge can be a bottle neck when bundle option is not used As OVS firewall currently uses CLI interface_ the bundle support is implemented only for that The native interface has on-going work but before we switch completely to the native_ we can benefit from bundle option now eg when adding 100 000 flows the bundle option takes the time down from ~10 seconds to 1 seconds So it's about 10 times faster Change-Id: I1feaeb659c8badf23230e36145235d49d50b6bfb (cherry picked from commit b3b2df142e5906a1da0c8c9b2cfb3a60a6527e77),0.14083990454673767
833,[WIP] Test remove security group in tempest tests This test will use to remove security group from the container Change-Id: Id9accbc8139e268775be68a85b7d3892033181df Closes-Bug: #1749351,0.18677803874015808
834,Adds toggle port security on network create Added a new property_ 'port_security_enabled' which is a boolean to enable or disable port_secuirty during network creation The default behavior will enable port security_ security group and anti spoofing will act as before When the attribute is set to False_ security group and anti spoofing are disabled on the ports created on this network Change-Id: If984a82ca5f6fb69ee644f4fa84333df09d7f8bc,0.1380472481250763
835,Update start_date for new Security SIG meeting In Ic5a81ac1b2ef49c28522d9bd01d29a75b67eba95 we retired the schedule for the Security Project team and created a new one fror the Security SIG_ as not part of the meeting schedule were shared keeping the 2 years of history is slightly misleading So update the start_date to be now'ish Change-Id: I8d00adb0f3c1989dc6b52ed267a35a1aab60488d,0.2766669690608978
836,Changes required for security project > sig Includes chair_ new time_ and new channel Change-Id: Ic5a81ac1b2ef49c28522d9bd01d29a75b67eba95,0.3240581750869751
837,Fix Hardware Security Modules (HSM) link broken Change-Id: Iaf43b2be169f30657116c44030d6d4bbf9c28552 Closes-bug: #1750587,0.31034213304519653
838,Network: Add tag support for security group This patch adds set tags operation and query parameters for security group Change-Id: I80fd6494fd4b86f5ace81297ec4617d94bcf5d06 Partial-Bug: #1750983,0.29165953397750854
839,Model security groups as NetworkPolicy instead of Profiles Change-Id: Ie2675839488b1ce9cf570db0bf16f25a855c6217,0.2062516212463379
840,AdminUtils: Improve NSXv security admin utils documentation Better explain the security groups / nsx security groups / firewall sections admiun utilities Also remove the unrelated firewall sections reorder form the fix-mismatch utility Change-Id: Ie9868d1fb196964ce479bca2c42d4a6eea7ef427,0.22363674640655518
841,[WIP] refactor security modules and retry A small refactor to the nslib: 1 change the security object code to be more similar to the other resources 2 Use retry code in base resources cladd only and not in resources implementations 3 Adding some tests to verify the fix does not damage anything Change-Id: Iac2cc1d55d3525ad21cb6399da691e212d6d4722,0.235159233212471
842,Add kafka config options for security (ssl/sasl) Change-Id: Ia1be1b67a7151d449185e2ad52eff1787e8b0933,0.26405608654022217
843,Delete default security groups created by stack Default security group gets created during project creation through stack launch But it's not getting deleted through stack-delete So added function to delete default security groups created by stack Closes Bug: #2006692 Change-Id: I00de452057c4589628d963d0e51d44ec9b7ea959,0.23293353617191315
844,[Docs] Migrate security into user guide Migrate all the security related user configurations into a user story Change-Id: I4dfc5941abfd834d1d53a9c737db7afcce2841a0,0.14994403719902039
845,admin utility enabled nsx-update for security groups (V and T) Provide ability to update security groups on NSX Change-Id: Ia16dfcd5618a3584bc9d0acfbf8a0de155997e58 (cherry picked from commit 5ffb1de1e68c37b0cffec12451ee8da3b36e20c8),0.2283717393875122
846,admin utility enabled nsx-update for security groups (V and T) Provide ability to update security groups on NSX Change-Id: Ia16dfcd5618a3584bc9d0acfbf8a0de155997e58,0.2220609039068222
847,Add logging to help detect port security conflicts Add logs that indicate if there are conflicting flags on a port for port security and security groups Change-Id: I0eeadfcfaf2b90b7006b26ab59b61d9449ec37de,0.14096248149871826
848,Support specified security groups when creating a port This patch allows users to specifie security groups when creating a port After a port is created_ the backend specifies a 'default' security group To be consistent with this configuration_ the page initialization also defaults to a 'default' security group Change-Id: I13fe4648c3b5f8311602844e08044af8f7b47fd8 Closes-Bug:#1746985,0.217369943857193
849,Ability to skip security hardening tags in leap Add the ability to skip certain hardening tags during the leap process if required Change-Id: If30c27d370e0bdf18bf71a4df895e89a40efbca7,0.24503681063652039
850,Correct security group pull down option Key of security groups in pull down options is mistaken in singular format Correct it to match plural format Change-Id: Ib569418f767e4b94ecd9fbc90e8e08f932735abd,0.2817232608795166
851,Also add the dhcp ipv6 rules to the default security group Change-Id: I4d4fb9ea65eef36fbd816d7c4a671d4fe35356a8,0.11573819816112518
852,Also add the dhcp ipv6 rules to the default security group Change-Id: I4d4fb9ea65eef36fbd816d7c4a671d4fe35356a8,0.11573819816112518
853,Also add the dhcp ipv6 rules to the default security group Change-Id: I4d4fb9ea65eef36fbd816d7c4a671d4fe35356a8,0.11573819816112518
854,Also add the dhcp ipv6 rules to the default security group Change-Id: I4d4fb9ea65eef36fbd816d7c4a671d4fe35356a8,0.11573819816112518
855,Handle missing security groups on listener delete On listener create or delete we update the VIP security group rules to reflect the addition or removal of the TCP port on the VIP In the unusual event that the security group is missing in neutron_ even listener delete calls would fail This patch allows listener deletes to continue if the security group is missing from the VIP Change-Id: Ic0186c34d3215869f1b92bcd4c8e015e0dd54053 Story: 2001381 Task: 5955,0.1977502703666687
856,Fixes port security settings caching issue When updating the MAC spoofing for a given vswitch port_ its Msvm_EthernetSwitchPortSecuritySettingData object is removed and a new one is created_ but the original object is not cleared from the cache Because of this_ the next update will fail with a Not Found exception This patch addresses this issue Closes-Bug: #1744755 Change-Id: I91b9000c64d269b7d5b1db9e0c6344bbd70e37b2 (cherry picked from commit 776270c4b3be0523f2ee2a73792b4a41bb52d6f5),0.3568825125694275
857,Add info for configuring Keystone's security compliance settings These were added recently [1]_ and documentation was needed [1] I3399129c41054a914bb91417c814cd063ee0c07e Change-Id: Ib586cd1c8a522116364894b1a1e9703e66cad257,0.2365943193435669
858,Fix _port_arg for security rules with icmp/ipv6-icmp aliases When a security group rule is created with icmp/ipv6-icmp alias such as protocol number 1(ICMP)_ 58(ICMPv6) or string icmpv6(legacy name for ipv6-icmp) as its protocol along with ICMP/ICMPv6 message type specified_ _port_arg will generate a wrong str for iptables/ip6tables Change-Id: Iae01b9a0da34797a5f061a110f06e18be9bbec5a Closes-Bug: #1743552 (cherry picked from commit 0efe1aec185365d8bd7a14ec5b812132d0f9e44d),0.16661325097084045
859,Fix _port_arg for security rules with icmp/ipv6-icmp aliases When a security group rule is created with icmp/ipv6-icmp alias such as protocol number 1(ICMP)_ 58(ICMPv6) or string icmpv6(legacy name for ipv6-icmp) as its protocol along with ICMP/ICMPv6 message type specified_ _port_arg will generate a wrong str for iptables/ip6tables Change-Id: Iae01b9a0da34797a5f061a110f06e18be9bbec5a Closes-Bug: #1743552 (cherry picked from commit 0efe1aec185365d8bd7a14ec5b812132d0f9e44d),0.16661325097084045
860,Allow disabling security groups on the OVS agent Patch adds neutron::agents::ml2::ovs::enable_security_group to allow disabling security groups on the OVS agent Change-Id: I7ae2499d05861d7c772e65cd1a60fe375b390613,0.31999069452285767
861,WIP: Sets MAC spoof if neutron port security groups enabled / disabled Change-Id: I069716fe9a0f4f2d64d43c3c2c565ee7540444a8,0.175611674785614
862,"Disable security group rule when create port Use ""driver_handles_share_servers=True"" backend driver When create service neutron port to connect with service instances_ we should set the port security group is disable_ to prevent be added the default security group in neutron Because some cases the default security group would lead to the port can not connect with the service instances Change-Id: Ib13e4f80c5a54b2b863b511ebb6e8f82700a3639 Closes-Bug:#1720283 (cherry picked from commit 3c3d899837e256d4692c4195f0e77ff600817e5c)",0.1777724325656891
863,doc: Document TLS security setup for noVNC proxy The nova noVNC proxy server has gained the ability to use the VeNCrypt authentication scheme to secure network communications with the compute node VNC servers This documents how to configure the QEMU/KVM compute nodes and the noVNC proxy server nodes Change-Id: If3cea87568efff0874cd8851cabc6770812c545b Blueprint: websocket-proxy-to-host-security Co-Authored-By: Stephen Finucane <sfinucan@redhatcom>,0.17224735021591187
864,WIP: Fixes port security settings caching issue Change-Id: I91b9000c64d269b7d5b1db9e0c6344bbd70e37b2,0.27570873498916626
865,Deal with security groups with duplicated name Change-Id: I15107d8e848d542b856e531548844e56dfd0add4 Closes-Bug: #1744154,0.2302844226360321
866,"Disable security group rule when create port Use ""driver_handles_share_servers=True"" backend driver When create service neutron port to connect with service instances_ we should set the port security group is disable_ to prevent be added the default security group in neutron Because some cases the default security group would lead to the port can not connect with the service instances Change-Id: Ib13e4f80c5a54b2b863b511ebb6e8f82700a3639",0.1419352889060974
867,Fix _port_arg for security rules with icmp/ipv6-icmp aliases When a security group rule is created with icmp/ipv6-icmp alias such as protocol number 1(ICMP)_ 58(ICMPv6) or string icmpv6(legacy name for ipv6-icmp) as its protocol along with ICMP/ICMPv6 message type specified_ _port_arg will generate a wrong str for iptables/ip6tables This commit fixes this problem Change-Id: Iae01b9a0da34797a5f061a110f06e18be9bbec5a Closes-Bug: #1743552,0.19987937808036804
868,Add cli for remove security group Change-Id: I35919f3e6edd0239a4edc0b68c6622f910d85be6 Closes-Bug: #1737152,0.2603502869606018
869,Text clippin in window security groups Fixed text overflow from form by removing limiting max-height media in scss Change-Id: I4960a01ab2a78bb80f0877a8b5b4a3a06590b392 Closes-Bug: #1743685,0.1882498860359192
870,Add API endpoint to remove security group Change-Id: I817d5b8dde2029e2e70276f1b7196119518d5be0 Closes-Bug: #1698467,0.24638855457305908
871,"Update security group rule protocol parameter text Updated text to include ""any""/""0"" and ""ipip""/""4"" as valid parameters for protocol in security group rules_ as well as any integer value from [0-255] Change-Id: I80ee9bcd885c5c0383925f8d0bb10d34335f8038 Related-bug: #1716790",0.24479179084300995
872,Check for security group correctness This patch is updating networking-ovn to check for correctness when creating and deleting security groups Note that_ networking-ovn doesn't care about updates on security groups so the patch only cares about whether the security group exist or not Change-Id: I2add7ba1eb989fd585792c751cba4ec87f3c4974,0.41686123609542847
873,Fix error when using protocol number in security groups When the support of protocol numbers in security groups was fixed in [1]_ it introduced two deficiencies in the iptables code: - it was missing some protocols_ for example_ 'icmp'_ 'tcp' and 'udp'_ so when rules were added by number we did not use their name as iptables expects - it used a dictionary to map numbers to names_ but protocol numbers are stored as strings (ie '1' != 1) Updated the iptables number mapping dict to have all currently-known values_ even those that are already well-known and should have been using a string instead of a number Also changed the iptables number mapping dict to use strings as the keys instead of numbers_ since that's what will be passed from the security group code Removed IPTABLES_PROTOCOL_MAP as it lives in neutron-lib_ and accidentally snuck-in in [1] [1] I5895250b47ddf664d214cf085be693c3897e0c87 Change-Id: I6b7575eb531b4f35579960c3feb47000cd259b86 Closes-Bug: 1719711 (cherry picked from commit 37bd42e4f5d1be49689032822aca339523cfda33),0.3157075047492981
874,check the security group has been added to the container Change-Id: I06f60fceb6116d2bb7189426295757b5abe5598c,0.24772793054580688
875,Support protocol numbers in security group API Somewhere along the way we broke supporting numbers in the security group API that were not in our known list of protocols In order to fix this properly we must use the correct arguments when using iptables-save_ as it could use a name instead of a number_ or vice-versa Determined the list of mappings by doing: for num in {0255}; do iptables -A INPUT -p $num; done # iptables-save Change-Id: I5895250b47ddf664d214cf085be693c3897e0c87 Closes-bug: #1716045 Closes-bug: #1716790 (cherry picked from commit 7ff492c5bb9ce9f24f12db40c8e3a33beb47f87b),0.2073243409395218
876,console: provide an RFB security proxy implementation Instead of doing straight passthrough of the RFB protocol from the tenant sock to the compute socket_ insert an RFB security proxy This will MITM the initial RFB protocol handshake in order to negotiate an authentication scheme with the compute node that is distinct from that used by the tenant Based on earlier work by Solly Ross <sross@redhatcom> Implements bp: websocket-proxy-to-host-security Change-Id: I9cc9a380500715e60bd05aa5c29ee46bc6f8d6c2,0.05210651084780693
877,Migrate to override_role for network security group tests Now that override_role has supplanted switch_role (which has been deprecated) in [0]_ the RBAC tests need to switch to use override_role This PS switches to override_role for the network security group test in test_security_groups_rbacpy [0] I670fba358bf321eae0d22d18cea6d2f530f00716 Partially Implements: blueprint rbac-utils-contextmanager Change-Id: I960c7fb10b7be2f2dd0422a4986ba12d5ecffa75,0.21324343979358673
878,Fix error when using protocol number in security groups When the support of protocol numbers in security groups was fixed in [1]_ it introduced two deficiencies in the iptables code: - it was missing some protocols_ for example_ 'icmp'_ 'tcp' and 'udp'_ so when rules were added by number we did not use their name as iptables expects - it used a dictionary to map numbers to names_ but protocol numbers are stored as strings (ie '1' != 1) Updated the iptables number mapping dict to have all currently-known values_ even those that are already well-known and should have been using a string instead of a number Also changed the iptables number mapping dict to use strings as the keys instead of numbers_ since that's what will be passed from the security group code Removed IPTABLES_PROTOCOL_MAP as it lives in neutron-lib_ and accidentally snuck-in in [1] [1] I5895250b47ddf664d214cf085be693c3897e0c87 Change-Id: I6b7575eb531b4f35579960c3feb47000cd259b86 Closes-Bug: 1719711 (cherry picked from commit 37bd42e4f5d1be49689032822aca339523cfda33),0.3157075047492981
879,NSX|V: ensure port security is enabled for address pair support Change-Id: I7057cd2e6e4723f347c7c5fa854f641ea2b6302f,0.2198769599199295
880,Playbook to adjust security parameters Turn on/off security features if your Overcloud has them Change-Id: I9918b58af91550cec22165944bc839cf9559ddf9,0.16488230228424072
881,Support protocol numbers in security group API Somewhere along the way we broke supporting numbers in the security group API that were not in our known list of protocols In order to fix this properly we must use the correct arguments when using iptables-save_ as it could use a name instead of a number_ or vice-versa Determined the list of mappings by doing: for num in {0255}; do iptables -A INPUT -p $num; done # iptables-save Change-Id: I5895250b47ddf664d214cf085be693c3897e0c87 Closes-bug: #1716045 Closes-bug: #1716790 (cherry picked from commit 7ff492c5bb9ce9f24f12db40c8e3a33beb47f87b),0.2073243409395218
882,Update tempest for neutron driver attach/detach security group action Depends-On: I51ec7452a5a7a77cc8cfc57b87e671685280ea73 Change-Id: I693da5f6f8f67de62daee24a5c7516abf1599a10,0.2994304597377777
883,[doc] Modify the content of the configure access and security for instances The 'Security Groups' is under 'Network' tab_ the 'Key Pairs' is under 'Compute' tab_ and so on So this patch fix them Change-Id: Ieea68cd06b049b5b98c6f7d4b98ef9d5da3d7210,0.16417185962200165
884,Library policy for tag-based network security zone Change-Id: I0233d1560169605be8aa51a79d0e71ff596568ea,0.20237091183662415
885,Add attach/detach security group action to neutron driver To modify the security groups attached to the list through congress policy_ actions to attach/detach a security group to/from port is needed Because the neutron v2 API and client do not support attach/detach of a single security group_ but only the replacement of the entire security group list_ we add these custom actions which combine a read and update action to accomplish the attach/detach Caveat: Another concurrent update to the list of attached ports may be lost Unfortunately_ there is simply no better solution given the limitations of the neutron v2 API So we enable these actions anyway with documented warning in the driver actions description Change-Id: I51ec7452a5a7a77cc8cfc57b87e671685280ea73,0.19624215364456177
886,Add scenario test that associate security group to port and spawning VM using that port This test is creating two subnets on the same network_ creating ports with a pre-made security group_ and then spawning two VMs and assigning them with the group created - to verify that it is inherited and enforced Change-Id: I40f8b0cac360594a65fb9f6023930af3322cac58,0.059810832142829895
887,Bug in updating duplicate rules in security groups After some operations for duplicate rules in security groups_ the acls in ovn northbound will be more or less than it should be Change-Id: Ia7fc9ca678a83185638841e42fa54658ea4e514c Closes-bug: 1740254 Signed-off-by: Dong Jun <dongj@dtdreamcom>,0.22743284702301025
888,Add security group tests to test_mech_driverpy This set of test cases is supplement to test_aclpy_ the purpose is to test acl methods invoking Content correctness of args of acl methods is mainly guaranteed by acl_testpy This test patch is also a preparation for bug[1] [1]https://bugslaunchpadnet/networking-ovn/+bug/1740254 Change-Id: I20756b7666510159aa0499759953ad7c45963765 Signed-off-by: Dong Jun <dongj@dtdreamcom>,0.18525636196136475
889,WIP: Enable etcd with security setting Simplex setup test pass! Change-Id: I27733a881a267e61502b36627dcab4136de23e3f Signed-off-by: Zhipeng Liu <zhipengsliu@intelcom>,0.13263429701328278
890,WIP: Enable etcd with security setting Simplex setup test pass! Depends-on: https://reviewopendevorg/#/c/760508/ Change-Id: I88691b84c9acc2e27f0b783d7454a873d3490072 Signed-off-by: Zhipeng Liu <zhipengsliu@intelcom>,0.15249952673912048
891,WIP: Enable etcd with security setting Simplex setup test pass! Change-Id: Ifb5bb2506a260186bf4e8caa487bbeaae04df80b Signed-off-by: Zhipeng Liu <zhipengsliu@intelcom>,0.12441179156303406
892,Remove security group updates The only thing that the security group updates did was to update the external_ids of the Address_Set with its current name That name wasn't used for anything in networking-ovn either other than knowing wheter that was a security group created by networking-ovn or not So_ instead of having the name saved in the external_ids this patch changes it to the security group ID which is the canonical identifier of the resource and won't change Change-Id: I5a8b64639d38e11050dae1008b14d48de14ecf94,0.3923795223236084
893,Support all Neutron protocol names in a security group rule Adds support for all the string values of IP protocols supported by Neutron such as rsvp_ ah_ esp_ ospf and so on The complete list of all the protocols names could be found in the bug report Change-Id: Ida2523a401aef60def7749af9033b4467a8cf001 Closes-Bug: #1737785,0.19006063044071198
894,[policy in code] Add support for replica and network resource [7/10] This patch adds policy in code support for replica_ network and security service resources Change-Id: I9a79b5ececc583e85149cc920950e462e805b245 Partial-Implements: blueprint policy-in-code,0.323619544506073
895,Apply security group when attach network Fix bug: when attach new network on a container which has add a security group before_ security group doesn't apply on new port Change-Id: I091a05078001c7e649afdaf21505e1ed2614da6b,0.18285296857357025
896,Resolve security group rule with integer protocol values When a SG rule is created in Neutron with an integer protocol value_ this rule does get configured on the VPP and the vpp-agent throws an error Neutron sets the protocol value to a string which was not being correctly converted to an integer Resolved the issue by updating the mech-vpp driver code to recognize empty port ranges and correctly converting from string to int Change-Id: I6ad1278a7364df9e30b7351adad9579e2369878e,0.2086908519268036
897,Document security group Nodepool spawns instances under default security groups This needs to be explained in the documentation_ since at least SSH traffic should be allowed_ which is not the case in default security groups Change-Id: I1db22361556c035b61829c35d8f61da414cf0c91,0.1509690284729004
898,Handle race condition deleting security group rule It is possible that during the `_update_security_group_rules` operation_ the security group rule which is to be deleted gets removed by some other external operation If this happens_ it raises a NotFound exception is not handled which can lead to a load balancer stuck in a PENDING_DELETE status Depends-On: I97b52b80efb33749647229a55147a08afa112dd2 Change-Id: Ic9ebe8392758f3de5fc6a94f815f83d6de113188 Story: 2001300 Task: 5851 (cherry picked from commit 709a23cdce016795571695983e38bc8e8b38d355),0.21366408467292786
899,Handle race condition deleting security group rule It is possible that during the `_update_security_group_rules` operation_ the security group rule which is to be deleted gets removed by some other external operation If this happens_ it raises a NotFound exception is not handled which can lead to a load balancer stuck in a PENDING_DELETE status Change-Id: Ic9ebe8392758f3de5fc6a94f815f83d6de113188 Story: 2001300 Task: 5851,0.17060206830501556
900,Add test for negative security group range scenario The test added is verifying that security group assigned with bad CIDR is unreachable Follow-up to the positive test: https://reviewopenstackorg/516266/ Change-Id: I2a4c50614d20db4f815681d40aa197b5fb16252f,0.2087409645318985
901,NSX|V3: Do not enable port security on router interface Router interface ports are created with port security disabled as they are trusted ports The plugin should not allow to enable the port security on such ports Cherry picked from: I0271e225f9fdeed8493296ed81348ab4e73679f0 Change-Id: I39be2c9721342d73f16cca3f1aaff03c81f90511,0.16706271469593048
902,NSX|V3: fix create port with provider security group If provider security groups are configured and there is no port security then we throw an exception ensure that port security is enabled if provider cre Change-Id: I14b1a4bca8bde253aee3c25e09442869f45da77e (cherry picked from commit 339606bfc8f3a0a83d6f6aba7b70efa0798cb769),0.24793493747711182
903,NSX|V3: fix create port with provider security group If provider security groups are configured and there is no port security then we throw an exception ensure that port security is enabled if provider cre Change-Id: I14b1a4bca8bde253aee3c25e09442869f45da77e,0.18531537055969238
904,Sort security group rules more meaningfully At now_ security gorup rules are sorted based on ip_protocol and from_port by default_ but there are more higher level classification like direction and ethertype (like IPv4_ IPv6) This commit improves the default sort order in more meaningful order Change-Id: Ia45830e9953e92141a3ce91a78dd338960b5ac11 Closes-Bug: #1264738,0.2500855326652527
905,Add security release note for OSSA-2017-005 Change-Id: I053f1bbc56481bddce8792aa4b5460a55cc0db2d Related-Bug: #1664931 (cherry picked from commit 31d28eef95ab82bdfce2221cd5633bcf4bc13653) (cherry picked from commit 3f63d057a64b688b66ff1903c1afc4d97ba6df6d) (cherry picked from commit ffd4f72d16dacd6ca1e703f9bab37b8917d253e7),0.5444943904876709
906,Correct log message when removing a security group When a security group is removed from a port nova incorrectly logs this as a security group addition Change-Id: If525313c63c4553abe8bea6f2bfaf75431ed18ea Closes-bug: 1731889 (cherry picked from commit 01da04a0a7eff4c52bd0e35d404545f9a413b602),0.26407337188720703
907,NSX-Migration of default security groups When migrating a security from to the nsx-v3 cloud_ if it is named 'default' try to mark it as the default SG in the DB Change-Id: Ibcd1932c18491e9f1a2d4bb54cae6d830dd3108f,0.186129629611969
908,NSX-Migration of default security groups When migrating a security from to the nsx-v3 cloud_ if it is named 'default' try to mark it as the default SG in the DB Change-Id: Ibcd1932c18491e9f1a2d4bb54cae6d830dd3108f,0.186129629611969
909,NSX-Migration of default security groups When migrating a security from to the nsx-v3 cloud_ if it is named 'default' try to mark it as the default SG in the DB Change-Id: Ibcd1932c18491e9f1a2d4bb54cae6d830dd3108f,0.186129629611969
910,Add security release note for OSSA-2017-005 Change-Id: I053f1bbc56481bddce8792aa4b5460a55cc0db2d Related-Bug: #1664931 (cherry picked from commit 31d28eef95ab82bdfce2221cd5633bcf4bc13653),0.5289406180381775
911,Add security release note for OSSA-2017-005 Change-Id: I053f1bbc56481bddce8792aa4b5460a55cc0db2d Related-Bug: #1664931,0.5300770998001099
912,Add security release note for OSSA-2017-005 Change-Id: I053f1bbc56481bddce8792aa4b5460a55cc0db2d Related-Bug: #1664931 (cherry picked from commit 31d28eef95ab82bdfce2221cd5633bcf4bc13653) (cherry picked from commit 3f63d057a64b688b66ff1903c1afc4d97ba6df6d),0.5425117611885071
913,Correct log message when removing a security group When a security group is removed from a port nova incorrectly logs this as a security group addition Change-Id: If525313c63c4553abe8bea6f2bfaf75431ed18ea Closes-bug: 1731889 (cherry picked from commit 01da04a0a7eff4c52bd0e35d404545f9a413b602),0.26407337188720703
914,Correct log message when removing a security group When a security group is removed from a port nova incorrectly logs this as a security group addition Change-Id: If525313c63c4553abe8bea6f2bfaf75431ed18ea Closes-bug: 1731889 (cherry picked from commit 01da04a0a7eff4c52bd0e35d404545f9a413b602),0.26407337188720703
915,Correct log message when removing a security group from a port Change-Id: If525313c63c4553abe8bea6f2bfaf75431ed18ea Fixes-bug: 1731889,0.2786273956298828
916,Default security group update 1 What is the problem? Currently we can't update default security group So when we add a new rule_ we must ensure there is a non-default security gruop Besides_ for the addtion or deletion of rules is using a syn way_ it needs more time 2 What is the solution to the problem? When users update the default security group doesn't raise exception and allow users to update default sg For addtion or deletion using Xjob 3 What the features need to be implemented to the Tricircle No new features Change-Id: Ibf896f15390b656bda6d438bd3176e4b15dd359c,0.17210054397583008
917,"Fix security group rule tcp/udp port range failed ovn ACL flow needs to use ""tcpdst >= 22""_ not ""tcp >= 22"" Change-Id: I280a4224ea0fbae281482075981d596102770955 Closes-bug: #1718114 (cherry picked from commit f5fe5e3c623a2a65ee78ec28b053d8e72060c13d)",0.29599690437316895
918,NSX|V: add in security rule tags for 'project_id' Leverage the NSX DFW tag to store the neutron project ID This will help a admin filter logging The tag will be 'Project_<PROJECT_UUID>' Change-Id: Ie6ff0594012e3fa252aa999eb68cff872d1c2c5e,0.12575195729732513
919,Added a new test case to 'test_security_groups' suite The new test added is a negative test that verifies the inability of deleting in-use security group Change-Id: I118f1998df2184f9a688213cbaf01006f0426909,0.22819167375564575
920,Support protocol numbers in security group API Somewhere along the way we broke supporting numbers in the security group API that were not in our known list of protocols In order to fix this properly we must use the correct arguments when using iptables-save_ as it could use a name instead of a number_ or vice-versa Determined the list of mappings by doing: for num in {0255}; do iptables -A INPUT -p $num; done # iptables-save Change-Id: I5895250b47ddf664d214cf085be693c3897e0c87 Closes-bug: #1716045 Closes-bug: #1716790,0.18572115898132324
921,Provide redirection for all security context attributes The previous attempt at this was to redirect as little as possible However_ this has proven to be problematic twice auth_cacert wasn't redirected_ it was used by some of the OpenStack actions and thus blocked Mistral [1] patch that would have Mistral start using the new context This change redirects all properties in the SecurityContext which should be safer for our internal actions and for end users actions [1]: https://reviewopenstackorg/#/c/506185/14 Partial-Bug: #1718353 Needed-By: Ife653558bfcda794e7f37086832f70b0ad7c28a4 Change-Id: I6057d0ce3fe4ae23468be8fb06cb85dc5f467f6b (cherry picked from commit 817461b40c4d433e3c18879e0c47c5ef3a7281c8),0.16441284120082855
922,Avoid redundant security group queries in GET /servers/{id}/os-security-groups The GET /servers/{server_id}/os-security-groups API code can perform poorly if the instance has several security groups and each security group has several rules This is because when processing the output_ we loop over the groups_ and loop over the rules per group_ and then for each rule_ if it has a group_id specified_ we query the security group details (from Neutron in most cases) If more than one rule points at the same group_id_ we're doing a redundant group lookup and sending more traffic to the security group API (aka Neutron) than needed This change optimizes that single API to load the rule group details up front so that we only do at most one lookup per group_id This could be extended to GET /os-security-groups but that API is deprecated so any optimization there is lower priority Change-Id: Ia451429f61b15526fade6838386e562c17591d36 Closes-Bug: #1729741,0.20325437188148499
923,Provide redirection for all security context attributes The previous attempt at this was to redirect as little as possible However_ this has proven to be problematic twice auth_cacert wasn't redirected_ it was used by some of the OpenStack actions and thus blocked Mistral patch that would have Mistral start using the new context This change redirects all properties in the SecurityContext which should be safer for our internal actions and for end users actions Change-Id: I6057d0ce3fe4ae23468be8fb06cb85dc5f467f6b,0.1440275013446808
924,Fixed creation neutron api mapping for security groups Fixed creation of security group and security group rule via neutronclient api mapping There was a switch from novaclient to neutronclient for creating a security groups and rules in change 5d5666b10e57a94bcde06c8a296002175d935c7b but the argument mapping for this function has not been changed Change-Id: I1774b73c61adb3b44a61f3f56f99e85f278deb83 Closes-Bug: 1716922 (cherry picked from commit c93f5833e4100d2325994b1bdf8f0d12b70d00c7) (cherry picked from commit 7d7022f74301db90b8a0ccd634a592991598156e),0.3399962782859802
925,Fixed creation neutron api mapping for security groups Fixed creation of security group and security group rule via neutronclient api mapping There was a switch from novaclient to neutronclient for creating a security groups and rules in change 5d5666b10e57a94bcde06c8a296002175d935c7b but the argument mapping for this function has not been changed Change-Id: I1774b73c61adb3b44a61f3f56f99e85f278deb83 Closes-Bug: 1716922 (cherry picked from commit c93f5833e4100d2325994b1bdf8f0d12b70d00c7),0.3345913589000702
926,Support security groups association per port This patch support operation for operators and project users to associate security groups to a port The feature is mentioned at last summit[1] This function UI is same as the function of security groups association per instance To realize this_ the way of implementation for 'Edit port' is changed_ which move from a single modal to a workflow base [1]It comes from the neutron user feedback session in Barcelona https://etherpadopenstackorg/p/ocata-neutron-end-user-operator-feedback (L35+) Also we need to display how security groups is associated at a port At the moment_ there is not way to be able to see it (only this function) It should be done as an another patch Change-Id: I96e0fafdffbf05b8167ec1b85f7430176fdaab90 Closes-Bug: #1637444,0.2284104824066162
927,Add deprecated context parameters to the new security context In the recent parameter migration_ a number of parameters were incorrectly deprecated They were not redirected to the new location correctly and would cause an error Change-Id: I5ea09c3c79df5a43b06194a48f7425a15a1b23cf Closes-Bug: #1728081 (cherry picked from commit e195c6d90fee0dc6b0435efd9aec6b383923cd88),0.24886947870254517
928,Add deprecated context parameters to the new security context In the recent parameter migration_ a number of parameters were incorrectly deprecated They were not redirected to the new location correctly and would cause an error Change-Id: I5ea09c3c79df5a43b06194a48f7425a15a1b23cf Closes-Bug: #1728081,0.23940378427505493
929,[Tempest] Testing remote_ip_prefix for security groups Configuring non-default remote_ip_prefix parameter in the rule list for testing connectivity between VMs with such a rule Change-Id: I3f4b59f4fd3a0279d76cda2d2bf535c6e819adae,0.09311999380588531
930,Fix support for security groups on Port-Channels When an interface is a member of a Port-Channel_ we should apply ACLs to the Port-Channel rather than the interface as only the ACLs on the Port-Channel have any effect on traffic Change-Id: Ibc4f6f16ee26d142e771b2d5a57ff7f913816779,0.20710889995098114
931,Fix support for security groups on Port-Channels When an interface is a member of a Port-Channel_ we should apply ACLs to the Port-Channel rather than the interface as only the ACLs on the Port-Channel have any effect on traffic Change-Id: I8661d4c15a7aaa2d2d1c9b15857e0a151d557e48,0.2178439497947693
932,"Add security headers to web accessable services Adds the following headers as static: X-Content-Type-Options ""nosniff"" X-XSS-Protection ""1; mode=block"" append Content-Security-Policy ""default-src 'self' https: wss:;"" nosniff prevents non-executable mime times from becoming executable The X-XSS-Protection header will prevent the loading of a page if the browser detects an xss attack The Content-Security-Policy declares what dynamic resources are allowed to load Adds the following header as user-setable via the keystone_x_frame_options variable X-Frame-Options ""DENY"" By default the X-Frame-Options header denies embedding in an iframe Change-Id: Iadd3e93bdb7e9d41ae1d027196367448dbce19f1 Partial-Bug: 1717321",0.13067829608917236
933,Fix support for security groups on Port-Channels When an interface is a member of a Port-Channel_ we should apply ACLs to the Port-Channel rather than the interface as only the ACLs on the Port-Channel have any effect on traffic Change-Id: I8661d4c15a7aaa2d2d1c9b15857e0a151d557e48,0.2178439497947693
934,WIP: Use volumes for security hardened images Change-Id: I88049da2179e2ea984e05648abb60c804a521b70,0.27895671129226685
935,Fix security groups tests Commit I2586f0b11b107d7f57214a0d65bcf7c38a5f0ebb broke our unit tests extension handling Change-Id: Id7049b4e4db31e2785a7dee73b81c73937dae3f6,0.300823450088501
936,Run security hardening when leaping a deployment The security hardening playbook was not being executed This change adds the security hardning playbook to the defeault re-deployment process If a deployer wishes to opt-out of the default security hardening they can disable it using the `apply_security_hardening` option Change-Id: I69baa1d2cb209cf3686ca2da00e698ed5dbf92f9 Signed-off-by: Kevin Carter <kevincarter@rackspacecom>,0.2841438949108124
937,Build German security guide The guide has been translated_ build and publish it Change-Id: I0a8328d3b82c2a2f66f628591037d56a4bf10b59,0.3164905607700348
938,"Add security headers to web accessable services Adds the following headers as static: X-Content-Type-Options ""nosniff"" X-XSS-Protection ""1; mode=block"" append Content-Security-Policy ""default-src 'self' https: wss:;"" nosniff prevents non-executable mime times from becoming executable The X-XSS-Protection header will prevent the loading of a page if the browser detects an xss attack The Content-Security-Policy declares what dynamic resources are allowed to load Adds the following header as user-setable via the keystone_x_frame_options variable X-Frame-Options ""DENY"" By default the X-Frame-Options header denies embedding in an iframe Change-Id: Iadd3e93bdb7e9d41ae1d027196367448dbce19f1 Partial-Bug: 1717321",0.13067829608917236
939,"Allow creating security rules without protocol In order to create a rule for any protocol_ the client must not specify the protocol in the API call This is currently impossible because protocol defaults to TCP In order not to change the default behavior_ a ""new"" protocol name is added: ""any""_ which makes this CLI skip sending the protocol field altogether Change-Id: I58853d3745f3631007e5e9780c0c5c2526b730a3 Closes-Bug: 1712242",0.1025821715593338
940,console: introduce basic framework for security proxying Introduce a framework to the websocketproxy to allow a security negotiation to take place between the proxy and the target service_ prior to connecting the client tenant to the target service Based on earlier work by Solly Ross <sross@redhatcom> Implements bp: websocket-proxy-to-host-security Change-Id: Ifb9360be73864ab45129c758bd1323a9bab8e48c,0.14833825826644897
941,Websockify security proxy framework This proposes a generic framework for supporting TLS encryption between the console proxy servers and the compute nodes for SPICE_ VNC and serial ports Change-Id: I315fe29dac91788a5d81212652dd6ef454263674 Previously approved: Juno_ Kilo_ Mitaka_ Newton_ Ocata_ Pike Blueprint websocket-proxy-to-host-security,0.18956969678401947
942,Allow cluster create with no security groups Got an unbound variable error without this fix: UnboundLocalError: local variable 'sec_groups' referenced before assignment This appears to have been caused by the move to use the neutron client in the following commit: b4fb2c404c371a5ba9b28a3ac769c94e69b8c141 Co-Authored-By: Jeremy Freudberg <jeremyfreudberg@gmailcom> Closes-Bug: #1718940 Change-Id: I4f0b5a6b27ee2fb7821ec42faba3a69ce5a4bb78 (cherry picked from commit 88b427e98858990a35378370ba4b27691f6e6189),0.264435738325119
943,Allow cluster create with no security groups Got an unbound variable error without this fix: UnboundLocalError: local variable 'sec_groups' referenced before assignment This appears to have been caused by the move to use the neutron client in the following commit: b4fb2c404c371a5ba9b28a3ac769c94e69b8c141 Closes-Bug: #1718940 Change-Id: I4f0b5a6b27ee2fb7821ec42faba3a69ce5a4bb78,0.23835638165473938
944,"Enable security related headers when SSL is enabled Horizon can be setup in a more secure way Enable more headers when: SSL is enabled - X-XSS-Protection ""1; mode=block"" - X-Content-Type-Options ""nosniff"" - CSRF_COOKIE_SECURE_ SESSION_COOKIE_SECURE in Django enforce-ssl is set additionally - Strict-Transport-Security ""max-age=15768000"" Content Security Policy (CSP) is not enabled this time Horizon upstream may need some work: https://bugslaunchpadnet/horizon/+bug/1618024 Change-Id: I84605bd7e00df64da522b805b4e9a88521d1e0f6 Closes-Bug: #1713202",0.23269040882587433
945,Change Docs Team lead for Security Guide Nathaniel Dillon is no longer working on the security guide and so replacing him with Luke Hinds (Sec PTL)_ until a new lead is found Change-Id: I563979b26f24febc6209aa117307fa35ef859052,0.3132770359516144
946,"Fix IP Config security violations - phase 2 Updated IPv4 and IPv6 config settings in ""/etc/sysctlconf"" to resolve openscap security violations as part of phase 2 fixes The fixes have been validated by successful installs in IPv4 AIO-SX and IPv6 Standard configurations Story: 2008037 Task: 40694 Change-Id: I9c4f01c5a5ba135c38d0e3c61618055cdfad18f9 Signed-off-by: Carmen Rata <carmenrata@windrivercom>",0.27655351161956787
947,Remove _project_network_cidr in security group tests This is to remove _project_network_cidr in security group tests and use str(selfcidr) instead Change-Id: I097988bcd3f340fd1fda0435e80c3027cf67471e,0.19484975934028625
948,Ensure default security group before port update The default security group can be deleted and updating a port will recreate it However_ we should do this in the BEFORE_UPDATE event handler rather than waiting for it to happen inside of the port update transaction which violates the transaction semantics of the security group callbacks Closes-Bug: #1718282 Change-Id: I1ce8b558b0a831adcebead512d97554173423955 (cherry picked from commit 017185496c9f3f30b4b819ead86dd5bfe5a72597),0.23585271835327148
949,[Tempest] Testing default security group scenarios 1) Testing connectivity after adding ssh security rule 2) Testing that with ssh security rule you can't ping VM 3) Testing ICMP connectivity between 2 VMs 4) Testing connectivity to external network Change-Id: I9e8a698f896089b530210735e1243bfff3afcdb7 (cherry picked from commit 7279aa35851110a4933a10b58b2758a2bc3933a3),0.14393901824951172
950,Fixed creation neutron api mapping for security groups Fixed creation of security group and security group rule via neutronclient api mapping Change-Id: I1774b73c61adb3b44a61f3f56f99e85f278deb83 Closes-Bug: 1716922,0.3144317865371704
951,Ensure default security group before port update The default security group can be deleted and updating a port will recreate it However_ we should do this in the BEFORE_UPDATE event handler rather than waiting for it to happen inside of the port update transaction which violates the transaction semantics of the security group callbacks Change-Id: I1ce8b558b0a831adcebead512d97554173423955,0.2036878913640976
952,Add unit tests for security group callback handler This patch improves unit test coverage for the OpenContrail security group callback handler object (ml2/opencontrail_sg_callback) It provides tests for functions of this class including creating_ deleting_ and updating security groups_ as well as creating and deleting security group rules Change-Id: I1b4a43b55f7ec4fc5894e6e0ec180923ed1f0333,0.23431292176246643
953,"Fix security group rule tcp/udp port range failed ovn ACL flow needs to use ""tcpdst >= 22""_ not ""tcp >= 22"" Change-Id: I280a4224ea0fbae281482075981d596102770955 Closes-bug: #1718114",0.25187379121780396
954,Update tempest plugin split goal for Security team Change-Id: Ifd7e44775ee60c13146b3dc1fcd4c1633058bf66,0.38861778378486633
955,Update policy goal for security team bp policy-and-docs-in-code Change-Id: I86b8a78ddd28d8a33be22bd925c63780363a83a4,0.35629427433013916
956,Add security section Add keystone file that takes its content from the keystone charm README A future PR will remove that charm content Rewrite the above content This section will eventually include other topics Change-Id: I5360f56de9b676dfd63a0cdce1371ee3ff4dd1ed,0.1827145367860794
957,Bump crypto requirement to accomodate security standards On Fedora rawhide the gear package no longer build https://koscheifedoraprojectorg/package/python-gear? This patch ensures that the ssl engine does not complains about: - sslSSLError: [SSL: EE_KEY_TOO_SMALL] ee key too small (_sslc:2951) - sslSSLError: [SSL: CA_MD_TOO_WEAK] ca md too weak (_sslc:2951) To reproduce the issue: podman run -it --root fedora:rawhide dnf install git libffi-devel python-devel tox gcc git clone https://opendevorg/opendev/geargit && cd gear tox -epy39 tox -epy38 Change-Id: I57cd9c4750f27b7b76e92a0eef03e7de70c13dd5,0.3670472502708435
958,[Tempest] Testing default security group scenarios 1) Testing that with default security group you can't reach VM 2) Testing connectivity after adding ssh security rule 3) Testing ICMP connectivity between 2 VMs 4) Testing connectivity to external network Change-Id: I9e8a698f896089b530210735e1243bfff3afcdb7,0.09593063592910767
959,Validate security group rules for SCTP port ranges Use the same validation logic for SCTP as the logic for TCP and UDP Change-Id: Ife90be597d1a59a634d5474dad543dc1803e8242,0.20799677073955536
960,Fixed security group access Change-Id: I97244e5d35e42f9419ffc4e7d447746c3c7a98e5,0.2901501953601837
961,NSX|V3: Do not enable port security on router interface Router interface ports are created with port security disabled as they are trusted ports The plugin should not allow to enable the port security on such ports Change-Id: I0271e225f9fdeed8493296ed81348ab4e73679f0,0.17438039183616638
962,Fix restore security group error Change-Id: I8e19d5bb8f9a904dd3ebf1acbeb6b6b2b5ac3e5c Closes-Bug:#1713719 (cherry picked from commit 7a7d7a11d4917f7b8b0ecc82ccabc2a0149f4a7a),0.32962629199028015
963,Revise security spec to discuss SSH keys We missed this in the first pass We need to protect the private key to reduce the impact of any ansible-playbook escapes Change-Id: Id7ef192f87fc665feb89629f1a8d0b75f9de5f9b,0.28613635897636414
964,Fix restore security group error Change-Id: I8e19d5bb8f9a904dd3ebf1acbeb6b6b2b5ac3e5c Closes-Bug:#1713719,0.2498120367527008
965,Release note entries for Security Guide Changes and fix round up for security guide docs Change-Id: I59bca50d6977c58c4bf59e55aa2d939e46f05557,0.485452264547348
966,Add port security option for OVB with no network isolation For OVB clouds requiring port security_ there is a default template to be added when the overcloud is deployed without network isolation This review adds that option Change-Id: Id4e0ae571bf4d875a56175320e98f5f427fe6511,0.21768492460250854
967,[TrivialFix] Move security group tests into correct test file This commit moves security group tests currently in test_server_rbac into test_security_groups_rbac as that is the logical place for the tests And this commit renames the deprecated security groups test class to avoid a name conflict with the non-deprecated test class Change-Id: Iae32d9bc7e22e39415e498e44f0da4f2711dc550,0.3466683030128479
968,Convert network security group functional tests to JSON Change-Id: Icb63aa0dfbce9016fb824f97915a660cf130d120,0.18696948885917664
969,Hook bandit security linter to pep8 target This helps catch in advance a number of potential issues with the neutron code Change-Id: I3e4cbc94539dd2cce61bfa5cd0265e75d7336311,0.3120962977409363
970,Add retries for security group delete Change-Id: I8123a9475831424c34a47530c793b2a7bee553f0,0.2841006815433502
971,api-ref: requested security groups are not applied to pre-existing ports When creating a server_ you can request security groups and pre-existing ports_ but the security groups are only applied to any new ports that nova creates_ not the pre-existing ones that the user passes in This change makes a note of that in the API reference Change-Id: I0ea6891f10f021b0ed752200417e87d7e9bfda31 Related-Bug: #1707319,0.22416478395462036
972,Hook bandit security linter to pep8 target This helps catch a number of potential issues with the neutron code in advance A false positive can be skipped with #nosec at the offending line_ just like #noqa can be added on offending module imports (cherry picked from commit 85a3e93537fcc2055705cb95a38e88c47ccd500a) Change-Id: I3e4cbc94539dd2cce61bfa5cd0265e75d7336311,0.24964773654937744
973,Fixed nova api to neutron for security groups and nova api to glance for image uploading Change-Id: Ia868d517b8295eba4afa2f12d88ccb4e0e1c249d,0.34186214208602905
974,NSX|v3: process the port security of the dhcp ports When creating a neutron dhcp port for a subnet_ we need to also call the relevant process method to make sure the neutron db is updated Change-Id: Ib5442d36464d51c4a82ba1af8d3e065b85ebd212,0.20486795902252197
975,Add unit tests for security groups This patch aims to provide unit test coverage for security gorups create update and delete handlers get operation was not covered because none of the other tests are covering this at the moment The same is true for the exceptions Change-Id: Id8345d517a0a98253eb90c82107423e3ffa1f7cf,0.30926087498664856
976,"[GCE] Skip Security group rule verification for egress rules Neutron by default adds two egress rules to security group creation API calls If we block egress rules_ any type of security group creation fails So we just log warning in case of neutron egress security group rules being not supported on GCE Switched to gce beta APIs as firewall group creation calls are deprecated on v1 APIs Firewall related call report error ""feature not supported yet"" Change-Id: I7baded2df5b34239e2cf99ca49c9d6c8eba46294 Closes-bug: #1709002",0.24036288261413574
977,"Fixed ""IAAS-7755: Omni AWS Security Groups Creation Failure"" Issues: 1 Security Group created using Openstack API_ creates 2 outbound rules (1 for IPv4 and 1 for IPv6) and no inbound rules Hence the rule_dict that was getting created contained same data for both outbound rules Hence while authorization of egress direction_ it was throwing error ""ClientError: The same permission must not appear multiple times"" 2 Since there are no inbound rules in security group_ empty list was passed to AuthorizeSecurityGroupIngress operation Hence it was raising ""ClientError: Missing source specification: include source security group or CIDR information"" 3 While updating the security group which was created using API_ I was seeing error: ""ClientError: Missing source specification: include source security group or CIDR information"" as there were no inbound rules Fixes: 1 Added a check for IPv4 ether type in ""_convert_openstack_rules_to_vpc()"" 2 Moved authorization for ingress inside if block 3 Added checks in ""_update_sec_group()"" Closes-Bug: #1709545 Change-Id: I4e4acad4da3b095e7a8951abbfb94f1b0d9c7e41",0.2318078875541687
978,NetApp cDOT: Fix security style for CIFS shares If the backing FlexVol security style is configured incorrectly_ end users cannot write to their manila shares Change-Id: I12c85c54c7318592ac0b34efe3624d175d2e6976 Closes-Bug: #1696000,0.19289307296276093
979,"Revert ""DVS: Disable port security and security group"" This reverts commit 4b685d66cd00df8897c744f1a048ee3bda68b033 And also parts of commit I3b738d2990794f35776859d1fbe509036084ec3a Reason for revert: roll back to original behavior Change-Id: Ie800a42132b273ec9b8aeb39cc5878783c959dea",0.4138262867927551
980,"Revert ""DVS: Disable port security and security group"" This reverts commit 4b685d66cd00df8897c744f1a048ee3bda68b033 And also parts of commit I3b738d2990794f35776859d1fbe509036084ec3a Reason for revert: roll back to original behavior Change-Id: Ie800a42132b273ec9b8aeb39cc5878783c959dea",0.4138262867927551
981,"Revert ""DVS: Disable port security and security group"" This reverts commit 4b685d66cd00df8897c744f1a048ee3bda68b033 And also parts of commit I3b738d2990794f35776859d1fbe509036084ec3a Reason for revert: roll back to original behavior Change-Id: Ie800a42132b273ec9b8aeb39cc5878783c959dea",0.4138262867927551
982,"Revert ""DVS: Disable port security and security group"" This reverts commit 4b685d66cd00df8897c744f1a048ee3bda68b033 Reason for revert: roll back to original behavior Change-Id: Ie800a42132b273ec9b8aeb39cc5878783c959dea",0.4106282889842987
983,Perform port update if security group changed If only the security groups for a network changed in a profile_ do not delete and recreate the network during a profile update Instead apply the security group change by an update to the existing port Closes-Bug: bug/1905490 Change-Id: I43f1181c1592144d49784ba0d3c51c01bf2f1060,0.18959751725196838
984,[WIP] [GCE] Check security group compatibility with GCE at the time of creation Change-Id: I5f1fc67208085ef399f3dcfe5fdec63d4f2ffc51 Closes-bug: #1709002,0.2842210531234741
985,"defines the Hyper-V Security Groups Driver as a neutron firewall driver This change allows users to configure the neutron-hyperv-agent with ""firewall_driver=hyperv"" instead of the full classpath Change-Id: I86fff5784b7f04decd8b99e3b0774fbb89367232 (cherry picked from commit cdbceeaee485a5095a59cc7f05470a440065832e)",0.30276477336883545
986,"defines the Hyper-V Security Groups Driver as a neutron firewall driver This change allows users to configure the neutron-hyperv-agent with ""firewall_driver=hyperv"" instead of the full classpath Change-Id: I86fff5784b7f04decd8b99e3b0774fbb89367232",0.26319414377212524
987,Allow add security group by uuid Note: 1Test case can be found in bug description 2For the bug https://bugslaunchpadnet/zun/+bug/1707069 has not been fixed_ modify zun/compute/managerpy line 272 as follows before test: sandbox_id = containerget_sandbox_id() selfdriveradd_security_group(context_ container_ security_group_ sandbox_id) Change-Id: I82a34cfd6412f6a32a10d069c5c365ff7393cd61 Closes-Bug: #1707954,0.14344486594200134
988,fix comparision of security group rules ignore 'tags' field when compare openstack sg rule with ec2 Change-Id: If1076c3e9d4fb84dc524450da5a9d7912f4ffbde,0.22265388071537018
989,Update security groups for server interfaces Update the security groups for server interfaces if only 'network' is specified when update networks of nova server_ to make sure the security groups info correctly Change-Id: I0635d50b52c430885cb3d7733fb565a5c113fad2 Closes-Bug: #1703279,0.24873536825180054
990,NSX|v3: disable port security on dhcp ports When the plugin creates a dhcp port_ it uses the super code_ so the regular flow for creating a port is skipped_ and the default port security enabled is used The dhcp ports are considered trusted_ so it should be disabled by default_ same as the behavior in the nsx-v plugin_ and upstream Change-Id: Icd0240c12241cc484e1e62074b8cd581fcffb193,0.18651267886161804
991,Missing security support This commit includes an advanced Keystone based authorization plugin Bug: #1691352 Change-Id: Icb5d534c2a684f5efe7abf3b64227d66a3fbc2b6 Sem-Ver: feature,0.36116060614585876
992,Adding Luke Hinds candidacy for Security Project Change-Id: Icbea7f77db034be3a14a3e8854e36dd81898e606,0.24738185107707977
993,Hook bandit security linter to pep8 target This helps catch in advance a number of potential issues with the neutron code Copy and paste from https://reviewopenstackorg/#/c/488895/2 Closes-Bug: #1651317 Co-Authored-By: Armando Migliaccio <armamig@gmailcom> Change-Id: Id32c2658461891891f1054207a1ed6d72d19b7b1,0.2882080674171448
994,Check if security groups is duplicated or not in API Change-Id: I393620562b8f1f733a62ade12f29706519166dbd Closes-bug:1698471,0.23960202932357788
995,Add Security Groups steps into creation dialog To specify security groups options when create container_ this patch adds Security Groups step into the creation dialog The Security Groups step is not shown in update dialog Also_ security group infomations are shown in table view and details view Change-Id: Ic67baa367eb1210dde8e6d7610fe2c5332631aa7 Implements: bluepring add-security-groups,0.2622228264808655
996,Allow creating security group rules for ICMP At the moment_ it's not possible to create a security group rule with from port and to port set to -1 This is useful only when creating ICMP rules to allow all ICMP traffic This patch allows setting both values to -1_ only if the protocol of the security group rule is ICMP Change-Id: I290005b31fd4afc246db28ffd899302fb85a67fb (cherry picked from commit dad40312ebc12c3f79ef71fc0649342c102b59fa),0.216752290725708
997,Allow creating security group rules for ICMP At the moment_ it's not possible to create a security group rule with from port and to port set to -1 This is useful only when creating ICMP rules to allow all ICMP traffic This patch allows setting both values to -1_ only if the protocol of the security group rule is ICMP Change-Id: I290005b31fd4afc246db28ffd899302fb85a67fb (cherry picked from commit dad40312ebc12c3f79ef71fc0649342c102b59fa),0.216752290725708
998,Allow creating security group rules for ICMP At the moment_ it's not possible to create a security group rule with from port and to port set to -1 This is useful only when creating ICMP rules to allow all ICMP traffic This patch allows setting both values to -1_ only if the protocol of the security group rule is ICMP Change-Id: I290005b31fd4afc246db28ffd899302fb85a67fb,0.20598050951957703
999,add security groups policy policy that classifies security groups and extends to network ports and compute instances Change-Id: I779493a1dcf4eb4b09d2f9c28a730edd5365cfc7,0.1529480516910553
1000,Remove 'tags' from security group rule Neutron added [1] tags support to various objects_ including security group (rules) This change removes the key from the object dictionary in NB model creation [1] https://reviewopenstackorg/#/c/460391 Change-Id: I3f4dd049ab14e1727d34cda8f3ef69fd32ef6c06,0.26131924986839294
1001,Only ensure default security group exists if necessary A default security group will be assigned to a port if there is no security group attribute set In many use cases a port may be created with a security group or with no security groups The latter may be in a NFV use case with direct port support This change save a few cycles_ more specifically we do not need to read from the DB or create a default security group if the default will not be used TrivialFix Change-Id: Ib072c2753862ce0709a67942527e9c6241130042,0.11453855037689209
1002,Add port security to Octavia deploy The Octavia deploy steps need to enable port security for the neutron-api charm Partial-Bug: #1927959 Change-Id: I22e17834be2cc56e54a8f3a2b81827c88b82b35d,0.3079738914966583
1003,DVS: Disable port security and security group When a port is being created on a vlan network it is required to disable port security and security groups_ since they are not supported on DVS Change-Id: I5c6d61f7e50b39d33003a8ec72f2cb4fa400313c Signed-off-by: Michal Kelner Mishali <mkelnermishal@vmwarecom>,0.1663864552974701
1004,"Fix IP config security violations in sysctlconf Updated IPv4 and IPv6 config settings in ""/etc/sysctlconf"" to fix openscap security violations Some of the IP settings have been left unchanged and non conformant to openscap rules to preserve specific platform requirements Story: 2008037 Task: 40694 Change-Id: Idc47253fa3e84f82fd88dd4c75a9135acaac7fcc Signed-off-by: Carmen Rata <carmenrata@windrivercom>",0.213907390832901
1005,NSX|V: ensure no sec groups if network port security is disabled In the event that a network has port security disabled and there is no security group passed when the port is created we do not configure the default security group This is due to the fact that port security disabled should have no security groups Change-Id: Icc80fd06705e8964fdb17fdf76e29dee7cc4339c,0.12509271502494812
1006,Add security groups and security group rules to OVNClient This patch is adding the security groups and security group rules resources to the OVNClient so later we can use it for journaling Partial-Bug: #1605089 Change-Id: I452819c95173ca9a653a7557fdd7eeac6e4047d2,0.30153167247772217
1007,[WIP] Add tempest tests for security groups Change-Id: I91ee27ad4940093746e0f0f9f3440f99a307edb0,0.23657836019992828
1008,WIP - Cleanup security compliance documentation Closes-Bug: #1701389 Change-Id: I36be658f0a1efb25c55b24596bf67639c69c89d9,0.368916392326355
1009,"Add security groups to container create/run This allows users to create container with custom security groups If it is not specified_ the ""default"" security group will be used Change-Id: I3314a6ad21b4fd5032933f48aa448568cda73a27 Closes-Bug: #1694338",0.09665984660387039
1010,Fix security group choice field population The network abstraction layer has been removed from horizon/openstack_dashboard API See: https://reviewopenstackorg/#/c/466645/ https://reviewopenstackorg/#/q/topic:bp/drop-nova-network Use neutron API to populate the list of existing security groups instead Closes-Bug: 1697688 Change-Id: I57b92974db3f510f69e7e552d53cefa28a53d9ad,0.31856000423431396
1011,[Docs] Replace security role references This patch changes any reference of openstack-ansible-security to ansible-hardening Manual backport of Ib2e2585f405796d34d59813bb0a47bc6a0f83679 due to docs overhaul between Newton and Ocata Change-Id: Iaa3d7256d3e0d05cf78d7d7fc73309cd63688ac7,0.4533732533454895
1012,Add retirement warnings to security role This patch adds deprecation/retirement warnings to the documentation_ README files_ and the role itself Change-Id: I419ee0d3bcd3a772f6864acd3d07b062bf6cd7c5 (cherry picked from commit b97de6d748e96b6a4eb035d15d3c6ec73fdbff5d),0.3667505979537964
1013,Count security groups to check quota This changes security groups from a ReservableResource to a CountableResource and replaces quota reserve/commit/rollback with check_deltas accordingly Note that security group quota is only relevant to nova-network and will be obsolete when nova-network is removed Part of blueprint cells-count-resources-to-check-quota-in-api Change-Id: I51b74b863fafd14ef31b1abd9fd9820deb622aeb,0.2311437427997589
1014,Show security groups in Port detail page Closes-Bug: #1677535 Change-Id: I3558b0354dfd91fa3b30afee9263e8bf90482ebd,0.2870888113975525
1015,"Test coverage for network v2 security group rules client According to the tempest lib documentation [0]: ""When adding a new interface to the library we need to at a minimum have unit test coverage A proposed change to add an interface to tempest/lib that doesn't have unit tests shouldn't be accepted Ideally these unit tests will provide sufficient coverage to ensure a stable interface moving forward"" Thus test coverage should be provided for existing clients in tempestlib that lack unit tests This patch adds test coverage for network v2 security_group_rules_client [0] https://docsopenstackorg/developer/tempest/libraryhtml#testing Partially Implements: blueprint tempest-lib-missing-test-coverage Change-Id: I1d937ec551a41707ab66b4c0d400e0f5edde54e0",0.2372874766588211
1016,Fix multiple nics use same security display repeat Closes-Bug:1698341 Change-Id: I5e0213927ed6571d67dee97e4a5f0af61f12705f Signed-off-by: YuanbinChen <cybing4@gmailcom>,0.17246907949447632
1017,[Docs] Replace security role references This patch changes any reference of openstack-ansible-security to ansible-hardening Manual backport of Ib264e31a926c05380b0d1dcd630ad8f3fd1e58f3 due to conflicts in docs and the STIG renumbering Change-Id: Ib2e2585f405796d34d59813bb0a47bc6a0f83679,0.447130024433136
1018,Add retirement warnings to security role This patch adds deprecation/retirement warnings to the documentation_ README files_ and the role itself Change-Id: I419ee0d3bcd3a772f6864acd3d07b062bf6cd7c5,0.36663225293159485
1019,"Test coverage for network v2 security groups client According to the tempest lib documentation [0]: ""When adding a new interface to the library we need to at a minimum have unit test coverage A proposed change to add an interface to tempest/lib that doesn't have unit tests shouldn't be accepted Ideally these unit tests will provide sufficient coverage to ensure a stable interface moving forward"" Thus test coverage should be provided for existing clients in tempestlib that lack unit tests This patch adds test coverage for network v2 security_groups_client [0] https://docsopenstackorg/developer/tempest/libraryhtml#testing Partially Implements: blueprint tempest-lib-missing-test-coverage Change-Id: I071ee991f8e3fe7ae741787563566734ddd93b8d",0.24902628362178802
1020,WIP: Introduces ovo objects for security groups This patch introduces the oslo versioned objects needed for the security group extension and adds required test cases for the same Change-Id: I2d43ad79eb004e68866050fbd63d166920b9f2b0,0.31896334886550903
1021,Adds server security group tests Adds server security group RBAC tests and updates Nova security group RBAC tests Change-Id: I7008e9d489517caa6b8ad743035661a3ab7c93af Closes-Bug: #1687315,0.2780407965183258
1022,[WIP] [Docs] Replace security role references This patch changes any reference of openstack-ansible-security to ansible-hardening Change-Id: Ib264e31a926c05380b0d1dcd630ad8f3fd1e58f3,0.4179273247718811
1023,Provide fallback for disabled port security extension The push notification logic always assumed the port security object would exist but it is not present on the port when the extension is disabled This defaults it to true like the server side code[1] 1 https://githubcom/openstack/neutron/blob/c430e9b8d41c139284e840be37629afcdbc96b37/neutron/plugins/ml2/rpcpy#L142 Change-Id: Ice89ad9dd486ad5fcac534ef5f7d8aae3b6b0f97 Closes-Bug: #1694420,0.19124001264572144
1024,fix image name for selecting security hardened job Change-Id: Iaa62220a5fdfdd771d6ca0e12650609c2c4e72db,0.30573534965515137
1025,Avoid setting security groups to empty list If the security groups is an empty list_ the neutron port won't have any connectivity This is a pitfall We should avoid setting the security group to an empty list if it is not provided by users Instead_ we should keep it as None so that neutron will associate the 'default' security group to the port Change-Id: I7d79bf2ddb8272f003a2f648532226f405822649 Closes-Bug: #1694336,0.25051093101501465
1026,Fix potential security issue with permissions Change-Id: I38dfc4d2697f79539d726d6b2a9a84ce5a7a63df,0.2025211751461029
1027,"Revert ""Add creation of security hardened images"" This is causing us to always build the hardened image_ which is a huge waste of time and disk space The hardened image needs to be added in a separate yaml file so it can be built as needed This reverts commit fc07b696ac2c45c3f914b85b750e471fceb5c390 Change-Id: I4493c8196dff9b615d75812118082e7d374a7c25",0.42763030529022217
1028,WIP: Add creation of security hardened images Those images won't use baremetal element_ but will use bootloader instead That image also comes with pre-created volumes with the right security flags_ as well as enabling some extra flags on grub_ and blacklisting some modules Change-Id: I541055fe81900b91e2bf131f1e95ce08c94f2554 Depends-On: I5c2317f467b6965f2d1a7d9f7ee1c8455098c863 Depends-On: I292fb70cde41ee6053b7b81a67931bcdaaa6d664 Depends-On: I153f979722eaec49eab93d7cd398c5589b9bfc44,0.14690466225147247
1029,Fix security group rules created for dhcpv6 In [1] the setup of security group rules for DHCP was refactored However it assumed that DHCPv6 responses would go to the target IP_ instead the destination will be the link-local address of the instance_ so we will need to add this to the list of allowed destinations Change-Id: I6bd24a98d7c72a1bac28999eb3c9a831ab2ab9bf Closes-Bug: 1693771,0.21335884928703308
1030,fix security groups removed from novaclient Change-Id: Ie93aca03ca540bc9697df8460e5cca8533053071,0.32573258876800537
1031,Start building security hardened images on tripleo Adding experimental jobs to diskimage-builder and python-tripleoclient_ to start building security hardened images on an experimental mode Change-Id: I7d50958f6007dec23b4d1465518a78eca9eaf951,0.23970270156860352
1032,Fix security group rules created for dhcpv6 In [1] the setup of security group rules for DHCP was refactored However it assumed that DHCPv6 responses would go to the target IP_ instead the destination will be the link-local address of the instance_ so we will need to add this to the list of allowed destinations [1] Ibfbf011284cbde396f74db9d982993f994082731 Change-Id: I6bd24a98d7c72a1bac28999eb3c9a831ab2ab9bf Closes-Bug: 1693771 (cherry picked from commit 1e9aca11b9736993e39972a36ecd53765f4b580a),0.2496950477361679
1033,Allow port security updates even without security-groups enabled Port security is useful to enforce anti-spoofing rules_ and those can operate even in the absence of security groups This patch alters the existing code path to allow port_update operations even when the admin disables security_groups from the deployment Closes-bug: 1658682 (cherry picked from commit e49edd7ec32e302df7db44194076a55fd2b5d309) Change-Id: If1d9a662e362639798ad93ff06d820852b0f0c99,0.364141583442688
1034,v2: Replace security group implementation with ML2 version The recent Neutron change [1] introduced a race in our v2 plugin for the default security group creation Instead of trying to adapt the v2 plugin code_ just switch the implementation to the one in our ML2 driver Note: This breaks the task-based client because the implementation doesn't call the client precommit methods [1] Iaa83c8664d5bfde31fdcdd694f6f18d9ef9bf14a Closes-Bug: #1671848 Change-Id: I17262ecca2b8e2c29fdf2a90e01fc668cf2ca6a4 (cherry picked from commit 708f97aba8500336488622f30725acbc5b7cde7c) Conflicts: midonet/neutron/plugin_v2py,0.29467278718948364
1035,Fix deployment error when security options disabled Closes-Bug: #1693208 Change-Id: I3f8a3f9b02e9ce0854c6992ae94a101be372de97,0.31561970710754395
1036,NSX|V: honor provider security rules Prevent port security from being disabled if there is a provider security rule Change-Id: I68bfadca11117afedee40ba27567db78906a27d9,0.17581945657730103
1037,Allow port security updates even without security-groups enabled Port security is useful to enforce anti-spoofing rules_ and those can operate even in the absence of security groups This patch alters the existing code path to allow port_update operations even when the admin disables security_groups from the deployment Closes-bug: 1658682 (cherry picked from commit e49edd7ec32e302df7db44194076a55fd2b5d309) Change-Id: If1d9a662e362639798ad93ff06d820852b0f0c99,0.364141583442688
1038,DNM: let port security updates through without security-groups API Change-Id: If1d9a662e362639798ad93ff06d820852b0f0c99 Closes-bug: 1658682,0.3594970703125
1039,use neutron-lib port security api-def The port security API definition has been in neutron-lib for awhile This patch consumes the definition from neutron-lib See If43b65861efc536d01c43dc0d2bbcbcf062c1271 for additional details Change-Id: Ia0be0363f1ee8a6c86b44673a8c2a4b7a02f0868,0.27824562788009644
1040,use neutron-lib port security api-def The port security API definition has been in neutron-lib for awhile This patch consumes the definition from neutron-lib NeutronLibImpact - Consumers using the public definitions from neutronextensionsportsecurity must now switch over to the api-def in neutron-lib See the changes herein for additional details Change-Id: If43b65861efc536d01c43dc0d2bbcbcf062c1271,0.29448920488357544
1041,Improve security of the Nova migration Several improvements have been made: - SSH is now the default protocol for Nova migration - A specific user for migration is required_ instead of nova Change-Id: I21d131b7dab735ee9c5a033a3108490f5bdfb8cb,0.2432098388671875
1042,Missing security support This fix provides the security support to Synergy Bug: #1691352 Change-Id: I2535b2a3edeea5e56cd8918d01070a6f8a534c3e Sem-Ver: bugfix,0.3575146198272705
1043,[WIP] Add widget for choosing an existing security group Change-Id: Iaa23ea5e18459e97dced6ee20191d83a2dec66dd Depends-On: I60d37cfe034c467e894ee93cf3718e463bf49337 Implements: blueprint app-use-existing-security-group,0.1679893583059311
1044,Create server with security group ID and name Both resource ID and name are supported to identify an object in openstackclient to make user easy to input_ for security group_ nova only support security group name in API when launch a new server_ this patch convert ID to name_ then pass name to nova API_ and check the security group exist before creating server Change-Id: I1ed4a967fb9de3f91c8945a1ef63f6c7b6b2dfb2 Closes-Bug: #1687814,0.1308753788471222
1045,v2: Replace security group implementation with ML2 version The recent Neutron change [1] introduced a race in our v2 plugin for the default security group creation Instead of trying to adapt the v2 plugin code_ just switch the implementation to the one in our ML2 driver Note: This breaks the task-based client because the implementation doesn't call the client precommit methods [1] Iaa83c8664d5bfde31fdcdd694f6f18d9ef9bf14a Closes-Bug: #1671848 Change-Id: I17262ecca2b8e2c29fdf2a90e01fc668cf2ca6a4,0.2910488247871399
1046,Tempest: Tempest test NSX security groups failing - NSX firewall realization takes longer time than 2 sec I increased to 20 and it test cases started passing Change-Id: I409878b4a7d0b40405977790cdb34c518bd80453,0.15793287754058838
1047,Fix security role gate This patch removes the `func_rhel7` environment and brings over the verbose options from the tests role This commit removes the verbose options from the gate job and disables clamav installation in the CI jobs The clamav package is only available in the EPEL repository_ but the EPEL repo has been removed from the CentOS images in the OpenStack gate This will need to be handled carefully in a later patch It also removes an apostrophe from `tasks/mainyml` that breaks syntax highlighting in vim Combined backport of: I44c2e089ff6175b3004ef7f6713622ac615bf6db Ifbfc56ed5fe92887cf5beb6b2703fdc3e1c8bb05 Change-Id: Ieb0a1bb0acd1172600e23555babf66d6bb940a29,0.4042872190475464
1048,Update devstack plugin for security groups The nova client no longer supports security group actions Use the openstack client instead Change-Id: I6a7740340caa2a7607e95744de31801fa12955cf,0.3072430491447449
1049,Update devstack plugin for security groups The nova client no longer supports security group actions Use the openstack client instead Change-Id: I208e8c009d0438de19cd3eb08dc45ddebb45d3e9,0.3027341961860657
1050,use neutron-lib port security api-def The port security API definition has been in neutron-lib for awhile This patch consumes the definition from neutron-lib See If43b65861efc536d01c43dc0d2bbcbcf062c1271 for additional details Change-Id: If9fab91eca9fa9c828a91cbbe99e7d1a9871ed97,0.27888649702072144
1051,use neutron-lib port security api-def The port security API definition has been in neutron-lib for awhile This patch consumes the definition from neutron-lib See If43b65861efc536d01c43dc0d2bbcbcf062c1271 for additional details Change-Id: I934db01ffe43d0cbd9d9bef00d48d4a8b9536e5c,0.28124046325683594
1052,Drop novalclient security group and floating IP dependency novaclient 800 dropped python bindings for security group and floating IP This commit drops security group and floating IP logics from the nova API wrapper The following changes are made accordingly * Update unit tests to consume neutron test data * Drop API unit tests for nova security group and floating IP Partially implement blueprint drop-nova-network Change-Id: I946c508d7a82162fc8434213e006513867b79350,0.2769981622695923
1053,Drop Nova security group dependency from dashboard This commit drops Nova security group dependency from the dashboard implementation security group support in the nova API wrapper will be dropped in a separate patch Also removes apinetworksecurity_group_backend() as it is no longer needed Partially implement blueprint drop-nova-network Change-Id: I224010eb59068a7cc4f97c2453d499adde7644b4,0.3424070477485657
1054,Use the security context of the playbook when checking out roles When the executor checks out and runs content_ the security context (trusted or untrusted) comes in to play in two ways: whether speculative merging should be used when checking out the content and the level of access to ansible This is straightforward for playbooks: when running an untrusted playbook_ use the speculatively merged repo and the untrusted ansible environment When running a trusted playbook_ only use the branch tip of the playbook's repo_ and the trusted ansible environment When we consider roles_ we also need to consider whether to use the speculatively merged role repo_ or the branch tip The current code uses the security context of the role repo to decide which to do (untrusted role repo uses the speculatively merged repo_ trusted role repo uses branch tip) However this presents a problem Consider a job defined in a trusted repo which uses a role defined in an untrusted repo The playbook will be run in the trusted execution context_ but the role it depends on will come from the speculatively-merged role repo This means a user could propose a change which Depends-On a change to the role repo and cause mischief The author of the job in the trusted repo should be able to rely on the fact that when that job runs_ both the playbook and the roles used by that playbook only contain code that is actually in the respective repositories Likewise_ should a job in an untrusted repo inherit from that job_ when its playbook runs_ it should be able to use a speculative change to the role repo In short_ when we are running a trusted playbook_ we should use the branch tip of all role repos used by that playbook And when we run an untrusted playbook_ we should use any speculatively merged changes to those roles Since we can run both kinds of playbooks in a single job_ this change prepares roles in both manners_ if necessary If any playbook run by the job is untrusted_ we will prepare the speculatively-merged repo as a role If any playbook is trusted (or the role does not appear in the dependency chain for the change)_ we prepare the branch tip of the role repo When we run the playbooks_ we use the appropriate version of each role based on the security context of the playbook Change-Id: I06dd3851a8f805dba9afe1b4a0eaa1b2fdd4efa2,0.16566917300224304
1055,Replace neutronclient with REST API calls in security groups commands All security groups and security group rules related commands to Neutron like list/create/update/delete are now made via keystoneauth Change-Id: I875e8780ac28cbeb46c80f67629f98a86fd57160,0.20755168795585632
1056,[WIP] Allow additional security groups to be added to an instance Change-Id: I60d37cfe034c467e894ee93cf3718e463bf49337 Partially-Implements: blueprint app-use-existing-security-group,0.18158313632011414
1057,[tempest]: Changes done for port security svcenario testcases Changes done in of the way port security and ping check between tenant vms Change-Id: Ib0b98898c9d31ea31bac4c3429078c81acb313de,0.2856201231479645
1058,use neutron-lib port security api-def The port security API definition has been in neutron-lib for awhile This patch consumes the definition from neutron-lib See If43b65861efc536d01c43dc0d2bbcbcf062c1271 for additional details Change-Id: If0c50f1a79d151217e92025f444cd22a40e4f420,0.2752188742160797
1059,add pretty name to security group rule tasks Change-Id: I16c435ce1e4997e29b71e896563eed9648f50a30 Signed-off-by: Doug Hellmann <doug@doughellmanncom>,0.25429946184158325
1060,Use conjunction for security group rules with remote_group_id Prior to this commit_ the number of flows can be prohibitively large in some cases Change-Id: I194e7f40db840d29af317ddc2e342a1409000151,0.1884404718875885
1061,[WIP] Migrate Security Groups to new model structure Migrate SecurityGroup and SecurityGroupRule to new model structure Partially-Implements: blueprint refactor-nb-api Change-Id: I9e1970d6b67214c4b66264d1acb66fc13d1deb8b,0.20466184616088867
1062,Fixes HyperVSecurityGroupsDriver for ports without security groups If a port has security groups disabled_ it might not have the 'port_security_enabled' key Change-Id: Ib0152b6b413e60a664bfb1cd4b485490b2c7482f Closes-Bug: #1659527 (cherry picked from commit bad3da0d60499c725f57c57ee53dea5483d24423),0.2842240333557129
1063,Tame the security group logging Change-Id: I3d1bbfcb3e2c5bc99b2d11114508e3998641e7f8,0.23906812071800232
1064,Resync security groups on startup This makes use of the discovery pass for ACLs and their conversion into known security groups to allow initial resyncs to delete ACLs that are no longer in etcd It uses the conventional delete path so if they're deleted before they've been removed from ports that works too Change-Id: I0184f66f9e0b45b531ddd4f9ecf3f4f652711bb6,0.0830371156334877
1065,Remove security limits and aptconfd setting from diskimages Limits was recently added for NPM jobs and should be moved into JJB Our aptconfd changes can be removed_ we now have locally APT mirrors in each region_ this should remove the need for these 2 files Change-Id: Iafec2c547f65386805822ff2b0ba9a418c962a8e Signed-off-by: Paul Belanger <pabelanger@redhatcom>,0.36641013622283936
1066,Fix etcd client creation when security requested Change-Id: Ia8d1b7efbe505c7ccb263bdff295e6e973f08fea,0.1908075511455536
1067,Replace nova security groups with REST One more set of things down Change-Id: I02f81382693e30513a3fe85c49450f84f8c3d64d,0.2326805591583252
1068,WIP Transition nova security groups to REST novaclient v8 doesn't support these calls anymore Transition them Change-Id: I39952800414058d7f8a77dfca7610bc8c1fcfd18,0.21981969475746155
1069,Zuulv3 Launcher Security Enhancement Zuulv3 allows running Ansible playbooks from arbitrary sources So we need to mitigate as much of that risk as we can in a reasonable amount of complexity Change-Id: I4bc1bf971486a744ff340af5c5189733545197ab Story: 2000910 Task: 3541,0.1958770453929901
1070,Enable security configuration for barbican grenade gate The grenade gate attempts to run the barbican-tempest-plugin tests_ but the proper configuration of security features needs to happen before the tests will pass The configuration happens in barbican-tempest-plugin's pre_test_hooksh Change-Id: Id8c5fa6c59e1036958a8954305747c60292462dc,0.19994650781154633
1071,Low-level Compute v2 API: security group rules apicomputeAPIv2 security group rule functions novaclient 80 is now released so include the changes required These will replace the deprecated nova-net support removed from novaclient 800 Change-Id: Ieabd61113bc6d3562738686f52bb06aa84fca765,0.22470146417617798
1072,WIP: Low-level API for Compute v2 apicomputeAPIv2 starts with security group functions These will replace the deprecated nova-net support removed from novaclient 800 Change-Id: Id007535f0598226a8202716232313e37fe6247f9,0.2609884738922119
1073,Supports security group change updates in ONOS ml2 plugin Change-Id: I5980bc09f5c84e357e72e8c8d45a9db606b19fc1 Closes-Bug: #1676452,0.26463034749031067
1074,Fix security group ping allow rules Change-Id: I54b651a674de98345a3170b92ab74ee37a278207,0.2208710014820099
1075,use osc for security group manipulation Change-Id: I226e557a87c3c33c0246e5d4e6033c09b154ea13,0.19681894779205322
1076,Split security group tests Split up the security group tests between compute and network APIs into separate files in preparation for reqorking the compute (nova-net) implementations No code changes are intended here_ just splitting two files into four Change-Id: I3fbdde45f593a30de545ddd11e319a4d6f900b18,0.19724515080451965
1077,Fixes HyperVSecurityGroupsDriver for ports without security groups If a port has security groups disabled_ it might not have the 'port_security_enabled' key Change-Id: Ib0152b6b413e60a664bfb1cd4b485490b2c7482f Closes-Bug: #1659527,0.24482950568199158
1078,Correct few doc problems and description for security group Change-Id: I22f908494e825fd89f1292c1de24b5e54e64d0c2,0.3424656391143799
1079,[WIP] Add IPv6 support for the Security Groups Adds support for IPv6 rules in the security groups Partially-implements: blueprint ipv6 Change-Id: I41334ae3ff7a6af1d3351290ddfbd027d6a79879,0.20856736600399017
1080,"Fix incorrect window title in Manage security group rule As far as I see_ here is only the place missing the correct title before ""- OpenStack Dashboard"" Change-Id: I209a2b829ff4b66557a63f3659859a7b281ad629 Closes-Bug: #1677973",0.24741412699222565
1081,Allow any port or protocol in security group rules Neutron allows setting port or protocol wildcard by not specifying any value for them example_ these are allowed by neutron : neutron security-group-rule-create --direction egress <sgid> neutron security-group-rule-create --direction egress --protocol tcp <sgid> We now allow leaving protocol or port field empty and diplay a corresponding help text Change-Id: I4a7262eda89e3206c743fee14c78aa6b49308ce6 Closes-Bug: 1669467,0.1919831484556198
1082,Include OCCI Security Group infrastructure This change add the OCCI Security Group infrastructure following the features provided by CESNET Change-Id: Ic573210399bbcd30e699d0d4f6446b932230d4ae,0.33886998891830444
1083,Fix security group options This patch fixes the security group options initialization to avoid any osloconf duplicate option errors Change-Id: I53cc6890c399e860d2c340027f71301f05cc8c41,0.2779548168182373
1084,Add server security groups to shade We need a way to add and remove security groups to a server in shade This will let us modify them from ansible Change-Id: I5602e44720485e20491cf4930605362312274b20,0.1863836795091629
1085,BVS-5916: allow spaces in security group names Conflicts: bsnstacklib/plugins/bigswitch/pluginpy Change-Id: Ic07c76dd7f8475aef9d8d38b0ff7a1cdf71ec92a,0.2699800133705139
1086,BVS-5916: allow spaces in security group names Conflicts: bsnstacklib/plugins/bigswitch/pluginpy Change-Id: Ic07c76dd7f8475aef9d8d38b0ff7a1cdf71ec92a,0.2699800133705139
1087,BVS-5916: allow spaces in security group names Change-Id: Ic07c76dd7f8475aef9d8d38b0ff7a1cdf71ec92a,0.23524853587150574
1088,BVS-5916: allow spaces in security group names Change-Id: Ic07c76dd7f8475aef9d8d38b0ff7a1cdf71ec92a,0.23524853587150574
1089,BVS-5916: allow spaces in security group names Change-Id: Ic07c76dd7f8475aef9d8d38b0ff7a1cdf71ec92a,0.23524853587150574
1090,Fix security group tests Change-Id: I13e05c0b73fe8faef2bf5dd5d54eadfac416dfe2,0.3546418845653534
1091,BVS-5916: allow spaces in security group names Change-Id: Ic07c76dd7f8475aef9d8d38b0ff7a1cdf71ec92a,0.23524853587150574
1092,Async security group updates Make it work Turns out_ the code wasn't being tripped because of a mis-spelling of a key in a dict Change-Id: I8d441caef6ec60caf9f152a3ba5cb8a2db9858fa,0.29788684844970703
1093,(WIP) Make adding of port security asynchronous Updates to ports and to security groups come in over separate watchers_ and can interleave This deals with the possibility that a port is bound when a security group has not yet been inserted into VPP and it requires that security group It also removes the global 'secgroups' in favour of a property on VPPForwarder It does not fix the case where a security group is deleted when it is still being used by a port (Again_ the API to Neutron does not permit that_ but the communications channel can reorder commands from Neutron) That requires a separate patch Change-Id: Ib0bb7338065131b2f9abd1a1d01fd176c197c04d,0.2427314668893814
1094,Switch to neutron for security groups Change-Id: Ic7f5f2d9d01c2de07555da3a7ccfb3bf535e9f59,0.34425830841064453
1095,[ops-guide] Update Security Group Rules description This patch updates the location of security group rules in the Operations Guide Security Group Rules are located in projects_ not within secrutiy groups Change-Id: I2453e703ff105f895821fc948e8020ce92e46fdf Closes-Bug: #1673834,0.33929184079170227
1096,Default pod security groups driver This patch adds a new driver type used to determine Neutron security groups that should be used for Kubernetes pods This patch also provides a default driver implementation that uses a list of security groups set in configuration file Change-Id: Id76f70b8a99ffa8372dfd3d199371e7db46fb812,0.29949843883514404
1097,[user guides] Update Security Group Rules description This patch updates the location of security group rules in the Admin Guide Security Group Rules are located in projects_ not within secrutiy groups Change-Id: I5fdddb5e9fa3b4eb653204b0f10e5c681f9942a6 Closes-Bug: #1673833,0.3421103060245514
1098,[user guides] Update Security Group Rules description This patch updates the location of security group rules in the Admin Guide Security Group Rules are located in projects_ not within secrutiy groups Change-Id: I5fdddb5e9fa3b4eb653204b0f10e5c681f9942a6 Closes-Bug: #1673833,0.3421103060245514
1099,Add a template for security scan related devops environment We use prepared image for create VM with security scan service Change-Id: I9c2c383971b5e72a1414a43dcb4db8f3ad22bc78,0.19646567106246948
1100,Add a template for security scan related devops environment We use prepared image for create VM with security scan service Change-Id: I9c2c383971b5e72a1414a43dcb4db8f3ad22bc78,0.19646567106246948
1101,Allow to specify port security when creating a port commit c886d8a2def188337e7768469b45dd51bc7f404e added a feature to enable/disable port security when editing a port It sounds reasonable to allow this for port creation too Note that the current release note already covers this change_ so this commit does not add a new release note Related-Bug: #1634877 Change-Id: I85182fb1806fa24a0891abab1190a4246ba7c89e,0.2500791847705841
1102,Fix location of security group panel in launch-instance form Change-Id: Icf677c5bceda7f1c5c6e0c1dfe9a35416232fb00,0.18150168657302856
1103,Delete security groups via the journal_ not directly We accessed the agent to delete security groups_ but for consistency we should do this via the journal to avoid lost updates Change-Id: I8e562add5808656730b251d3b92a82ad84ba0833,0.27514684200286865
1104,Added puppet class for creating neutron security groups Creating security group using nova module is deprecated This patch will give neutron puppet module adds the ability to create security groups Change-Id: I1a900fadce6b4d1c006e43164d380034ea5cef2d Partial-Bug: #1671474,0.34990423917770386
1105,Ocata security group fix This PS updates the security group creation code to work with Ocata Change-Id: I04d5d130e3a9a3a7d706fb94478697d4c85e60b0,0.2832466661930084
1106,Rename OpenStack Security Group/Project Replace Group with Project Change-Id: If5a12cc1320ad0652c3530dea65f9b551d3ad1e6,0.2790180742740631
1107,Add a template for security scan related devops environment We use prepared image for create VM with security scan service Change-Id: I9c2c383971b5e72a1414a43dcb4db8f3ad22bc78,0.19646567106246948
1108,Add a template for security scan related devops environment We use prepared image for create VM with security scan service Change-Id: I9c2c383971b5e72a1414a43dcb4db8f3ad22bc78,0.19646567106246948
1109,Add a template for security scan related devops environment We use prepared image for create VM with security scan service Change-Id: I9c2c383971b5e72a1414a43dcb4db8f3ad22bc78,0.19646567106246948
1110,Websockify security proxy framework This proposes a generic framework for supporting TLS encryption between the console proxy servers and the compute nodes for SPICE_ VNC and serial ports Change-Id: I7aa658ebde01d3e5718bb7dd1210e947e40fb667 Previously approved: Juno_ Kilo_ Mitaka_ Newton_ Ocata Blueprint websocket-proxy-to-host-security,0.18223100900650024
1111,Install EPEL for security role The security role needs to install packages from EPEL Closes-bug: 1670798 Change-Id: Ia6a6ba19ec164e852b83492f4992f25e8df49308,0.3749881386756897
1112,[Tempest]: Added scenario cases for port security feature Added port security scenario cases for nsxv3 Change-Id: I97a90e52a0685dfcba4c616fb8dbfcb8bf722f86,0.21433258056640625
1113,[Tempest]: Added api cases for port security feature Added port security api cases for nsxv3 Change-Id: Ie2423cb842d6a346b10573bc9e7ee0c47320ac33,0.21839672327041626
1114,Neutron tests - Security Groups Tests for the neutron security group policies Implements bp: initial-tests-network Co-Authored-By: Chi Lo <cl566n@attcom> Change-Id: If466551726811e190bf4c426c04d49d074eaff15,0.20272749662399292
1115,Add a template for security scan related devops environment We use prepared image for create VM with security scan service Change-Id: I9c2c383971b5e72a1414a43dcb4db8f3ad22bc78,0.19646567106246948
1116,Add a template for security scan related devops environment We use prepared image for create VM with security scan service Change-Id: I9c2c383971b5e72a1414a43dcb4db8f3ad22bc78,0.19646567106246948
1117,Add a template for security scan related devops environment We use prepared image for create VM with security scan service Change-Id: I9c2c383971b5e72a1414a43dcb4db8f3ad22bc78,0.19646567106246948
1118,rehome port security api-def This patch rehomes neutron's port security api-def into neutron-lib and includes a UT + release note as well Change-Id: I0ba12f6eef06c22973024573deaecd80c6b248de,0.43022578954696655
1119,[www] remove Security Guide landing index page Change-Id: I4f7af89dfcd3f0661149724601ae889a4e9a153b,0.257465124130249
1120,Register before_delete event for liberty security group deleting In Liberty_ we only delete security group rule in etcd before it actual being deleted in neutron db_ it's not perfect_ but if we delete it after it deleted in db_ the following task that query rule's belonging will consistently fail Change-Id: I2793350db0f01d4c9fea310a9c0ed9830c44bf3d Closes-Bug: 1667860,0.16468298435211182
1121,Horizon does not display ID of Security Group This patch set is to add ID column in the security group table This is useful when there are multiple security group that has the same name Change-Id: I51a8edf02129b0a7190c40f20f090cd9a8dd1815 Closes-Bug: #1429866,0.307269811630249
1122,Get all security groups via api when validating address sets Currently_ when validating address sets in OVN DB sync functional tests_ only security groups used by port were compared as in neutron DB to those in OVN DB_ but the logic is different to real OVN DB sync function An implicit problem will surface when supporting gateway sync functional test_ that will cause the security groups mismatch This patch makes the logic same as real sync_ getting all security groups via api regardless whether they are been used by port Change-Id: Ia8fc3fd6d56c1453d02c4b0e92a21a4cad6595d1 Signed-off-by: Dong Jun <dongj@dtdreamcom>,0.2999480366706848
1123,Unblock security role gate This patch addresses two issues that are blocking the security role CI jobs from completing: The OpenStack CI image is missing the default auditrules file and this causes augenrules to fail when it loads new rules The first line in the default rules file deletes existing rules and this must be in place before loading new rulesets The contents of the default file are now in the template file_ which is safer anyway The default file provided by the OS is removed The task that updates the apt cache in testyml was running more than once during the CI job run when the gate ran slowly That's fine_ but it breaks the idempotence checks A `changed_when` is added to the task to ensure that the idempotence tests aren't affected by an apt cache update Change-Id: I48be02df02b8a2a401bfd96e16ea0329632d9381 Partial-Bug: #1662622,0.32662850618362427
1124,add unit tests for create_ delete security group and authorize security group ingress in case of default vpc Change-Id: Iec29dfa794efba40b0a322db45c325a939e13fe4,0.1053662970662117
1125,Changes in security groups in default VPC mode create-security-group create security-group in default vpc if not specified delete-security-group can delete from default vpc by group-name authorize_security_group_ingress with group-name specified create rule in the appropriate group in default vpc Change-Id: Ibdf5b508f9d8a042ceaba4570d4573b741adaf9f,0.11563588678836823
1126,Stop security group watcher changing secgroup space Security group key space is for writing by the mechdriver and reading by the agent This breaks that paradigm It's also trying to delete the key whose delete triggered the action it's processing_ so in fact it's a no-op Change-Id: I2e0b44e8b17533260a6bd547e2205cc2660e059f,0.2214767336845398
1127,[Tempest]: Added Provider Security Group cases for nsxv API based PSG cases added for nsxv Change-Id: I8dd307708efa72c431334ff4ef4be62c732788cb,0.23255516588687897
1128,"Merge ""Add test for compute API List Security Groups By Server"" Change-Id: I36dfdee780ef1796b360537b5649b0957392ef08",0.3047363758087158
1129,Remove security role from user_variablesyml This patch removes a confusing section of `user_variablesyml` that is no longer needed since the security role is applied by default Closes-bug: 1664824 Change-Id: Iebf59288a8abbf72a961832fed113bbd30cbe77c (cherry picked from commit 3ddf708eaf8f32d4c90f49e8a7595519308b200a),0.23406852781772614
1130,Remove security role from user_variablesyml This patch removes a confusing section of `user_variablesyml` that is no longer needed since the security role is applied by default Closes-bug: 1664824 Change-Id: Iebf59288a8abbf72a961832fed113bbd30cbe77c (cherry picked from commit 3ddf708eaf8f32d4c90f49e8a7595519308b200a),0.23406852781772614
1131,Remove security role from user_variablesyml This patch removes a confusing section of `user_variablesyml` that is no longer needed since the security role is applied by default Closes-bug: 1664824 Change-Id: Iebf59288a8abbf72a961832fed113bbd30cbe77c,0.21658605337142944
1132,fullstack: Fix race between updating port security and test Patch I65da39fd390e4faecc6cfb18bb50e1f5ce684f1e changed the test to start with port-security-enabled set to False and with no security group Later port security is turned on and security group is given but immediatelly starts testing connectivity It may happen that security groups are not applied to the port yet and negative connectivity test (former No 3) fails This patch actively waits for connection not to pass and then continues as before Change-Id: Iddd66770638973a0b3c916f068b5c813886e07ef,0.2560868561267853
1133,Do not check security opt in some case in kolla_docker module security opt will be disable when using host ipc or host pid or privileged Change-Id: I83d7c74aaeb5c59981c76464e69d5b5baa00fefb,0.19394737482070923
1134,Update release notes for security group rule deletion 1 What is the problem Security group rule deletion is supported but missing in release notes 2 What is the solution to the problem Add security group rule deletion support in release notes 3 What the features need to be implemented to the Tricircle N/A Change-Id: I95d6c23af71e3edd068a99d4ed1b1ec4b1dfe98d Signed-off-by: joehuang <joehuang@huaweicom>,0.3737535774707794
1135,Adds additional best practice security measures for live migration VNC proxy settings Change-Id: Ib7a6e7691d9f1106d0073115d1582415181b3fbc,0.17587265372276306
1136,Added further security functionality in release notes This patch seeks to add futher security functions present within tripleo for the ocata release Change-Id: Ie89b85589c2dfd3580de75253b73009b5d06c9f2,0.43169617652893066
1137,[WIP]: Add methods to security module This patch adds methods to security module to further expose more options available from firewall APIs on the backend Specifically this patch adds the following: 1 A method to build tag expression for LogicalSwitch targets to create dynamic NSGroups Change-Id: I9bbacfe14076d9ff92b0f45e9a85335876302f72,0.25880926847457886
1138,"Var target security playbook host group Set the playbook host scope to a var named ""security_host_group"" to allow operators to filter the hosts targeted by the play Change-Id: I7095eb8658337d165068c5d8034532211c4bd273 (cherry picked from commit b0b7e3ec2986d0519c213bea4bc292f95dbba3e0)",0.13923558592796326
1139,Tests for compute security groups Change-Id: I4b1c980f5cd651eff758d52b1812de994220a8df Partially-Implements: blueprint initial-tests-compute Co-Authored-By: Michael Sliem <ms272s@attcom>,0.2733754515647888
1140,Ensure that Trusty checks run for the security role Change-Id: I310ea2687bf1e1873f6918aab6b08b3489303ab2 (cherry picked from commit cede471b7fd4b88c693beec550a8d039076eee2d),0.35027238726615906
1141,Ensure that Trusty checks run for the security role Change-Id: I310ea2687bf1e1873f6918aab6b08b3489303ab2,0.2682052552700043
1142,[Tempest]: Adding of Provider security Group cases During port update with psg check vm connectivity Change-Id: Iec25051122fdb1bb167266108dc28ac097a15694,0.28173962235450745
1143,Always display direction for security group rules Remove --long option as this was only used to display this extra column Change-Id: I23dd9fa7cff310ee9a62ce32b843b822b93b7548 Closes-bug: #2007323,0.18309903144836426
1144,Create default vpc during describe security groups add unit test Change-Id: I96058de2bde3cff1e7b74d442f67803726cd1828,0.17525815963745117
1145,[suse] Update security group for kube_masters Change-Id: Ie40e5c90c0b246960ff94b917f285a810120c340 Partial-Bug: #1622949,0.36179015040397644
1146,Adds security hardening documentation This change adds instructions on how to utlize the security hardening functionaly_ present in TripleO since the Ocata release Change-Id: I152f295178057d75248543332575da57b5516266,0.433174192905426
1147,api-ref: add description to security groups Adds the description request/response parameter as applicable to core resources (see defect) Change-Id: Ica654402a109c8c08a70d0d306e9f05f8e881306 Partial-Bug: #1553653,0.2717869281768799
1148,api-ref: add description to security group rules Adds the description request/response parameter as applicable to core resources (see defect) Change-Id: I36f8a15ef6b01e558255d542b31da837af5646b0 Partial-Bug: #1553653,0.252987265586853
1149,Move Security Groups into its own panel This patch moves the Security Groups tab from the Access and Security panel into its own panel under the Network panel group As this is the last tab in Access and Security_ that panel is also removed by this patch Change-Id: Id29c7ce635d46383742aec140def265d4b249aa5 Implements: blueprint reorganise-access-and-security,0.2801475524902344
1150,"Var target security playbook host group Set the playbook host scope to a var named ""security_host_group"" to allow operators to filter the hosts targeted by the play Change-Id: I7095eb8658337d165068c5d8034532211c4bd273",0.11711657047271729
1151,Move Floating IPs from Access & Security to panel This patch makes the Floating IPs tab in Access & Security its own panel under Project > Network Change-Id: Ibb83ae5a0448d2824c10f867e620cec8219b7b72 Implements: blueprint reorganise-access-and-security,0.20075829327106476
1152,Networking architecture of Security guide implies direct DB conn Revise Networking architecture of Security guide to describe there is no direct database access from the agents Change-Id: I45bd29c88ffc9eabfaab5f7dc9bce17d64c5ca18 Closes-bug: #1544641,0.2131534218788147
1153,Adds ARP spoofing to Security Guide Adds description of how `prevent_arp_spoofing` can help mitigate ARP spoofing attacks Change-Id: Ib73f9ee3e80a94f8e7819a328f613e80fa720299 Closes-Bug: #1441927,0.21307745575904846
1154,Add test for allow all security group and policies * Check policy with allow TCP for any port * Check policy with allow TCP for specific port Change-Id: I7e7fad70536306818b5dd077bf6626c2926d2179,0.093839630484581
1155,Move test plugins into security role The greaterthan/lessthan test plugins were added into openstack-ansible-plugins a month ago_ but they are needed in the security role to ensure that the role can run on a system without openstack-ansible-plugins installed The test plugins in this role should be removed once jinja 295 is available for use in OpenStack (likely after Ocata release) Closes-bug: 1660060 Change-Id: Ic86dc9a9e8ae8d03fe52a7c3fc52e580b9936711,0.22747692465782166
1156,Fix security group creation When using init-runonce script multiple default security groups are present and raise error: More than one security_group exists with the name 'default' Add a check to create rules to admin's default sec group Change-Id: Iaf93467d70ae41fdbcd2b37d6c5639a32d939394,0.1351265013217926
1157,Tempest: Scenario tests for Provider security group with NSXv3 Basic operation Scenario tests Change-Id: I0af6c7b0f63ef5cd2d6e09e1e30d39dd261c4236,0.18153692781925201
1158,Add tests for Security Groups API's new policy rules Related-blueprint: bp/secure-rbac-roles Change-Id: I65bda0d956b42ef7dfc0ca25f53b26ad21a5ac47,0.19384102523326874
1159,Adding Ghada Khalil candidacy for StarlingX Security Project Lead role Change-Id: I47909931d4ee4f770105fe68fb671549f5ab0ac2,0.22257369756698608
1160,"SDK refactor: Prepare security group commands Prepare the OSC ""security group"" commands for the SDK refactor Change-Id: If9918fad2474f9b4d68424f2806f0de61fd58b2e Partially-Implements: blueprint network-command-sdk-support",0.2830171287059784
1161,Push out security group rules when a security group is create Neutron creates groups with rules_ but doesn't tell drivers about the rule creations using events Push them out when the group is created Change-Id: I7fd5452fdd6d2706c0396225920f9397dc78f791,0.14762559533119202
1162,Add global security variable with tls configuration Lets start with defailts off and null certs to unblock local work on the TLS and make it enabled by default later_ when cert creation options will be finalized Change-Id: I123eac70012959df8da88da710629f636d68f14c,0.1689053475856781
1163,Remove deleted rules from a security group straight away Due to a DB feature they're taking an extra call to go away Change-Id: I326622ee496a3134458a73db4ab73133a64d2c14 Closes-Bug: 1657638,0.1512390375137329
1164,Remove iptables nat and mangle rules for security group There is no need to add iptables nat and mangle rules for security group_ these rules will slow down network performance especially when using 6wind Virtual Accelerator Conflicts: neutron/agent/linux/iptables_firewallpy Change-Id: I1d5748394665535d114e8d942a68d5bd43927058 Closes-Bug: #1650466 (cherry picked from commit 22352f5d4c595e373bb73c8bc590e6d3e621dac0),0.1985693722963333
1165,Fix filename and call out security concerns Removed mention of not editing the file_ as the doc later suggests editing the file Change-Id: I9cc69c4835e855a1468f6a8ea9366a43a29153f3,0.2698996663093567
1166,Make common functions for creating and analysing security group tags Functions added (and applied_ where appopriate) to make tags (a) obviously related to the driver and (b) constructed and deconstructed programmatically This should make their meanings easier to interpret and also reduce the likelihood of a clash Change-Id: Idba0407c876b818ea40677157ff1d76cb36b81e9,0.09033134579658508
1167,Register Neutron Floating IP and Security Group names This adds OS::Neutron::FloatingIP and OS::Neutron::SecurityGroup to the horizon name registration Change-Id: I20ee30edeed7faca6835e81e3047ffd47bbd2259 Partially-Implements: blueprint angular-registry,0.2705860733985901
1168,NSX|V3: ensure that port security is set correctly on backend Subsequent port updates would remove the port from the exclude list if the post security is disabled Change-Id: I5329df66c42e609297990fd9211042d975c8857c (cherry picked from commit d321d51c9762189e73360ac17224c82b7f17796e),0.20362870395183563
1169,NSX|V3: ensure that port security is set correctly on backend Subsequent port updates would remove the port from the exclude list if the post security is disabled Change-Id: I5329df66c42e609297990fd9211042d975c8857c (cherry picked from commit d321d51c9762189e73360ac17224c82b7f17796e),0.20362870395183563
1170,NSX|V3: ensure that port security is set correctly on backend Subsequent port updates would remove the port from the exclude list if the post security is disabled Change-Id: I5329df66c42e609297990fd9211042d975c8857c,0.1977146416902542
1171,Fix security group rule list for NEtwork v2 Fix the formatting of Port Range in the security group rule list command for Network v2 to handle SDK changes Change-Id: Id954cbfaedbb74f60125ebda91f80db751759933,0.28751707077026367
1172,Centralize creation of security group test obj The creation of security group objects are duplicated in several places This patch pretends to consolidate this in a single function where it can be reused in the future Change-Id: I3c2b30c258e665f47ea7d3cffdb6e7333b2944a8 Partially-Implements: blueprint adopt-oslo-versioned-objects-for-db,0.23029488325119019
1173,Fix security group rule sync 1 What is the problem After security group rule sync-ed by XJob daemon_ IPv4 ingress rule included in the DEFAULT security group is missing 2 What is the solution to the problem After checking the code_ we find that the indenation in XManager is incorrect so XJob daemon doesn't collect the correct list of rules needed to be sync-ed to the local Neutron server So the solution is simple_ we just correct the indentation 3 What the features need to be implemented to the Tricircle No new features Change-Id: I981add46eb8fee8f1c025de0ba1805a8732f6cc5 Closes-Bug: #1655271,0.2524520754814148
1174,Forbid traffic for interfaces before security is in place Until Security groups are eventually set_ do not bring interfaces up Closes-Bug: #1655221 Change-Id: I58aa45f4c3dbcc4869675eea0f91fe316eda0a26 Signed-off-by: Christophe Fontaine <christophefontaine@qosmoscom>,0.1481744945049286
1175,Configure bandit security linter Change-Id: I4c3b4fec50e7b2aedd8cb3b7dfa5dacd0d44c329,0.19201093912124634
1176,Adds keystone security compliance settings The PCI-DSS feature has been introduced during the Newton release and its settings are disabled by default This patch adds the possibility to enable some of them during DevStack setup This change is intended to enable the possibility to create functional tests for the feature for keystone's tempest plugin job Change-Id: If6b5eb3e3cbc43eb241c94d18af80ad50be08772,0.23400011658668518
1177,Remove iptables nat and mangle rules for security group There is no need to add iptables nat and mangle rules for security group_ these rules will slow down network performance especially when using 6wind Virtual Accelarator Change-Id: I1d5748394665535d114e8d942a68d5bd43927058 Closes-Bug: #1650466,0.14504635334014893
1178,"[WIP] Testing security role gate _[_]_ ("") `--( : )--' ( : ) """"`--'"""" Change-Id: I9c2b50389cc2e4fa81717dcceccf6da1d973d34c",0.1984916776418686
1179,Port security related tests to Python 3 * Use encode_utilssafe_decode from osloutils to decode result of urllibparseunquote(cidr) Partially-Implements: blueprint goal-python35 Change-Id: If139d093f8951f59753c06a88a59b4fb2f878940,0.20094990730285645
1180,Change description in the security group section Description was changed according to the appropriate spec Change-Id: I17b4d2d5ff13d3e84b2ebac9ec11645058c62d1e Partial-Bug: #1646087 (cherry picked from commit fb167df84c777aab1803ae3760e9f64a9a3212a9),0.39457666873931885
1181,Change description in the security group section Description was changed according to the appropriate spec Change-Id: I17b4d2d5ff13d3e84b2ebac9ec11645058c62d1e Partial-Bug: #1646087 (cherry picked from commit fb167df84c777aab1803ae3760e9f64a9a3212a9),0.39457666873931885
1182,Add the clarification to the security_groups section for DPDK case The clarification was added_ that security groups will be disabled if IPTables-based Firewall Driver is chosen in dpdk case Change-Id: I17b4d2d5ff13d3e84b2ebac9ec11645058c62d1e Partial-Bug: #1646087,0.2123010754585266
1183,[aim] security group support Change-Id: I05a1c02d30a17f968353b7257429965f2e301248,0.27812668681144714
1184,[wip][aim] security group support Change-Id: I05a1c02d30a17f968353b7257429965f2e301248,0.27464061975479126
1185,[WIP] NSX|V remove 'force' from SG deletion We shouldn't deelte backend security groups using force=true This may cause backend syncronization issues Change-Id: I070d34e9e55759d55a95c48dc9d5f8e307dc3f9f,0.2442488819360733
1186,[WIP] Apply unique_key to security group security group used to allocate unique key in cache_ this might cause duplicated flows when restart df local controller This patch will store the unique key in nb db_ so that it can keep consistent during restart df local controller The way to perform nb db data migration will be discussed at [1] [1] https://reviewopenstackorg/#/c/401210 Change-Id: I952ca6e7d9d91cdc6b3618ed45ba4d153de9c033 Partial-bug: #1633082,0.16352051496505737
1187,change security group lock based on sg_id Change-Id: Ie32ed110b21b35284989ec085938a296c9c24e4a Partial-bug: #1651371,0.2165520191192627
1188,NSX|V: ensure that security group is deleted The 'Ignore NotFound' could result in orphan rules This ensures that the openstack rule is deleted Change-Id: Ib93a2065e9aaabb71f72fc5ed33a016e291c06b4,0.19418811798095703
1189,Tempest: API tests for Provider security group with NSXv3 Basic operation API tests and CRUD tests Change-Id: Iec9c50826c2b8e1b70a2c3df9a269f7c604bd483,0.19342318177223206
1190,Add contrail security groups create/update/delete tests Change-Id: Id48c368277047cff770d46d020865b88d521deff,0.23483029007911682
1191,Fix Port Security Enabled information Display Port Security Enabled information even if port security is disabled Change-Id: I01fd266db6de750a2d1c96ac27d7a1ccd685e195 Closes-Bug: #1634836,0.26219385862350464
1192,Improve security for swarm All traffic was allowed for swarm driver Following rules has been added to improve security 1) Allow ssh to everyone 2) Allow 2375_ 2376 ports for everyone 3) Allow all the ports to subnet created Change-Id: Ie1aa4fffeb6317dc200a764319ac93e18d414a4b Closes-bug: #1501050,0.1977424919605255
1193,Skip security role gate for branches <= Mitaka Somewhere in the consolidation of the OSA zuul job cleanup_ CentOS 7 jobs were re-enabled for the openstack-ansible-security role in Liberty/Mitaka The role didn't support CentOS 7 in those branches and this patch should disable those tests Change-Id: I85d5f85a6b78d945b635c7ec42f741bb77e2fb64,0.3057272732257843
1194,Updated security review template Updated security review template to suit asset based security review Change-Id: Ifcc8cb3fcd289b35b243947e90a9a59d4da71b0e,0.3783778250217438
1195,[ci] Use neutron quotas for security groups Nova-Network is dead Long live Neutron! Change-Id: Ief11ea6c985089540c78d00a5a0fbe6d948bcc42,0.27900180220603943
1196,Re-design Security Groups support for OVS feature Change-Id: Ib5e79c607598434a7b825b3fa1464e8fbdac51fd Blueprint: security-groups-support-for-ovs,0.3362792432308197
1197,Documentation for Security Groups for baremetal servers This patch updates the Ironic documentation to describe how to configure security groups for baremetal servers Change-Id: I19b42f0fcecc7e4952de452e8576a1ad87e73b61 Partial-bug: 1594242,0.3726367950439453
1198,support update for security group rule Change-Id: I47aad285b6b7fdf584e0c7215c71f1047965499a,0.3966837525367737
1199,Fix variable name for cache debian security packages Change-Id: I925b389634c9f52dcc2ff61bfa605863a12a507d,0.5578910112380981
1200,Reduce security groups # for k8s coreos cluster This patch allows two security groups to be created for k8s coreos cluster(one for master and one for minion) Change-Id: Id12cba8fbe060ced017ea0c402aab77325f71b09 Closes-bug: 1642752 (cherry picked from commit 8d6bf7c621e520c97d289b1056e863048d2a2f93),0.34565186500549316
1201,Add security impact on per user auth plugin spec Change-Id: I82e96cdf0e3de5ef1a9cdc84d1cea62b059d6a6e,0.16704821586608887
1202,[WIP][mesos]remove redundant security group This patch move security group out of mesos slave resource group Security group should only declear once_ and use it for the rest part Change-Id: I4ea5af1fda5eea452a21151daad5ec2815389824,0.26788148283958435
1203,Fix invalid security repo Change-Id: I0365b7430ff17348fa2e0a4b8a3476b149a7ccca Closes-Bug: #1618397 (cherry picked from commit 1400bbeba7d7ac8854c93f92cbd3ed5ff870c558),0.5975799560546875
1204,Fix Mapr security repo lucid-security moved to old-releasesubuntucom Related-Bug: 1618397 Change-Id: Ibf2802ca0f62c0eabc0acfc3e90c6d079d20e884 (cherry picked from commit d55baf93c6029781d21063a6a81b2f37bdf07e61),0.49896538257598877
1205,mariadb security best practice fixes This commit ensures the below mariadb settings with reference to [0]: - 'local_infile' Is Disabled - 'have_symlink' Is Disabled - 'secure_file_priv' Is Not Empty - 'sql_mode' Contains 'STRICT_ALL_TABLES' [0] https://devmysqlcom/doc/mysql-security-excerpt/80/en/general-security-issueshtml Change-Id: I701b9bc2bdfb91d67aef91e88f953a09ac72d8be,0.28148746490478516
1206,"SDK Refactor: Prepare security group rule commands Prepare the OSC ""security group rule"" commands for the SDK refactor See [1] for details [1] https://etherpadopenstackorg/p/osc-network-command-sdk-support Change-Id: I5553e40fe90f3a26d3f462a69f1a424032479d49 Partially-Implements: blueprint network-command-sdk-support",0.21867883205413818
1207,"Add radio ""Security Groups"" to Security section It is required for firewall driver selecting Implements: blueprint security-groups-support-for-ovs Change-Id: Id9307c5e72e35de9090804813122ea44045a371b (cherry picked from commit 4478efb3c4d1bb4843d6758e4713da5f723c322a)",0.15428143739700317
1208,NSX-V|V3: Allow multiple provider security groups on port Commit I058f639c94602dcce5c6f796d5fae4692481ad88 allowed creating multiple provider security groups per tenant_ but this fix was needed in order to allow creating a port with those Change-Id: Ie3306e45fe2af00e90ae5924831b366f8b42fa83,0.20203542709350586
1209,Using a new security group in scenario tests Instead of using the default security group - creating and using a new security group in setup_network_and_server This should help when two tests are running and using the same security group Also adding resource cleanup in API tests base for security groups Change-Id: I4997bb48edf05402aa8135e3fd70e4c16cafb114,0.051040761172771454
1210,add bandit security linter skip B104:hardcoded_bind_all_interfaces since we are an API_ so we need to bind to all interfaces_ skip this test for now Change-Id: I2ce3eccb28872b81c04f79e2434833f8c038af3f,0.07940534502267838
1211,6wind-virtual-accelerator-plugin: implement security group deactivation This patch reworks plugin to: - remove the possibility to disable ipset since starting from Virtual Accelerator 14 ipset are fully supported - allow neutron security groups deactivation to benefit from better performances Disabling security groups needs (different) configurations on controller and compute nodes For this reason this patch moves all the node specific neutron configuration in specific tasks for a better separation of code Signed-off-by: Francesco Santoro <francescosantoro@6windcom> Closes-bug: #1631953 Change-Id: I030d41751811831144be0b640ae19e56f22a8f0b,0.23059722781181335
1212,Reduce security groups # for k8s coreos cluster This patch allows two security groups to be created for k8s coreos cluster(one for master and one for minion) Change-Id: Id12cba8fbe060ced017ea0c402aab77325f71b09 Closes-bug: 1642752,0.33224907517433167
1213,Minor changes to neutron security groups code This is a follow-on patch to 3197e44c04de064bc3d8af09af7e0d2d9511af6d It cleans up a bit of the code and addresses the nits (changes a LOGexception to LOGerror and adds a unit test) Change-Id: I02b6346d9a2abff858c9dd6083fd29f393c63e97 Partial-bug: #1594242,0.3614571690559387
1214,Add support for Security Groups for baremetal servers This patch adds support Neutron Security Groups to the baremetal severs when netutron is used as network_interface for deployments Specifically_ this patch adds support so that security groups could be specified (and applied) for provisioning and cleaning networks Note: Security Groups for tenant networks are already supported Change-Id: I0cf652bdd220480b104e478f2096bf89a9ba8bdf Closes-bug: #1594242,0.32305240631103516
1215,Combine master security groups in k8s driver This patch combines the two security groups that the Kubernetes Fedora Atomic driver creates for the master nodes Change-Id: I37167f1ccd9ce04c225b906bf682d2c2165f281b Closes-bug: #1641735,0.2600848376750946
1216,Store security groups in RequestSpec Change-Id: I2107ec6260954561b5d31b91ad3f27fd325400e2,0.1796434223651886
1217,"Add radio ""Security Groups"" to Security section It is required for firewall driver selecting Implements: blueprint security-groups-support-for-ovs Change-Id: Id9307c5e72e35de9090804813122ea44045a371b (cherry picked from commit 4478efb3c4d1bb4843d6758e4713da5f723c322a)",0.15428143739700317
1218,"Add checkbox ""Enable Security Groups"" to Security section Change-Id: Id9307c5e72e35de9090804813122ea44045a371b",0.16995015740394592
1219,Add security groups basic functional tests These tests provide functional coverage for the basic security groups and rules operations Change-Id: I559f56696872d21ef20b553d836ed1c329c465da,0.19030115008354187
1220,Tempest: Remove skip decorator for security group Remove the skip_because tag for NSXv3 security group related tests Change-Id: Ia917b455d260e2ced939ff105e662ab45f431fa8,0.22285011410713196
1221,Fix Delete() operation for Endpoints using Security Groups Change-Id: I9b437095b515edbee600f508476b8056bd7f8868 Closes-Bug: Bug #1642858,0.21225261688232422
1222,Use 'openstack security group rule create' to replace 'nova secgroup-add-rule' The command 'nova secgroup-add-rule' is deprecated and will be removed after Nova 1500 is released_ so this patch use 'openstack security group rule create' to replace it for cleanup Change-Id: I66f09b4a80b9cf4452d2b7593d1d6635ba5ec8b5 Implements: blueprint use-openstack-command,0.26113560795783997
1223,Do proper deprecation for security group rule create Review I03fd0e14e470e7272930ac2651e73263b83bd4e1 renamed the --src-group and --src-ip options to --remote-group and --remote-ip but did not properly deprecate the old option names Add deprecation warnings when the old option names are used Also_ format the warnings using the new proposed translation guideline for marking substrings to not be translated_ such as literal names and option names Change-Id: I63d085d190fc28b8637e7686016eda4efbdda1be,0.3405207693576813
1224,[Admin-util] NSX|V admin util to use a policy in a security group New admin utility that can be used when the user changes the configuration to use policies in security groups (use_nsx_policies=True) This utility deletes the current rules and section of the security group_ and adds it to the policy usage: nsxadmin -r security-groups -o migrate-to-policy --property policy-id=<> --property security-group-id=<> Output example: ==== [MIGRATE] Sg To Policy ==== Successfully established new session; session ID is 28c3f Deleting the rules of security group: 415ff93e-cbd4-4f49-a06d-44885eba7c88 Deleting the section of security group: 415ff93e-cbd4-4f49-a06d-44885eba7c88 Binding the NSX security group securitygroup-143 to policy policy-9 Done Change-Id: I7041c33b86a0ebc965e2cfcfe1c9ac9261a0318a,0.07255057990550995
1225,Adding Security Note OSSN-0077 Closes-Bug #1562175 Change-Id: I0f0d2cec9948377c7fc8754a87345d7c4ec4f67c,0.37727993726730347
1226,Cookiecutter commit for Security Tempest plugin This change adds the bare minimum cookiecutter tempest plugin for the SecurityTempestPlugin Later changes will add a key manager client_ API tests_ and scenario tests for security functionality Change-Id: If20b01771c74a3ec0ee8a3832306b0406334d196,0.2516189217567444
1227,Fixes port security rules deletion Port security rules might contain rules that apply to any protocol Currently there is no checking to see if a rule which will be deleted belongs to a security rule that applies to all protocols This patch addresses this issue by adding a check to make sure the rule can be safely removed Closes-Bug: #1634082 Change-Id: Icfa7d77609394a2a7030f68c2643baf309a5de74 (cherry picked from commit 02e2337ac7223f97d78812846defe345372b785e),0.2894248366355896
1228,Fix typo in security group description Change-Id: I44ac5fd45a28011de5fceedc38ff0dc0ec720c6c,0.3957785665988922
1229,Add support in endpoint APIs to support security groups * Allow association of endpoints with existing security groups along with endpoint groups * Update alembic migration script to cater for endpoint and security group binding * Fix api tests to verify this functionality Change-Id: I734aed6dd3a2fbe2c88b719bfa37246500821b29 Closes-Bug: #1631334,0.1241990476846695
1230,NSX|v+v3: Allow multiple provider security groups per tenant The admin will be able to create multiple provider security groups per tenant_ and the new comupe ports of this tenant will get all those security groups This enhancment is required for the NSX Policy support_ as each security group can represent 1 policy_ and we may need multiple mandatory policies per tenant Change-Id: I058f639c94602dcce5c6f796d5fae4692481ad88,0.15775887668132782
1231,Get security groups of an instance using novaclient Fix TODO related to security groups of an instance Change-Id: I7749c9d64bfd41086a6adfc4c3afd8b4c5029402 Signed-off-by: Cristiana Voicu <cristianavoicu@orangecom>,0.228546604514122
1232,Fixes port security rules deletion Port security rules might contain rules that apply to any protocol Currently there is no checking to see if a rule which will be deleted belongs to a security rule that applies to all protocols This patch addresses this issue by adding a check to make sure the rule can be safely removed Closes-Bug: #1634082 Change-Id: Icfa7d77609394a2a7030f68c2643baf309a5de74 (cherry picked from commit 02e2337ac7223f97d78812846defe345372b785e),0.2894248366355896
1233,WIP enable conntrack security group driver - This change removes the learn action based securtiy group driver and documents how to enable the conntrack securtiy group driver - This change bumps the default ovs and dpdk commits to enable conntrack support Change-Id: I81e82da9d26f2f8f75da0e766898ac528fb8fc59,0.22241735458374023
1234,Add --direction option to os security group rule list cmd This patch added --direction option to filter rules by os security group rule list command Change-Id: I56ace3f97eb927fd2a868f728c7347a29d028b67 Partial-Bug: #1613533,0.21441739797592163
1235,Add security group policy extension to OSC Change-Id: I87fdcc937da36adbf4b9f620c205ee1dcdf6fcd2,0.20309215784072876
1236,[WIP] Add security group extensions to OSC Change-Id: Ic626c3efed3dfd90ae5045591f6949b2b81915b1,0.20604488253593445
1237,[WIP] NSX|V support security groups rules with policy configuration Change-Id: I95a49505e3575938c2ecfe482bde50ba37ca1f8e,0.18869204819202423
1238,Spec for Implement Security Groups switch in Fuel Change-Id: Ie7097e60be830573ac62a40aa4c8306facc6ac04 Blueprint:fuel-security-groups-switch,0.20103605091571808
1239,[WIP] Fixes port security rules deletion Port security rules might contain rules that apply to any protocol Currently there is no checking to see if a rule which will be deleted belongs to a security rule that applies to all protocols This patch addresses this issue by adding a check to make sure the rule can be safely removed Closes-Bug: #1634082 Change-Id: Icfa7d77609394a2a7030f68c2643baf309a5de74,0.2354690432548523
1240,Fixes port security rules when port security is disabled The port security is configurable and can be disabled if the user asks for it That means no security rules should be created for that port At the moment_ even if the port security is disabled_ the default security rules are still created and denies all VM traffic This patch fixes this issue by skipping security rules creation if the port does not have security enabled Change-Id: I763739574fec1e36b455e6a33aa975af71a3246c Closes-Bug: #1633589 (cherry picked from commit 9dae767c11da0fb1e04cba6c15c0076c574e6021),0.2777291536331177
1241,Use 'openstack security group create' to replace 'nova secgroup-create' The command 'nova secgroup-create' is deprecated and will be removed after Nova 1500 is released_ so this patch use 'openstack security group create' to replace it for cleanup Change-Id: Icb02efd16929e82b53fd75443f6b530aea3716eb Implements: blueprint use-openstack-command,0.2894844710826874
1242,Fixes incorrect json output when command openstack server show -f json is executed The security group json was nor correct Story: 2007755 Change-Id: I1b1cac716329e0530400aff782c08000b21d8e1d,0.28729885816574097
1243,Use 'openstack security group delete' to replace 'nova secgroup-delete' The command 'nova secgroup-delete' is deprecated and will be removed after Nova 1500 is released_ so this patch use 'openstack security group delete' to replace it for cleanup Change-Id: I3bb7b2e10f39e75746e9cf1b04b4cb46b4a71d70 Implements: blueprint use-openstack-command,0.2695940434932709
1244,Exclude port security testcase as security group is disabled test_boot_into_disabled_port_security_network_without_secgroup exclude this testcase as we disabled neutron security group now Change-Id: I4e9873ffb7f0f920b80948d930040ab1f0bc574c,0.21514981985092163
1245,Switch security role checks to voting This patch adjusts the security role checks for RHEL 7 STIG content to a voting status_ and adds the same verification to the gate as well Change-Id: I9b0d8b66731fc1f85132f14d99d3d14ead20def0,0.32434403896331787
1246,Use 'openstack security group rule list' to replace 'nova' command The command 'nova secgroup-list-rules' is deprecated and will be removed after Nova 1500 is released_ so this patch use 'openstack security group rule list' to replace it for cleanup Change-Id: I0d02f4bb1dde5cc369910bee3365b8696ca41c89 Implements: blueprint use-openstack-command,0.2709381580352783
1247,Websockify security proxy framework This blueprint proposes a generic framework for supporting man-in-the-middle authentication and encryption between Websockify and the hypervisor graphics servers It also proposes a reference driver for that framework for TLS security Previously approved: Juno_ Kilo_ Mitaka_ Newton Blueprint websocket-proxy-to-host-security Change-Id: I44b472d0907606885ff75ffce27dc3f46f6565f4,0.1509864330291748
1248,Use 'openstack security group list' to replace 'nova secgroup-list' The command 'nova secgroup-list' is deprecated and will be removed after Nova 1500 is released_ so this patch use 'openstack security group list' to replace it for cleanup Change-Id: I6e85a14c482320d21f89832e7c01dd60ab0bfc1f,0.3289921283721924
1249,WIP local plugin with security group support Change-Id: Ibc9898ac577bee19a017746356a8f826e0a8b16f,0.22531792521476746
1250,Optimize add security group rules for exposed ports If user wants to expose ranges of ports for a container_ like ports from 1000 to 1100 Using docker client command: $ docker run --net=my_kuryr_net --expose=1000-1100/udp -it ubuntu:1404 In currently implementation_ we should call Neutron client 100 times to create Neutron security group rules This patch obtains min_port and max_port from libnetwork request_ then pass to Neutron client port-range-min and port-range-max in security-group-rule-create Change-Id: I3a2baa71f94834bdf3679bb05c40f9f2ae06eca8 Closes-Bug: #1627922,0.17356500029563904
1251,Added section on security review Change-Id: I80576d9b3d13f9b2a4c203e735ef4b5f54ef3641,0.421710729598999
1252,[www] Rework security items No need to duplicate the name For consistency_ remove the team that owns it_ we don't do this anywhere Change-Id: Ieee7deee0e991fc1e60bd671b09e8e36e337506a,0.34682148694992065
1253,Fixes port security rules when port security is disabled The port security is configurable and can be disabled if the user asks for it That means no security rules should be created for that port At the moment_ even if the port security is disabled_ the default security rules are still created and denies all VM traffic This patch fixes this issue by skipping security rules creation if the port does not have security enabled Change-Id: I763739574fec1e36b455e6a33aa975af71a3246c Closes-Bug: #1633589,0.2685354948043823
1254,Fixes port security rules when port security is disabled The port security is configurable and can be disabled if the user asks for it That means no security rules should be created for that port At the moment_ even if the port security is disabled_ the default security rules are still created and denies all VM traffic This patch fixes this issue by skipping security rules creation if the port does not have security enabled Change-Id: I763739574fec1e36b455e6a33aa975af71a3246c,0.29653337597846985
1255,Fix security group encodings for VPP 2005 VPP 2005 changed the API definition of acl_add_replace() Fix to support it Change-Id: Ib6c58c46f87b705bd03c38407ad9e6b948687e8b,0.22471442818641663
1256,fullstack: Add security group tests Change-Id: Ie1fbc3c253805120f44692e3459a64537b7ae340,0.2434871941804886
1257,Move and fix security group normalization We've developed a different normalization pattern since we wrote the security group stuff Also_ it wasn't returning munches Move it over to _normalize_ add the tenant_id param to nova objects (sigh) Change-Id: I7a7c88034a78ec218f0f87a608fb67408a849d06,0.2176232933998108
1258,Add release note for security bug 1630822 This should have been included with the original fix_ but we should have this in the same release at least Change-Id: I9ab1f06282ec33034e7b6b11863ea9f9234d6fe0 Related-Bug: #1630822,0.48640698194503784
1259,[Docs] Make the security note readable This was really unreadable for me I hope it's clearer now Change-Id: I45d86673ba32dc97dba4b5c5e3c2c576ef1d04ad (cherry picked from commit 85591a0f79f4fcd83252f68ed2351a56e335787f),0.44960635900497437
1260,[Docs] Make the security note readable This was really unreadable for me I hope it's clearer now Change-Id: I45d86673ba32dc97dba4b5c5e3c2c576ef1d04ad,0.3555448353290558
1261,Adding security groups model params - Adding the external_service and external_service_id params to the security groups and security group rules responses Change-Id: Ib9b06d0c39694c19bc9738962812a0dfe55d9778,0.20168448984622955
1262,[Install Guide] Update security command output Update command output for security group rule creation when launching an instance Change-Id: I753f698a3b1cb435e09e7ea2b04df370c4401a9a,0.23300373554229736
1263,[DOCS] Updating release notes for security guide Change-Id: I297e81da49c3b41e2f5cd0469b7a94ea02f6fa46,0.5226751565933228
1264,Security group rules not removed from bridge when port security group is updated When VM port is updated with new security-group_ old SG rule flows are not removed from the ovsvapp Change-Id: Ic26edc27f965564b6b670a5f4df8783eae80aa23 Closes-Bug:#1628836 (cherry picked from commit e3adad94ba29a1f21d59d5c53b5791ecedced0ac),0.24320392310619354
1265,Security group rules not removed from bridge when port security group is updated When VM port is updated with new security-group_ old SG rule flows are not removed from the ovsvapp Change-Id: Ic26edc27f965564b6b670a5f4df8783eae80aa23 Closes-Bug:#1628836,0.221603125333786
1266,[api-ref] Refactor Manila security service API This patch make security service api reference to be more readable and maintainable Change-Id: I802f09baee7dda91999983947aca8406a57d445e,0.334333211183548
1267,Security group rules not removed from bridge when port security group is update When VM port is updated with new security-group_old SG rule flows are not removed from the ovsvapp Change-Id: I585cff88a3ca1c045d13f856cf640dc1203090f1 Closes-Bug:#1628836 (cherry picked from commit b95fdd03728ad7aa420fcac7ea113f56a288a722),0.2428436130285263
1268,Extended security groups API to include external_service and external_service_id Change-Id: I0ec8427893f7838847883761de9c2349fa4a00ba JIRA: NCP-2078 Closes-Bug: #1624354,0.253324419260025
1269,Security group rules not removed from bridge when port security group is update When VM port is updated with new security-group_old SG rule flows are not removed from the ovsvapp Change-Id: I585cff88a3ca1c045d13f856cf640dc1203090f1 Closes-Bug:#1628836,0.22289225459098816
1270,OVSVAPP agents are going down after security group update OVSVAPP agents go down when security group rule is updated after creating 4k VMs AMQP timeouts and disconnections are observed in the logs Change-Id: Iad6390ff5e76d859966d1e6b17ad0f4c7eb76f3e Closes-Bug: #1626908 (cherry picked from commit e4b36e2a0e855faafb780893d45f006766148e3c),0.26436129212379456
1271,VM's are not pinging after security group update VM's are not pinging after adding ICMP rule to security group Same issue is seen when removing rules from security group Change-Id: I4034d1557243b2ae7b61535cf6e22b7d3ca0fe55 Closes-Bug: #1627438 (cherry picked from commit ef9225e3a70e0f3d376db5518dd23d984c75fb7b),0.22487929463386536
1272,VM's are not pinging after security group update VM's are not pinging after adding ICMP rule to security group Same issue is seen when removing rules from security group Change-Id: I4034d1557243b2ae7b61535cf6e22b7d3ca0fe55 Closes-Bug: #1627438,0.1935846209526062
1273,OVSVAPP agents are going down after security group update OVSVAPP agents go down when security group rule is updated after creating 4k VMs AMQP timeouts and disconnections are observed in the logs Change-Id: Iad6390ff5e76d859966d1e6b17ad0f4c7eb76f3e Closes-Bug: #1626908,0.2399655282497406
1274,[WIP] Add missing security context to Placement pods/containers This updates the Placement chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I47e1076a33deb5493ec5562466d00f2bfa62ae0a,0.17556199431419373
1275,Do not retry default security group creation No need to retry creation of a default security group - it will always fail with DBDuplicate The patch opens a transaction before calling to create_security_group() when creating default security group_ thus avoiding db retries Closes-Bug: #1625557 Change-Id: Id15b55b097641325ac68275fe4bb3ebe93718cdd (cherry picked from commit 09d1185d24c30690358a9314c14fabaead2f4c78),0.27147403359413147
1276,Do not retry default security group creation No need to retry creation of a default security group - it will always fail with DBDuplicate The patch opens a transaction before calling to create_security_group() when creating default security group_ thus avoiding db retries Closes-Bug: #1625557 Change-Id: Id15b55b097641325ac68275fe4bb3ebe93718cdd,0.2452605962753296
1277,"Revert ""Do not retry default security group creation"" This is a breakage of the API signature We cannot change this This reverts commit 5ad5d103ad02e2787a539c82b0efcbe51cfe857c Change-Id: I53916a43c78a96d1e2d91aa55ad0c45bf70dc2eb",0.3707190752029419
1278,Add a note about security groups in install guide This adds a note that network security must be disabled_ or certain ports must be allowed_ for provisioning and cleaning networks Change-Id: I8415591d31209f8e3fbd9a4dcce30bd64bf8b24b,0.1975739300251007
1279,Do not retry default security group creation No need to retry creation of a default security group - it will always fail with DBDuplicate Change-Id: I8af479ff9631851e7d78c4fc28e8363eda848775 Closes-Bug: #TBD,0.20325249433517456
1280,NSX|V3: ensure Mac learning has port security disabled Ensure that the port secuciryt is disabled when using mac learning Change-Id: I5bcde9c383692aaf364d431da9d1ace61ab03946,0.13095779716968536
1281,NSX|V3: ensure Mac learning has port security disabled Ensure that the port secuciryt is disabled when using mac learning Change-Id: I5bcde9c383692aaf364d431da9d1ace61ab03946,0.13095779716968536
1282,[install-guide] remove redundant part for security hardening Currently_ the contents for security hardening repeat on two pages in the install guide Change-Id: I4c77f7a0c28564e56930ad9ffc3679b78566a978 closes-bug: #1624411,0.35824403166770935
1283,[WIP] Provide support for security groups for ConnectionPoints Add option for providing security groups in ConnectionPoint node_type of TOSCA VNF templates [TODO]: * Adding functional tests Change-Id: I5fabaa8a33d684a591364510ed6d3df93989c419 Closes-Bug: #1591372,0.14438825845718384
1284,Protect security group operations with the retry decorator Adds the retry decorator to the security group DB module Partial-Bug: #1612798 Change-Id: I899ed5cacde769ecbb4057b6cb48e3624b07e149,0.2595834732055664
1285,Register to update security group event Register to the AFTER_UPDATE event of security groups Change-Id: I034dc985fb7bfa7b0c8003f5d9c4b2745257ab1b,0.2941754460334778
1286,[networking] Describe existing security group behavior Providing a more complete description of the existing security group behavior This should help operators and user better understand what traffic is permitted by security groups_ and should help developers implementing additional firewall drivers to achieve consistent behavior backport: mitaka Co-Authored-By: Matt Kassawara <mkassawara@gmailcom> Change-Id: I8cc078161dfbf649f466233230eaf6e4ece0429d (cherry picked from commit 3d370b987334423adac926df7e87faba403b1021),0.21910817921161652
1287,Describe existing security group behavior Providing a more complete description of the existing security group behavior This should help operators and user better understand what traffic is permitted by security groups_ and should help developers implementing additional firewall drivers to achieve consistent behavior Change-Id: I8cc078161dfbf649f466233230eaf6e4ece0429d,0.12820766866207123
1288,"Improve security rule notification message If from_port and to_port are both ""-1"" then return ""all ports"" instead of ""-1:-1"" For example_ instead of ``ALLOW -1:-1/icmp from 0000/0`` return ``ALLOW all ports/icmp from 0000/0`` Change-Id: I0ded50a40089406fd69c8fa869839e46eecef352 Closes-Bug: #1430005",0.16262781620025635
1289,Remove default security group rules on Infra clouds We don't use the default ones_ thus removing them Change-Id: Iad92f58671af5faee7fe4a8cda011210d861a632,0.23024263978004456
1290,[Docs] Update security appendix This patch updates the security appendix to add extra information and make the information more clear Change-Id: Ifc28d6b06c2e43b2677f4267d29dc8896ce8f36c Partial-bug: 1620675,0.3856857419013977
1291,Use neutron-lib constants in security group application Change-Id: I13710b2d0722f791dee1745e7d9a1d4f7faec6dc,0.2919735610485077
1292,Fix db models of security group Change-Id: Id1d7593339a977682dbe0b7dd076c4a8b6691a2d,0.279918909072876
1293,Sync Security Groups and Flows before other resources ODL ACL service would look for Security Group rules associated with the ports when applying ACL flows While testing some use-cases_ where odl controller was restarted_ it was noticed that ACL flows were not applied as SGS/SG_RULES were missing in ODL datastore Change-Id: Ibfdc183dccd3e13559ae80fcb523ac1e0d3eea1d,0.1746177226305008
1294,"Adds Port Security section to the Admin Guide Added a short ""Disabling port security"" section to the admin guide The section describes the use case for the port security extension and how to use it in practice Change-Id: Ia263fd1a77a9884a159127389a0f5fcd8bd6798f Closes-Bug: #1330849",0.2545958459377289
1295,Fix invalid security repo Change-Id: I0365b7430ff17348fa2e0a4b8a3476b149a7ccca,0.5991008877754211
1296,[build] Implement security flow Spec: https://reviewfuel-infraorg/19129 Change-Id: I4de35fc611c853e14db7705284936ed0c7a59a5d,0.33022260665893555
1297,Support association of Policy Tag API with existing Security Groups Change-Id: I2e2ac86faf01031fc1b449616989589ddace7a0a Closes-Bug: #1618141,0.2327360361814499
1298,[API Replay] Stop processing when security group creation fails In this case_ there is no point in processing rules Processing will also fail due to an unreferenced variable Change-Id: I1344eca7ef1667be5a66b8d63818ba5e8f43ac20,0.130202978849411
1299,Fix LB failover for amphorav2: set security group Fix for the issue that an amphorav2 LB cannot be reached after loadbalancer failover The LB security group was not set in the amphora port Fixed the v2 variant of UpdateVIPSecurityGroup to actually return the security group id (v1 already did) The flow created in get_failover_LB_flow uses UpdateVIPSecurityGroup which is supposed to provide VIP_SG_ID_ which is later needed in get_amphora_for_lb_failover_subflow as a requirement for CreateVIPBasePort Story: 2008735 Task: 42087 Change-Id: I1bb334ef0c11a79038b21a873a6675d76b0fbefc (cherry picked from commit 0513319f3d6e0d8ddbb6b386cbfe01829a68aa4e) (cherry picked from commit e3b68219dd9f1ed6ed55779bc03f018f6c74e433),0.23209691047668457
1300,Fix LB failover for amphorav2: set security group Fix for the issue that an amphorav2 LB cannot be reached after loadbalancer failover The LB security group was not set in the amphora port Fixed the v2 variant of UpdateVIPSecurityGroup to actually return the security group id (v1 already did) The flow created in get_failover_LB_flow uses UpdateVIPSecurityGroup which is supposed to provide VIP_SG_ID_ which is later needed in get_amphora_for_lb_failover_subflow as a requirement for CreateVIPBasePort Story: 2008735 Task: 42087 Change-Id: I1bb334ef0c11a79038b21a873a6675d76b0fbefc (cherry picked from commit 0513319f3d6e0d8ddbb6b386cbfe01829a68aa4e),0.22125659883022308
1301,Implement missing security context template for daemonjob-controller This change adds security context template at pod/container level Change-Id: I72b1d5678e1fd3464b73937a2c50362bde8ae1d5,0.19852928817272186
1302,Add multi-tenancy section to security doc Add a small section describing the major concerns to be considered when evaluating a multi-tenant deployment to the documentation Change-Id: I1ce8253e9afba2608bb2f6a3246cd9617ec81e9c,0.19948187470436096
1303,Remove deprecation warning - security group db Security groups structures moved from: neutrondbsecuritygroups_db to: neutrondbmodelssecuritygroup Change-Id: I53687f96ff5170a9c35be7b19f5011171092a628,0.45267027616500854
1304,Adds a security test to make sure paging links only use https This test ensures that all paging links are over SSL and not plain HTTP Change-Id: I1bf3dde26403ae2d12403b37e0b0c0946652b768 Implements: blueprint paging-links-over-https,0.23824836313724518
1305,[networking] Default security group per project not network The intro networking guide incorrectly described the default security group as belonging to a network_ rather than a project If this where the case_ a project would not be able to modify the default security group for an instance attached to a shared network or another project could modify the security groups for the instances belonging to the first project backport: mitaka Change-Id: I6587728bb4c86451fc88d796537ebcae6ed72997 (cherry picked from commit 803dd2712e3b1325a2bad7a6d932c92755e4820e),0.22855685651302338
1306,Remove security hardening toggle from AIO user_variablesyml Security hardening is enabled by default_ so there's no need to have this setting in the AIO's user_variablesyml file Change-Id: Ib679731a67542fbed083abf7d4828f16fa6763c6,0.15204721689224243
1307,Add IPv6 security group rule to cloud-launcher As our clouds support IPv6_ we'll also need a security group rule Change-Id: I37cd5b99eec6b59b3bb006b5875d105f97b0018e Signed-off-by: Paul Belanger <pabelanger@redhatcom>,0.15853410959243774
1308,"Update Security PTL email address Current address fails with ""User unknown in virtual alias table""_ switch to the address used in the Gerrit profile instead Change-Id: I0e0807c68b18ec9a1bb4eb2321fe27ee93c22e84",0.21048462390899658
1309,Default security group per project not network The intro networking guide incorrectly described the default security group as belonging to a network_ rather than a project If this where the case_ a project would not be able to modify the default security group for an instance attached to a shared network or another project could modify the security groups for the instances belonging to the first project Change-Id: I6587728bb4c86451fc88d796537ebcae6ed72997,0.18253278732299805
1310,Introduce ovo objects for security groups Those objects are intentionally not integrated into the database code so far This is to quicken access to their definitions to implement push-notifications for security groups and ports This patch also makes DeclarativeObject not override extra filters on class creation and instead reuse the list of filters defined on the class as an attribute This allows to define it per class not per object (in __init__) Partially-Implements: blueprint adopt-oslo-versioned-objects-for-db Partially-Implements: blueprint push-notifications Change-Id: Idcdc928d37d5d661428525700001154f50c3056e Co-Authored-By: Ihar Hrachyshka <ihrachys@redhatcom> Co-Authored-By: Sayali Lunkad <sayalilunkad@susecom>,0.2467072755098343
1311,Adding templates for security review artifacts Change-Id: Ia4461cddcc9ff4ba2d5d64dc6c316da8d20dd968,0.3459240794181824
1312,Implement missing security context for nginx container This change adds security context template at pod/container level Change-Id: I2fbff7b3325f4b6dd98d9299b0daf9e230ece9ae,0.18258963525295258
1313,Add security context template at pod/container level for etcd chart This change implements runAsUser flag at pod level and readOnly-fs flag at container level Change-Id: Idcb78a1125b51e3b2a71c8cab0e97246c3f1c5aa,0.10736149549484253
1314,Find security group profiles by project scope If a security group exists with the same name in multiple projects_ a profile will not be able to created using that security group name This change will try to scope the security group to the user's project during validation If the security group can not be found using the project scope_ it will try to find it without the project scope Change-Id: I595b3c348ce8133a273d8e26c664fffc32694705,0.13149018585681915
1315,Refactoring security group config options Refactoring neutron security grp config opts to be in neutron/conf/agent so that all the configuration options reside in a centralized location This simplifies the process of looking up the config opts and provides an easy way to import Change-Id: Ia9538f41dfd894ed55c1db1556b37aad09ad2ae1 Partial-Bug: #1563069,0.22199022769927979
1316,Fix neutron security group tests for 510 neutronclient python-neutronclient 510 has a different API call for find_resourceid_by_name_or_id now: 84c42160e9eac654e734a19032237fdf1a8cb058 That breaks the neutron security group driver unit tests which are relying on a mocked out version of the neutronclient which itself is a bad idea but not completely re-written here so I'm leaving a TODO for that This blocks getting to use neutronclient 510 in upper-constraints so this change just fixes the immediate breakage The cleanup can happen in a follow up change Also removes test_get_raises_no_unique_match_error which duplicates the coverage from test_associate_duplicate_names for the 409 scenario Change-Id: Iee340361bc656a0bd3a246e02de41a8f4f89bebf Closes-Bug: #1612494,0.28546231985092163
1317,Relocate Security Group DB models This patch will separate security group db models from mixins for OVO implementation work Change-Id: Ie38d3cc2efa5f580261f207748affb5840ba23c9 Partial-Bug: #1597913,0.2535754442214966
1318,[UG] Security Settings in Fuel web UI Describe Security Settings in Fuel web UI Change-Id: I3d87c4aa4303b0b94c6b69c2aeba50549f6fe600 Closes-Bug: #1604383,0.16944339871406555
1319,Infer nova-net security groups better If a cloud does not have neutron_ it's entirely possible to infer that security groups should go through nova While it's currently possible to set secgroup_source: nova in cloudsyaml or in a vendor file_ it's a little overkill for folks who otherwise do not need to express that level of complexity Change-Id: I8e4dec2cf993a47c8a0d5cb55bbf80b0fdc4dd46,0.20954343676567078
1320,Added templates for security review notes and findings Added templates to be used during security review Change-Id: I25a84396fe2c8ec0fe8ba32b039295383997aa67,0.3094375431537628
1321,Instead name_ use uuid to get security group instance Security group names could be same_ although it's low probabilities_ we should try to use uuid as far as possible Change-Id: I66122ddf335ca8e3567c28f9fb65fde6b7aa31c1,0.11231615394353867
1322,nsxv3: initial implemenation for provider security groups Change-Id: Iba3db9398ca2532272a8f68efebaf1388fe43489,0.268682062625885
1323,[build] Implement security flow Spec: https://reviewfuel-infraorg/19129 Change-Id: I4de35fc611c853e14db7705284936ed0c7a59a5d,0.33022260665893555
1324,Docs: Minor security overview update Change-Id: Iac8b4251e3d3c663eee146f43ee122ba344df899,0.48502233624458313
1325,"Introduce ""icmp"" option for security group rule This change introduces new datastore option ""icmp"" to configure whether to permit ICMP Closes-Bug: #1485884 Change-Id: I61edeb38ded5543b7976a01363108a7b5b4fc5b5",0.20474770665168762
1326,"Revert ""Fix potential security issues"" This reverts commit 81210539bec2d87c3f102e8fd8a5529180911dda Change-Id: I48873df52125ff0d86dfabd8e40378a5df2cad14",0.5130050182342529
1327,Fix potential security issues Fix below potential security risks so can pass bandit test: * Any input should be quoted for subprocess call * Temp file should not use fixed name * Use yamlsafe_load to prevent arbitrary objects Change-Id: I71b4afb5805c8b1d7ead626f7fa2e15a687811fa Closes-Bug: 1590761 (cherry picked from commit 0fa17d68fc42a223aabe57a290bbe95780b9ae00),0.19722089171409607
1328,Fix potential security issues Change-Id: I71b4afb5805c8b1d7ead626f7fa2e15a687811fa,0.356905460357666
1329,Update address set with security group name update Update the address set external IDs when a security group is updated This ensures that the address set has the correct security group name stored Change-Id: Ie2e1ee43cdb19f9d8c90b6144a73ce9fe5a1984a Related-Bug: #1560817,0.26990610361099243
1330,Adds few of the security dashboard parameters to capabilities This patch adds few of the security dashboard parameters to iLO capabilities It adds : - overall_security_status - last_firmware_scan_result - security_override_switch Depends-On: Ic89c56e178b478a0c653b76a588c10aef037f318 Change-Id: I7ef2ce1a20fbc1b258fce0f8ebd53661b24e66ff,0.2827150821685791
1331,Implement missing security context template for test pod and deployment server This change adds security context template at pod/container level Change-Id: I2180cdf934ce21bc5ae7148f2830d1a8683e82db,0.23637953400611877
1332,Avoid duplicate ipset processing for security groups While applying firewall rules for ports_ existing implementation iterates through each port and applies ipset for its security groups With this_ when ports share the security group_ ipset for same security group is called again and again while iterating through ports From the DB_ we already get the list of security groups for which ipset members have to be updated In the new approach_ we apply ipset on these security groups(before firewall rules setup)_ instead of iterating through all ports(during settig up firewall rules)and parsing them for security groups and then applying ipset With this we can avoid duplicate ipset processing for same security groups Closes-bug: #1598734 Partial-Bug: #1499177 Change-Id: I3f16d1a3a847e706ff743a8e1a5e7598f9f4c6dd (cherry picked from commit ca792b0d569ca9d55617d6fddfdb53a743c05661),0.16825611889362335
1333,Unused security group - controller Change-Id: I784267b244910773af1344a87f328a0463ca3eb7,0.2934646010398865
1334,Don't update ACLs on security group update Neutron only supports updating a security group name and description Such updates don't impact ACLs and thus aren't necessary Change-Id: Icfb9a2ffcad105e6d659b5c1cd81d92c4a0eae3c Related-Bug: #1560817,0.347243070602417
1335,Pass security group id to novaclient while adding security group to server In AddServerSecurityGroup_ we currently pass the security group name to novaclient If multiple security groups with same name exist_ then even while passing secuity group using id to command 'openstack server add security group <server> <group>' it results in error 'Multiple security_group matches found' Added unit test case to test the command Change-Id: I6097eb36e1545c85209cfd767c477e10f82c6999 Closes-Bug: 1604076,0.19727714359760284
1336,[sec-guide]fix a spelling mistake in Security Guide Change-Id: I307ceef3f9a9a9e3052da8b150c69674546fa05f Closes-Bug: #1606286,0.3920052945613861
1337,[sec-guide]A redundant word in Security Guide Change-Id: Iee0025c9e7e855a1191bad22e2adc988550ad9d4 Closes-Bug: #1606155,0.31714558601379395
1338,[sec-guide]A spelling mistake in Security Guide Change-Id: Ide06103ce0c5190f46273f008e0dbb792dcb666e Closes-Bug: #1606277,0.3861185312271118
1339,Separate api-ref for list security groups by server All proxy APIs are now deprecated which includes sec grp APIs also But list sec grps by server API- (/servers/{server_id}/os-security-groups) is not deprecated so this should be separated from deprecated sec grp APIs in api-ref Partially implements blueprint deprecate-api-proxies Change-Id: I9f9e2cf5f8e390cecd9e1794a0af1a3fcc24f149,0.30578041076660156
1340,Avoid duplicate ipset processing for security groups While applying firewall rules for ports_ existing implementation iterates through each port and applies ipset for its security groups With this_ when ports share the security group_ ipset for same security group is called again and again while iterating through ports Instead_ if we prepare list of security groups for all ports and apply ipset on them before applying firewall_ we can avoid duplicate ipset processing for security groups Closes-bug: #1598734 Change-Id: I3f16d1a3a847e706ff743a8e1a5e7598f9f4c6dd,0.17570719122886658
1341,Add VeNCrypt (TLS/x509) Security VNC config Currently the driver will use the pypowervm code to start a VNC Repeater that makes available remote access to the LinuxVNC sessions started by mkvterm However_ there is no authentication or encryption done at all on these connections_ so anyone that has access through the firewall can connect to these sessions and also possibly have access to the unencrypted data sent across Support was recently added to pypowervm for optionally specifying an x509 certificate/key that will be used for x509/TLS security authentication between the client and the VNC Repeater to allow for authentication and encrypted transmission The VNC Repeater will continue to communicate with the LinuxVNC session locally without authentication or encryption If a x509 certificate/key is specified_ the VNC Repeater will enforce that the client negotiates to use VeNCrypt as part of the security handshake and then will wrapper the socket to use TLS 12 for secure communication This changeset will add optional configuration properties for the nova-powervm driver for whether to use x509 authentication and the certificates to use for this authentication vnc_use_x509_auth - Whether to use x509 authentication for VNC vnc_ca_certs - Path to CA certificates for VNC authentication vnc_server_cert - Path to the server cert for VNC authentication vnc_server_key - Path to the server key for VNC authentication Change-Id: Ib6eca2347003bce300d85b9d8bc251fdac7ffba3,0.14270910620689392
1342,"Fix improperly rendered Update Security Service modal form Update Security Service form validation works for only one time On the second try whatever values are used_ a correct ones or not_ the form closes with ""There was an error submitting the form Please try again"" message It appears that form_invalid method returns broken submit url This patch moves rendering to get_initial method to get a proper submit url for valid and invalid forms Change-Id: I6047adaf1a0864d93272940f8d15468b1ec39426 Closes-Bug: #1585247",0.28337910771369934
1343,"Add available params in neutron security group rule client's comment Some interfaces in neutron security group rule client have **kwargs parameter_ but no api reference links are given so this is to add ""Available params"" in their comments Change-Id: I9933af44dcc52d5607c0b3f17082d9d261b043b2",0.1526174247264862
1344,[install guide] Add Security settings to Fuel menu This patch: - adds a 'Security Setup' description to the Fuel Setup menu description; - updates the Fuel setup menu from 80 to 90 Change-Id: I1a65b2abe4b0bb23d78d7b577fd4b3d1ebb4b88c Closes-Bug: #1560360,0.20208552479743958
1345,"Add port security option to network commands Add the ""--enable-port-security"" and ""--disable-port-security"" options to the ""network create"" and ""network set"" commands This supports setting the default port security for ports created on a network Change-Id: I1deb505bd77cef2e4bc3c2dbbb0c450665136f47 Implements: blueprint neutron-client",0.18001866340637207
1346,Test for security checks on master node Change-Id: I87aa4d8a5a53446792ff0e1dca05b7e376a00aa3,0.2559531331062317
1347,[install guide] Add Security settings to Fuel menu This patch: - adds a 'Security Setup' description to the Fuel Setup menu description; - updates the Fuel setup menu from 80 to 90 Change-Id: I1a65b2abe4b0bb23d78d7b577fd4b3d1ebb4b88c Closes-Bug: #1560360,0.20208552479743958
1348,Pass security group name to novaclient In RemoveServerSecurityGroup we currently pass the entire security group object_ which results in TypeError in novaclient Change-Id: I6d486403a83804c3a30d6f89d2cf7f64f09797c6 Closes-Bug: 1590883,0.23244424164295197
1349,Add security context for etcd-ondemand pod/container This changes implements runAsUser flag at pod level and readOnly-fs at container level Change-Id: I4e54ae4b13c4275f8313efbb733f938ec3580138,0.0883447602391243
1350,"Added Authors to Security Notes All OSSN authors_ added under the ""Author:"" metadata field Change-Id: I81771dd3ec8d2c133ebc6ddf9f2c5f0f958d603a Closes-Bug: #1599064",0.31602221727371216
1351,Apply SSH security settings from UI This commit change restriction for SSH access only from networks provided on UI instead of all local networks by default DocImpact Depends-On: I34c9907d781b81253ed6942c67b16f8480de3bb5 Change-Id: Ifca70a377c74d233fbca50de7245bce01079ad56 Closes-Bug: #1419657 Signed-off-by: Maksim Malchuk <mmalchuk@mirantiscom>,0.21983641386032104
1352,Add the SSH security section to UI This change adds the new section with new checkbox as a separate control instead of the toggleable section because of the description which should be available even if the section is disabled (default) Change-Id: I34c9907d781b81253ed6942c67b16f8480de3bb5 Partial-Bug: #1419657 Signed-off-by: Maksim Malchuk <mmalchuk@mirantiscom>,0.20999790728092194
1353,Add new resource Security Group Rule As for now rules are a property of security group resource The problem is that rules can contain security group id's as their parameters This leads to circular dependencies Now you can create security groups as before but also create new rules as separate resources and add them to security groups Closes-Bug: #1581447 Implements bp securitygroupingressegress Change-Id: I3425960e3d5a63c54b0c6739e305a53780075095,0.17690426111221313
1354,don't serialize auto security group if not needed Change-Id: I1e20fb5493e4bcf3a37a5b4a89709f55c5cdcbd6 Closes-bug: 1597482,0.2378392219543457
1355,"Add available params in neutron security group client's comment Some interfaces in neutron security group client have **kwargs parameter_ but no api reference links are given so this is to add ""Available params"" in their comments Change-Id: I177b07a3f96f593b8ba8a8a7c646429a6616925b",0.17681744694709778
1356,"Supports the Docker ""expose"" option The Docker ""expose"" option allows that a port-range and protocol be specified through the ""docker run"" command: docker run --net=my_kuryr_net --expose=1234-1238/udp -it ubuntu This patch set implements this feature by using Neutron security groups Closed-Bug: #1569142 Change-Id: Ib7e1fd4de66a7bf69d59a3bd711994b935270b66",0.08822738379240036
1357,Add Neutron security group plugin The support for Neutron security groups did not make it into Mitaka This patch will add a new plugin to monitor Neutron notifications related to security group changes (group add_ group delete_ group rule add) Change-Id: I9d2b80e27eaf817cf561d28e067985fee7fe568d Implements: blueprint-neutron-security-group-plugin,0.31236401200294495
1358,WIP: Use OVN address set to implement remote security group in neutron Change-Id: I56e9eb1ded1836b9a9f7262f22daa51103bc8518,0.2803230881690979
1359,Add glossary links for secure boot and TPM for Security Guide Added secure boot and trusted platform module (TPM) glossary links Terms were added to openstack-manuals common glossary in change 336113 Fixed rst markup for a note Change-Id: I35e454ba590f346580ef39bf2340739fc4777513 Closes-Bug: #1485736,0.3109210133552551
1360,Fix Mapr security repo lucid-security moved to old-releasesubuntucom Change-Id: Ibf2802ca0f62c0eabc0acfc3e90c6d079d20e884,0.49036142230033875
1361,Fix openscap security violations in sshd_config Updated ssh settings in /etc/ssh/sshd_config file to fix some high and medium openscap security violations Story: 2008037 Task: 40694 Change-Id: Id57fbb13fd2b758f2e8608b56af9447035bac903 Signed-off-by: Carmen Rata <carmenrata@windrivercom>,0.2647480368614197
1362,Add secure boot and TPM to glossary for Security Guide Added secure boot and trusted platform module (TPM) to glossary for Security Guide book Partial Bug: #1485736 Change-Id: Ie35cec0b44838f5e19e703a49af5fa94027a9779,0.27552807331085205
1363,Log the network when neutron won't apply security groups Since we can be processing multiple networks for a given server create or interface attach request_ when validation fails for applying security groups it would be helpful to log the network that failed the validation so we can debug Change-Id: If2a0ed3c77ed89c7bb75cae4dd0ba7260c97cf70 Related-Bug: #1593522,0.1581117957830429
1364,Removes deleted port from Hyper-V Security Groups Driver cache When a port is deleted_ it is no longer necessary to keep it in the Hyper-V Security Groups Driver cache Change-Id: Icd6e4267eab23bef117e6d4ff2e83246d6f2080f Closes-Bug: #1536732 (cherry picked from commit 88dbf676b6a08e7bbb0287dd46a439a4ff843867),0.24309635162353516
1365,Fixed inability to deploy if security groups are disabled Existing implementation of Neutron-based networking assumed that the neutron's security groups are used to manage VM accessibility However there may exist environments with disabled security-group extension in Neutron and thus relying on something else to restrict the traffic Murano could not operate in such environments since it always was attempting to create resources of type OS::Neutron::SecurityGroup and attach VMs' ports to this resource This is addressed by introducing a new subclass of SecurityGroupManager - DummySecurityGroupManager_ which actually does nothing but silently ignores the calls to create security rules This new security manager is instantiated instead of NeutronSecurityGroupManager for Neutron-based networks in cases if the 'security-group' extension is not present in Neutron's configuration If it is instantiated a warning message is reported to the end-user to notify them that security requirements of the application were ignored Change-Id: Ia3bc6c17f9ca0a4b8bf8c272481760a8c81b27b7 Closes-bug: #1593253,0.21380439400672913
1366,Clean Security Services modal forms Refactoring Create Security Service and Edit Security Service modals Change-Id: I6eb7df04685596f8d52364c98ff94b1fc1e55d24 Partially-Implements: blueprint form-templates,0.13462617993354797
1367,Docs: Add developer guide for security role This patch adds detailed instructions for developers who are working on the security role The patch also adds CentOS/RHEL 7 support to the run_testssh script This is a backport of I0ab79f1e4abdb3deeca9b48da3b9e4f42be37980 A clean backport wasn't possible due to multi-os work done in Newton Change-Id: Id5748681677ece9d683912b44a0b5f727397791c,0.38279014825820923
1368,XenAPI: Support neutron security group This implementation is to give support on neutron security group with XenServer as compute driver When using neutron+openvswitch_ the ovs agent on compute node cannot run correctly due to lack of qbr linux bridge on compute node This change will add qbr linux bridge when xenserver as hypervisor Implements: blueprint xenserver-give-support-on-neutron-security-group Change-Id: Id9b39aa86558a9f7099caedabd2d517bf8ad3d68 Depends-On: I377f8ad51e1d2725c3e0153e64322055fcce7b54,0.2319391667842865
1369,Reraise exception raised by security groups driver Re-raises the caught exception instead of safely ignoring it This will result in the port being rebound Partial-Bug: #1522449 Change-Id: I5fce58c05a5a638acca2ebaf4e8e8f7a46f49835 (cherry picked from commit d1d391cb1ac74b02e2acbfa93f3bb58f0bc12f13),0.2044438123703003
1370,Fix minor typo in security guide The word service was mispelled in security guide Fixed this typo Change-Id: I82a135b7c767690c0a639da552bdc2286c9ad43c,0.4190562963485718
1371,Docs: Add developer guide for security role This patch adds detailed instructions for developers who are working on the security role The patch also adds CentOS/RHEL 7 support to the run_testssh script This is a backport of I0ab79f1e4abdb3deeca9b48da3b9e4f42be37980 A clean backport wasn't possible due to multi-os work done in Newton Change-Id: Id5748681677ece9d683912b44a0b5f727397791c,0.38279014825820923
1372,Add constraint for Security Group Change-Id: I8b2918b1dc1ccef1723028680914a597580664dc,0.2544938921928406
1373,Support ML2 option to enable security groups Add support for the ML2 enable_security_group option under [securitygroup] in ml2_confini This option is set to True by default and will control whether or not ACLs are applied to ports and the port binding value for CAP_PORT_FILTER Also_ update devstack plugin to set enable_security_group based on Q_USE_SECGROUP and comment out firewall_driver since it isn't used by OVN And finally_ add the security group options to the neutron-ovn-db-sync-util command Change-Id: I73ca9a34ea34f781cbec5680b44e98da309365bb Closes-Bug: #1588935,0.21895483136177063
1374,ICMP type & code validation while adding Security Group rules While adding new 'Security Group Rule' viz 'Custom ICMP rule' when wrong ICMP 'type' or 'code' was given the errors it would show were 'Not a valid port number'; which is misleading The errors should rather be 'Not a valid ICMP type' or 'Not a valid ICMP code' Also for validating ICMP 'type' and 'code' there wasn't any dedicated functionality in 'osloutils/netutils' so the code for validating 'TCP ports' was used TCP ports are in range 0 to 65535 while ICMP 'type' and 'code' are in range 0 to 255_ so using 'TCP port validation' code is incorrect When -1 is used in 'ICMP code' or 'ICMP type' that means any number 0 to 255 is valid Here newer dedicated functionality of 'osloutils/netutils' is used for validating ICMP 'type' and ICMP 'code' Change-Id: I8e227a0021d418294fa7b7756d58e39f2100850a Closes-Bug: #1511748 (cherry picked from commit edfde8b3f54cc4264d770e5fd49f07d164a85a28),0.19072166085243225
1375,Disabling security groups is not needed Instead you can use port-security-enabled=False during port creation for service Change-Id: If880800379517bf1e7979d62b41a334e0f3520a9,0.14899171888828278
1376,Fixed inability to deploy if security groups are disabled Existing implementation of Neutron-based networking assumed that the neutron's security groups are used to manage VM accessibility However there may exist environments with disabled security-group extension in Neutron and thus relying on something else to restrict the traffic Murano could not operate in such environments since it always was attempting to create resources of type OS::Neutron::SecurityGroup and attach VMs' ports to this resource This is addressed by introducing a new subclass of SecurityGroupManager - DummySecurityGroupManager_ which actually does nothing but silently ignores the calls to create security rules This new security manager is instantiated instead of NeutronSecurityGroupManager for Neutron-based networks in cases if the 'security-group' extension is not present in Neutron's configuration If it is instantiated a warning message is reported to the end-user to notify them that security requirements of the application were ignored Change-Id: Ia3bc6c17f9ca0a4b8bf8c272481760a8c81b27b7 Closes-bug: #1593253,0.21380439400672913
1377,Update lists of skipped security role tasks The security role has fixes for V-38496 and V-38670 that will allow us to apply these configurations in the gate jobs Change-Id: Iab369540c1cab0612490ad04fe4ba2e9bfff7028,0.34305182099342346
1378,[WIP] Add security dashboard attributes Change-Id: Ic89c56e178b478a0c653b76a588c10aef037f318,0.24210213124752045
1379,Add security context template to prometheus-blackbox-exporter This change adds security context template at pod level to implement runAsUser flag This change adds security context template at container level to implement readOnly-fs flag Change-Id: Icbea3487c058d88188061d0d5a77458dce910884,0.19064192473888397
1380,"Fix openscap security violation in pam-config rpm Removed all ""nullok"" occurrences in ""ystem-authpamd"" file to fix ""Prevent Login to Accounts With Empty Password"" security violation found using openscap scan Story: 2008037 Task: 40694 Change-Id: I84fd31dd262dcd3075b14acfcc03b43fb33181f0 Signed-off-by: Carmen Rata <carmenrata@windrivercom>",0.24503228068351746
1381,Docs: Add developer guide for security role This patch adds detailed instructions for developers who are working on the security role Change-Id: I0ab79f1e4abdb3deeca9b48da3b9e4f42be37980,0.35936158895492554
1382,ICMP type & code validation while adding Security Group rules While adding new 'Security Group Rule' viz 'Custom ICMP rule' when wrong ICMP 'type' or 'code' was given the errors it would show were 'Not a valid port number'; which is misleading The errors should rather be 'Not a valid ICMP type' or 'Not a valid ICMP code' Also for validating ICMP 'type' and 'code' there wasn't any dedicated functionality in 'osloutils/netutils' so the code for validating 'TCP ports' was used TCP ports are in range 0 to 65535 while ICMP 'type' and 'code' are in range 0 to 255_ so using 'TCP port validation' code is incorrect Here newer dedicated functionality of 'osloutils/netutils' is used for validating ICMP 'type' and ICMP 'code' Change-Id: I8e227a0021d418294fa7b7756d58e39f2100850a Closes-Bug: #1511748,0.15146583318710327
1383,Removes deleted port from Hyper-V Security Groups Driver cache When a port is deleted_ it is no longer necessary to keep it in the Hyper-V Security Groups Driver cache Change-Id: Icd6e4267eab23bef117e6d4ff2e83246d6f2080f Closes-Bug: #1536732,0.2220245748758316
1384,"Not to create security group when security_group ext is disabled When system's security_group ext is disabled(which can be shown by ""neutron ext-list"")_ we can skip creating neutron security_group without skipping the whole testcase Change-Id: Icbe9f2c394016aa1cad4d198303b5118d1580bed Closes-Bug: #1585104",0.24019867181777954
1385,health-manager listen port security group Octavia health manager listen port should be at the same security group as the Octavia members Change-Id: Ie0988dc95651abe78cbdd5dff1d958ed91af8ea1,0.12761381268501282
1386,Use Magic-Search for Security Groups step in Launch Instance Security Groups was the last table in the stanaard Launch Instance steps that didn't use Magic Search for filtering This patch establishes the use of Magic Search and also removes the search bar from the table to promote accessibility The filters are only for Name and Description right now_ but this allows additional filters to be added as necessary Change-Id: I5e6098752d1b1d5c9736c103796b533d656092a6 Closes-Bug: 1434710,0.16863861680030823
1387,Allowing non-ASCII characters for Security Group names See bug report for details; this removes the ASCII-only restriction for the Security Group name You can also test that the command-line allows for non-ASCII characters_ so we should do the same Change-Id: I5dc4ca35985b134ac806a1c7d50e045c3f462137 Closes-Bug: 1588039,0.19894835352897644
1388,Setup OSA security core group This patch implements a core group for the openstack-ansible-security repository in order to allow a service specific set of core reviewers to be added to it The openstack-ansible-core team retains its previous voting capabilities Change-Id: I458ca4e1c85d16f4933647e05206cde864274d1a,0.4090776741504669
1389,Fix update ACLs for rules with remote security groups Creating a security group rule that references a remote security group with no rules will cause the ACL update to fail because _add_sg_rule_acl_for_port() may return None This impacts both security group rule create and delete Change-Id: Ic7a9750659ba8d050b6e4d64061153ff177ab33f Partial-Bug: #1578198,0.2551870048046112
1390,Minimise number of auto security groups Change-Id: Iee37425f97d6f7c35a83fe290caf76f5d0dc012e Closes-bug: 1578850,0.2643163502216339
1391,Xenerver compute driver support neutron security group Propose a way with XenServer compute driver to support neutron security group when ML2 OVS is used Change-Id: Ie1d671c5a31402d8c71092e37d4b03e1e517d67a Blueprint: support-neutron-security-group,0.17726516723632812
1392,"minor changes to security documentation This contains some minor changes to the security documentation: - replace 'ironic' with 'the Bare Metal service' (as per documentation guidelines - fixes a few grammatical issues - removes reference to ""clean_nodes"" configuration option since it has been deleted in Newton - added links - additional references shows reference descriptions instead of the links Change-Id: I11df3bde9eff4b7f109bee6b9d0058e325b67027",0.4294130802154541
1393,This patch implement port security app Port security application will install or uninstall flows that let only the packets with valid ip and mac pass Change-Id: Ide4b159f99f8d92bc4aa965e932390275866841b Implements: blueprint mac-spoofing-protection,0.2495412528514862
1394,Apply puppet on the master node for security module There is need to run puppet apply host manifest when some changes were made in the post_deployment phase in the security module Change-Id: I88d409f7d4819e2662d51a4cf42719ccbda2a3bd Closes-Bug: #1583593 Signed-off-by: Maksim Malchuk <mmalchuk@mirantiscom>,0.26524555683135986
1395,"Update HTML template for security service detailed page Also cover admin part with unit tests and fix ""redirect url"" for case requested security service not found Change-Id: I166029353984da75b72e26e5b4be30687a9aef78 Partial-Bug: #1578284 Partial-Bug: #1576776",0.29388701915740967
1396,Change the SELinux doc to a security doc Kolla should have a doc with an overview of security within the project Partially implements: blueprint documentation-rework Change-Id: I0a8b902fe1b9adf6617779646bf0bbaee1a36c4f,0.26134786009788513
1397,Minor update to security segregation user story Minor update to security segregation user story to trigger review process Change-Id: Iacb81c27606ecfa03f29633f89b5de96feb16a94,0.3178214430809021
1398,Shared File Systems service security guide fixes New concepts appearing in Mitaka are added Also the guide is reworked to improve readability and make it easier to understand in general Change-Id: I3d7bde2ccb3794e5025ec42695e9df2f5bb8dbbc,0.2128174901008606
1399,Build Security Threat Analysis Change-Id: I764f492e762901e1ed9889924645acf1f0bca241,0.41272789239883423
1400,Support for stateless security groups Add support for stateful attribute of security groups_ using --stateful and --no-stateful flag on security group This allows a user to create security groups with stateful false Change-Id: Ifd20b5fc47fd0ea0bb5aeda84820dcc0fb1e8847 Blueprint: stateless-security-groups Depends-On: https://reviewopendevorg/711513/,0.1984063684940338
1401,"Add bandit security config Bandit is an OpenStack security linter that uses python AST modules to perform static code analysis of a project It can help identify low_ medium_ and high security ""hotspots"" in a project codebase This change provides an initial Bandit config based on the existing one used by Sahara Change-Id: Idcfb5641007bb27de8df262b236b9a46d7e11d5d Closes-Bug: 1547730",0.2192792296409607
1402,Fixes IPv6 Security Group rules with 128 prefix length Hyper-V cannot add Extended ACLs which have /128 IPv6 IP addresses in the RemoteIPAddress field Removes the /128 length from the remote_address field Change-Id: I9581740b7af58116e40cd094a813170b46de1623 Closes-Bug: #1505578 (cherry picked from commit 00773fc26e7bae9ac9440a530e37bd88b86a3791),0.26930150389671326
1403,Impliment security group fullstack and ut cases Change-Id: I58e37c20a1e46ef64a4dfcf5950073f8b4893543,0.2536236047744751
1404,Notice to disable security hardening role during upgrades Change-Id: I9d6adbe293543f953b0fd8b94b94cf21e914cc0b Closes-Bug: #1568029,0.4642387628555298
1405,[WIP] Disable security hardening during upgrades This commit disables the security hardening during upgrades by creating a temporary file It removes the file after a sucessful upgrade Change-Id: I26f956d670343f66d06aa0266bfa5c7256231e2f Closes-Bug: #1568029,0.45458030700683594
1406,add get single router and security group object method in nb_api Change-Id: I17870215c2cae288ef9fd72a92346d651b1b20be,0.16845527291297913
1407,Let connection to FIP obey security group rules According current codes in dnat_appapp_ connections to FIP skip INGRESS_CONNTRACK_TABLE table and can directly reach at VM port This patch will fix that bug Closes-Bug: 1569903 Changes to be committed: modified: dragonflow/controller/dnat_apppy Change-Id: I2d3b9093483747f05ea4ee25f4ab0f4a08b90249,0.16276469826698303
1408,Enable tempest security group tests Security group application is merged_ enable tempest tests for security groups Change-Id: Idfa8495bd00d48f6dbe2471c206bbc3d5cf8f2f8,0.22893184423446655
1409,Remove security info from log output if not development mode Use nailgun settings for determine mode_ if development mode enabled -> allow log Closes-bug: #1546551 Change-Id: I280ca46547aaa382aa001387ae017025da227aa7,0.1677846908569336
1410,Disable security role during major upgrades This commit disables the security hardening role during major upgrades by creating a temporary file It removes the file after a sucessful upgrade Change-Id: Ib32e0e317a84a443fb7fc9d3a364a16bd469b6e3 Closes-Bug: #1568029,0.4209122657775879
1411,Adding documentation for security threat analysis Change-Id: I77353def7997ab60164c97f44eaf6ada06231f52,0.368687242269516
1412,Optimize security group fw rules Closes-bug: #1572503 Instead of multiple rules build for TCP ALL or UDP ALL rule only one rule will be build for each case Change-Id: Ibc71d4fdec88c10c117d867bc9f048ac2ffd6950,0.1871069073677063
1413,"Remove security info from log output Replace certificate (incl private key) and passwords by ""HIDDEN BY SECURITY RULES"" For readability requirements added: from __future__ import unicode_literals Original dict is not changed (deepcopy is used) Closes-bug: #1546551 Change-Id: I280ca46547aaa382aa001387ae017025da227aa7",0.2885584235191345
1414,"Remove ""buy from lulu"" references from from the Security Guide landing page Change-Id: I050edbb307aef4bf0ce7ccba1ce95c3e65c487d6 Closes-bug: #1576369",0.2947944402694702
1415,Fixing broken link to Bridging Security Domains Change-Id: I7719293448288c8fc4a719e067f1df78537f9950,0.2778652310371399
1416,Tempest: Skip security group test because of bug Some security group related test cases are failing because of a backend platform bug Add a decorator to skip these tests as they are consistently failing It will be removed when the bug is fixed Change-Id: I087dd2bd3da126e29a31f895779be1ae15514dd6,0.21077482402324677
1417,Disable port security for mgt ports as well In some deployments (OVS)_ port security must also be disabled on the management port for communication from astara to the appliance API Change-Id: I10bae7041aab7b4b143987bf07d800b3e50a6444 Closes-bug: #1573156 (cherry picked from commit 64453dc26d51b5f50e0cc6519ae9fbe4cb0df86c),0.28208810091018677
1418,Disable port security for mgt ports as well In some deployments (OVS)_ port security must also be disabled on the management port for communication from astara to the appliance API Change-Id: I10bae7041aab7b4b143987bf07d800b3e50a6444 Closes-bug: #1573156,0.2641844153404236
1419,IPv4 and IPv6 Security Groups Scenario Tests - IPv4 Security Rules egress tests for publicnet_ servicenet and isolatednet - IPv6 Security Rules egress tests for publicnet and isolatednet - Covering ICMP_ TCP and UDP protocols Change-Id: If79dbce8cc5dd9e444f55e6d22759dc87d428329,0.18183624744415283
1420,fix samples references in security group files This fixes the samples references in the security group files_ commenting out 2 that don't exist at all This drops the warnings to 145 against current master Part of bp:api-ref-in-rst Change-Id: I0cb9932dc54cdffcbd9eda274a06d708e87409d8,0.31212177872657776
1421,Add options to security group rule list Add the following options to the 'os security group rule list' command: --long: Display direction and ethertype for Network v2 --all-projects: Display information from all projects for Compute v2 Change-Id: If8a1cbd7669cdfa6577d6d2f6fffd9e999a39a82 Partial-Bug: #1519512 Implements: blueprint neutron-client,0.24949775636196136
1422,"Revert ""Create usefull security groups by default"" This reverts commit 57fdc976531398be55c5c7e36872c8e5840fee64 Closes-Bug: #1570862 Change-Id: I7c734f2797a0614c1e10b792a681c99e18408515",0.39218127727508545
1423,Create usefull security groups by default We need to create some default security groups_ that will allow to use OpenStack cloud immediately after the deployment By default it will create the following security groups: 1 global_http - security group which opens HTTP/HTTPS for external traffic 2 global_ssh - security group which opens SSH port for external traffic 3 allow_all - security group which allows all traffic for any TCP/UDP ports from external network Change-Id: I23ea837cbe92b5091f07de291f0e9f5f40e6fd44 Closes-Bug: #1349819,0.17916256189346313
1424,Pass correct security groups driver for ML2 plugin In order to use security groups firewall_driver value should be set to a correct value for Neutron ML2 plugin Change-Id: If3f2f07f75c24658bef23f2de072fafa3fe71d5a Closes-bug: #1563876 (cherry picked from commit d3affe1c56e04fdda28d17eda5d5e1942ede9630),0.20674972236156464
1425,Implement security group app initialization As the first step to implement sg app_ we need to change the current pipeline For both egress and ingress direction_ we need to add three flow tables: pre_ct table to make the ip packet tracked_ ct table to determine the packet's ct_state and sg table to enforce sg rules into the new connection of packets For these tables_ some flows should be installed at initialization phase and also change the L2 app to fit into this change Change-Id: Ia1f311ec68085f911fcbf50121a3dbe988826316 Implements: blueprint security-group-dragonflow-driver,0.12665055692195892
1426,Fix random failure of security group unit test CLITestV20SecurityGroupsJSONtest_extend_list_exceed_max_uri_len fails randomly because this test uses query parameters and the order of query parameters in a construct URL is not deterministic As a result the test failed randomly The test should use MyUrlComparator to compare URLs MyUrlComparator ignores the order parameters when comparing URLs Change-Id: I8a8116f45583102fa1351d17a1cc5174bdce3cc9 Closes-Bug: #1570689,0.26489078998565674
1427,Add project options to security group rule create Add the --project and --project-domain options to the 'os security group rule create' command These options are for Network v2 only Change-Id: Ie3e136be076f0f2c22fbe7048d1d6eaebf5aa655 Partial-Bug: #1519512 Implements: blueprint neutron-client,0.23535534739494324
1428,"Add options to security group rule create Add the following options to the ""os security group rule"" command: (1) --direction (Network v2 only) (2) --ethertype (Network v2 only) (3) --no-src These options enable egress and IPv6 security group rules for Network v2 They also allow no source IP or group to be specified Change-Id: Ie30b5e95f94e0c087b0ce81e518de72d2dda25ad Partial-Bug: #1519512",0.1381281316280365
1429,Optionally apply security hardening in Liberty This patch brings the openstack-ansible-security role into the Liberty release as an opt in feature Deployers will need to adjust apply_security_hardening to true for the standards to be applied Security hardening is automatically enabled in Liberty gate jobs_ as it has been in Mitaka since January 2016 Change-Id: Ia76d7634b4d14d1cbc0c71e800508afb992e9f7c,0.3902401924133301
1430,nsx_v3: Allow security group rule id to be specified This is will be leverages in api-replay-mode for migrating neutron deployments to nsx-v3 This patch allows us to preserve the same security-group-rule-id Change-Id: I0f5b48c2fc63c1bf8308f25d2fc7b0876eaeaf7f,0.26462018489837646
1431,[Admin Utils] Added missing return to get security group Change-Id: I3c0cf9d44ae3ee8e673a449a46beee8bedd480fc Closes-bug: #1640599,0.265746533870697
1432,Pass correct security groups driver for ML2 plugin In order to use security groups firewall_driver value should be set to a correct value for Neutron ML2 plugin Change-Id: If3f2f07f75c24658bef23f2de072fafa3fe71d5a Closes-bug: #1563876,0.1946270763874054
1433,Add security context template for keystone-webhook container This implements security context override at pod level and adds readOnly-fs to keystone-webhook container Change-Id: Ia67947b7323e41363a5ee379c0dfb001936b5107,0.12475444376468658
1434,Add missing security context template to mariadb-backup pod Change-Id: I2931eb1408d1d8145b476a76ff8cfac36e9f2bfe,0.22599607706069946
1435,override security context capabilities to valuesyaml Change-Id: I1120a4f5325172a8ece7d2ce8bb24706e28b319f,0.15637445449829102
1436,Explicitly enable security groups for ML2 plugin If Neutron is installed from Ubuntu/Debian packages_ neutron-server and openvswitch agent use separate files to load configuration related to ML2 plugin So in order to use security groups firewall_driver value should be passed to both configuration files (ml2_confini and openvswitch_agentini) Also explicitly enable security groups to fix tests for related patch to puppet-neutron Change-Id: Ia298e002f71e8de0358c90277c24ca5a3c417b3c Related-bug: #1563876 (cherry picked from commit e522e6a98ca22dd22d5bd8740605389fd87dbfee),0.22641384601593018
1437,Refactor security group rule list to use SDK Refactored the 'os security group rule list' command to use the SDK when neutron is enabled_ but continue to use the nova client when nova network is enabled In addition_ a release note was added to document the features and fixes resulting from this refactor Change-Id: I24d04b720102ed1c60776e1ca67d4ca20e31b663 Partial-Bug: #1519512 Implements: blueprint neutron-client,0.2515254616737366
1438,Include security role in setup-hostsyml The openstack-ansible-security role is now included in the setup-hostsyml playbook but it still requires a deployer to set apply_security_hardening to True for it to be applied Change-Id: I02324b15a4ddffa52b15a23bd381892d4dfd39fc (cherry picked from commit 00207d3988853c3e1eb32297154276199d740522),0.2851386070251465
1439,"Restrict deletion of ""default"" security group This patch restricts deletion of ""default"" security group in a tenant using admin client only and not non-admin user client Change-Id: I0eaa57cc00c5bccc2657d094357ea0bb65524984 Closes-Bug: #1557662",0.24921844899654388
1440,Autorequire nova security group Autorequire nova security group for related nova security rule Change-Id: I89aa036c8a24d919c15ceb909f0c567dad3c6032 (cherry picked from commit 9aa5ee10241dd66585be685427c178c2f05e051a),0.3524385094642639
1441,Explicitly enable security groups for ML2 plugin If Neutron is installed from Ubuntu/Debian packages_ neutron-server and openvswitch agent use separate files to load configuration related to ML2 plugin So in order to use security groups firewall_driver value should be passed to both configuration files (ml2_confini and openvswitch_agentini) Also explicitly enable security groups to fix tests for related patch to puppet-neutron Change-Id: Ia298e002f71e8de0358c90277c24ca5a3c417b3c Related-bug: #1563876,0.22689607739448547
1442,Apply host security hardening by default Security hardening has been applied to all gate jobs since January 2016 in the Mitaka release This patch enables security hardening for all deployments in Newton by changing the apply_security_hardening variable to true by default Change-Id: Ia30a54f9e94c7341a306a7ed7561cdbc3e234db2 Depends-On: I18ccbd8e1cd7c311521d0ffdfcf6f46dbc4e395d,0.32237058877944946
1443,NSX: do not block init with security group logging configuration Ensure that service is not blocked when updating the security group logging configuration Change-Id: I76eeeb351a9a7dfb8ded5aa47ae4f29d91fa3939,0.13232707977294922
1444,Autorequire nova security group Change-Id: I89aa036c8a24d919c15ceb909f0c567dad3c6032,0.2926643490791321
1445,Include security role in setup-hostsyml The openstack-ansible-security role is now included in the setup-hostsyml playbook but it still requires a deployer to set apply_security_hardening to True for it to be applied Change-Id: I02324b15a4ddffa52b15a23bd381892d4dfd39fc,0.2727503180503845
1446,"Modifing and adding parameters in ""Create security group rule"" This patch modified type of parameters: security_group_rule_ group and tenant_id After modify_ Type of parameters (security_group_rule_ group and tenant_id) are ""xsd:dict""_ ""xsd:dict"" and ""URI"" sequently And added a ""parent_group_id"" parameter_ which was been missed Change-Id: I0d8734230b51f965edbc8f6ee551b060b848e87b Closes-Bug: #1563691",0.2425936758518219
1447,libvirt: Comment non-obvious security implications of migrate code There are 2 lines in finish_migration which look like a bug The original reason for adding them no longer exists_ but removing them now would open a severe security bug due to a series of non-obvious interactions This patch simply adds a comment to ensure this is taken into consideration when changing this code in future Change-Id: Icfe4b5deadfe7dbb0f34ea9af1f95b62cfca8a0a (cherry picked from commit 61b34ed9a4030e44f6ae26e9326888d47aeb53df),0.20846521854400635
1448,LBaaS: Add security group + quota docs The LBaaS documentation overhaul[1] left out any mention of security groups as well as LBaaS-related quotas This patch adds documentation for both of those steps to avoid confusion [1] https://reviewopenstackorg/#/c/278128/ Closes-Bug: 1562116 Change-Id: Iad12b1ca345603d2d04f8473360bcf78efadf0aa (cherry picked from commit e229634986460377a033b7f5b7961c83788052d3),0.2590412497520447
1449,[sec-guide]Update security guide for next release Change-Id: Idc3296a340b4f03db8b5aede7131ded9989fed98 Closes-Bug: #1563982,0.40771979093551636
1450,LBaaS: Add security group + quota docs The LBaaS documentation overhaul[1] left out any mention of security groups as well as LBaaS-related quotas This patch adds documentation for both of those steps to avoid confusion [1] https://reviewopenstackorg/#/c/278128/ Closes-Bug: 1562116 Change-Id: Iad12b1ca345603d2d04f8473360bcf78efadf0aa,0.24551010131835938
1451,add test case to check security profile add test case to allow by deleting router from fw add test case to block and allow subnet Change-Id: I036a4d71eeab2485311d9ef3adf5b52785cd62a2,0.06410691887140274
1452,"Support security group name for --src-group Support security group name for the ""--src-group"" option on the ""os security group rule create"" command Change-Id: Ic23d0671dad77566269c9a588644c8d774368733 Closes-Bug: #1540656",0.30917245149612427
1453,Removed files by security scan Change-Id: I242c3562ee188f19793c2383e191525ac68eed66 Signed-off-by: smarcet <smarcet@gmailcom>,0.3367919325828552
1454,"Updated Security Guide Added last Note_ Step 5_ and Step 6 to the file ""configure-oidc-auth-applications"" in the Security Guide Patch 1: Acted on comments by Adil Patch 2: Acted on comments by Greg and Jerry Signed-off-by: egoncalv <elisamaraaokigoncalves@windrivercom> Change-Id: Iae92595a0da5cf7de3d95dd70448d306f9473aec (cherry picked from commit cd607d6d64ed01f38abded57c55f728b34a898dd)",0.2906303405761719
1455,[API Replay] Stop processing when security group creation fails In this case_ there is no point in processing rules Processing will also fail due to an unreferenced variable Change-Id: I1344eca7ef1667be5a66b8d63818ba5e8f43ac20,0.130202978849411
1456,"Updated Security Guide Added last Note_ Step 5_ and Step 6 to the file ""configure-oidc-auth-applications"" in the Security Guide Signed-off-by: egoncalv <elisamaraaokigoncalves@windrivercom> Change-Id: Iae92595a0da5cf7de3d95dd70448d306f9473aec",0.22199606895446777
1457,Don't send empty remote_address_group_id for security groups We are seeing an error raised by older Neutron's 400: Client Error for url: <cloud>/v20/security-group-rules_ Unrecognized attribute(s) 'remote_address_group_id' This field was added unconditionally with I50374c339ab7685a6e74f25f9521b8810c532e13 but_ per above_ appears to cause problems for older Neutron instances To work around this_ remove the argument from the body when blank by overriding the _prepare_request function of SecurityGroupRule Two tests where this are used are updated; one checks the body is not sent when None and the other is modified to send a remote_address_group_id value to validate the other path Story: #2008577 Task: #41729 Change-Id: I25dabfde27b843df1c91c7fc37a1fe8d207b8010 (cherry picked from commit b562d779e60337926c011b147256ba81cc1e6f88),0.28088679909706116
1458,Add missing security context template to promenade init container This change adds security context template at container level to implement readOnly-fs flag Change-Id: Iab814a3dd5a9bc46251939d6335af6aab21e5eb5,0.1513664275407791
1459,Add missing security context to Nova pods/containers This updates the Nova chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I10b12db8019beb42005764430711694a61c8d17b,0.22867681086063385
1460,Add missing security context to Keystone pods/containers This updates the Keystone chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I0e00571d4060cca914d1bdb4f36e736fa8501130,0.18047592043876648
1461,Refactor security group create rule to use SDK Refactored the 'os security group rule create' command to use the SDK when neutron is enabled_ but continue to use the nova client when nova network is enabled Added a release note for the change in security group rules output due to Network v2 Change-Id: I8c6c99d5272ff5d410a449f73d198d834c5cd96e Partial-Bug: #1519512 Implements: blueprint neutron-client,0.24883198738098145
1462,support FGT default security profile in firewall as a service 1 add 5 security profiles params in pluginini 2 enable FGT firewall policies security profiles according to the settings 3 fixed a bug cannot exist properly in testing templates 4 according to the upstreaming commit_ removed the old function call(get tenant_id) in fwaas plugin Change-Id: If88dea4b2ae12de965b84d670c7d10c1d2a6615f,0.11569255590438843
1463,6wind-virtual-accelerator-plugin: disable security group ipset This patch adds an option to configure compute and network nodes to disable ipset (plugin default behavior) via the Web UI Change-Id: I10546822f27bc5e695fcf2113cbcdedfc220e304 Signed-off-by: Francesco Santoro <francescosantoro@6windcom>,0.1659470945596695
1464,Apply nova patchset to support neutron security group Change-Id: Ic20774f23ebd4d08c7f3102029058a7cc977d029,0.42902591824531555
1465,[WIP] Port security Change-Id: I5f72b730aaa0439c50845454c0a5f6438b53605f,0.2597094774246216
1466,(WIP) Support port security API extension The patches to support port security in OVN are still WIP and not yet submitted in the ML (Running the tempest cases to test and validate the code - both the plugin and ovn-northd code) Change-Id: Ic7932feffb10562fef35a63d8fa02f5f8fc94c4c Closes-bug: #1496595,0.3115999102592468
1467,add releasenote for security group provider Change-Id: I88c0fab2945dabac9236ca58d02fee473bb7a0f2,0.5055403709411621
1468,Restrict SSH according the security settings * Bind SSH service on the all interfaces by default * Restrict SSH access only on ssh_network from the fuelmenu Change-Id: I3c5f7e931669d9d28f59d9f64b4d407b2f37215e Depends-on: I2d1149a7596d596f581b7628de7089ac375772f6 Closes-Bug: #1557190,0.02397184446454048
1469,Add security module Initial commit wich adds the security module to the fuelmenu Change-Id: I2d1149a7596d596f581b7628de7089ac375772f6 Partial-Bug: #1557190,0.20972904562950134
1470,[WIP] Add ability to create security groups from puppet Change-Id: I1835f121726e2b99bd6cc62e67849a0bc248ea4f,0.2230076789855957
1471,Fix facts for security module in the fuelmenu Change-Id: I9609003d892875b0bbe00d24fe8365edb1f3c57e Partial-Bug: #1557190,0.24395783245563507
1472,fix security group rules comparision neutron started to return empty description that shouldn't be checked when ec2api compare rules for deletion Change-Id: I0c195a6d19803742f1a6f654317cc5da6fb8d52c,0.2849070429801941
1473,Websockify security proxy framework This blueprint proposes a generic framework for supporting man-in-the-middle authentication and encryption between Websockify and the hypervisor graphics servers It also proposes a reference driver for that framework for TLS security Previously approved: Juno_ Kilo_ Mitaka Blueprint websocket-proxy-to-host-security Change-Id: I00fe3098222640f75ba45c0f276e8f5b064f72dc,0.1497441530227661
1474,Disable Neutron port security driver on upgrades When upgrading from Kilo to Liberty_ networks existing prior to the upgrade prevented new VMs from booting This was due to the introduction of the port_security extension to Neutron's defaults in the openstack-ansible Liberty release This change disables the port_security driver in environments upgrading from Kilo_ with documentation informing deployers of the change Greenfield Liberty environments do not experience this behavior_ as the port_security driver is enabled for all networks created there Upstream Neutron do not currently provide a mechanism for adding port_security binding information to pre-existing networks_ nor does it fail gracefully Hence_ this patch is deemed the least invasive way to work around the issue for openstack-ansible This depends on Change-Id: I3838374467fe7cb35222a80d78095af806114b1a being present in liberty Change-Id: Ib0d9eeae3766626186586c22875a2c1acf259e03,0.3112167716026306
1475,add a readme to the security guide project as discussed at the security doc team meeting on feb 22_ 2016_ this readme is being added to express the views of the team regarding the bug reporting and review process Change-Id: I315a84ccf93b2d3997fea8bfe795b73deb615016,0.35814905166625977
1476,Support security module in the fuelmenu Change-Id: I6518923c089a0f602566394bc4502a57c4306eb7 Partial-Bug: #1557190,0.20864953100681305
1477,Revert security group management to support legacy deployment 1 Revert to use NOVA API to manage security group; 2 Fix the security group not found issue for lagacy deployment; 3 Remove unneeded chmod before scp binaries into target VM; Change-Id: I8879dcf2dde07142713e60ec5aee1032a78d340c,0.34065842628479004
1478,Add project options to security group create Add the --project and --project-domain options to the 'os security group create' command These options are for Network v2 only Change-Id: I9e1667080a1a49389d51ade2e76a08b08a09870b Closes-Bug: #1519511 Implements: blueprint neutron-client,0.2633518576622009
1479,libvirt: Comment non-obvious security implications of migrate code There are 2 lines in finish_migration which look like a bug The original reason for adding them no longer exists_ but removing them now would open a severe security bug due to a series of non-obvious interactions This patch simply adds a comment to ensure this is taken into consideration when changing this code in future Change-Id: Icfe4b5deadfe7dbb0f34ea9af1f95b62cfca8a0a,0.19900676608085632
1480,"Implement security group - Neutron plugin part The task Neutron plugin needs to finish for security group functionality is simple When a rule is created or deleted in a security group_ it just updates the corresponding bottom security group Also_ creating or deleting a rule with ""remote_group_id and changing rules in default security group will be rejected by plugin Currently this task runs in synchronous way Later it can be implemented in asynchronous way for better response time Change-Id: Ibbf46c2e91382986c02324d86bc22887e93267eb",0.21465888619422913
1481,"Implement security group - Nova API gateway part Nova API gateway needs to finish two tasks for security group functionality One is to create security group in bottom pod if it does not exist Only when the user boot a server can we know which pod to create the security group The other one is to handle default security group We decide to replace the default ""remote group"" rules with several ""remote ip prefix"" rules Each rule points to a CIDR of one of the project's subnets Since the collection of subnets may change_ we need to update bottom security group rules Currently these two tasks both run in synchronous way For better response time the second task can be implemented in asynchronous way later Neutron plugin part for security group functionality will be covered in next patch Change-Id: I1822ff16e3dfc2a89c34f7833adcc1ad1d952462",0.16071322560310364
1482,Add missing security context template to nagios init container This change adds security context template at container level to implement readOnly-fs flag Change-Id: Ibd4f8a916bcd74c1d89aa360e89d4477cd01d367,0.14521166682243347
1483,Add release notes for security fixes in 1300 mitaka GA There are three security issues fixed in mitaka The first two were documented for liberty 1201 but we apparently forgot to doc them for mitaka Related-Bug: #1524274 Related-Bug: #1516765 Related-Bug: #1548450 Change-Id: I3eba75f1fc86c4c9abd258042dfafc6df1f2405c,0.4490455389022827
1484,DO NOT MERGE: ODL v2: Security Group support This commits refactors the Opendaylight security group code to handle race conditions and out of sync issues It attempts to address these using an atomic thread synchronization model that tracks the sync_ retry_ success and failed states of Neutron objects sent to Opendaylight [rcurran - Pushing up code so others know that this work has been completed (sorry Yalei) Will push up for official review once the ODL v2 L3 and outstanding bugfixes in networking-odl queue have been merged TODO: Use existing callbackpy registration hooks or new eventsPRECOMMIT* ?] Change-Id: Ia1742bfd30aeef0ad9216e4b02d6a97751b276c3 Partial-Bug: #1493551,0.3031947910785675
1485,Enable the ML2 port security extension driver by default This patch enables the port security ML2 extension driver by default It should have no impact on users that do not explicitly modify the port security property on a port Change-Id: I1413428a1c0329acf0276bf6032684e5e7f8e177 Closes-Bug: #1531970 (cherry picked from commit d9fa3428fd4a794bddff68960c8748642017f7e4),0.17965084314346313
1486,Refactor security group create to use SDK Refactored the 'os security group create' command to use the SDK when neutron is enabled_ but continue to use the nova client when nova network is enabled Change-Id: Ib29df42edcddcc73a123fff6a64743a6bfcb7fbf Partial-Bug: #1519511 Implements: blueprint neutron-client,0.25906795263290405
1487,Refactor security group show to use SDK Refactored the 'os security group show' command to use the SDK when neutron is enabled_ but continue to use the nova client when nova network is enabled Change-Id: I25233ddb8115d18b8b88affb3de13346084a339d Partial-Bug: #1519511 Implements: blueprint neutron-client,0.26361677050590515
1488,Use Neutron API to handle security group Change-Id: Ib19a634c8527b63a5e012a826fab3b082206b340,0.23638257384300232
1489,Add Syntribos Project to OpenStack Security Project Change-Id: I3471fbd6c78d63ee40fc25d7de810e4f0de5d114,0.3591327667236328
1490,NSX Admin: Add support for NSXv Security groups Change-Id: I43f958ff5e3d705e9b5ccf29d66bbefb4f3d1cc3,0.1912342756986618
1491,Move Security Policy Enforcement to Proposed Move User Story and adjust to conform to new template Change-Id: Ib576d77d2b91f3146986d880f70f39967ca4ec8b,0.17747829854488373
1492,Move Security Segregation user story Per recent process change move story to proposed Template adjustments to be submitted as a separate change to ensure they show up in diff Change-Id: I5228d178e735e53731d1e6b7a682d0786f166bfe,0.16509859263896942
1493,Add tox job for the bandit python security linter Bandit is a job that parses and analyzes python code to detect common insecure programming practices TrivialFix Change-Id: Iea23a9bd23b25827043f02aa1a62fb0724f1d0ee,0.14691215753555298
1494,Add release note for security group set refactor Add a release note for [1] [1] https://reviewopenstackorg/#/c/287763/ Change-Id: I30812c3ead477267dc7e3dc774c09b3435152eb9 Partial-Bug: #1519511 Implements: blueprint neutron-client,0.5059625506401062
1495,Refactor security group set to use SDK Refactored the 'os security group set' command to use the SDK when neutron is enabled_ but continue to use the nova client when nova network is enabled This patch set also fixes a compute bug which ignores name and description when set to an empty value Change-Id: I4225179dca4aedf799e1656ec49236bdedc5e9bd Partial-Bug: #1519511 Implements: blueprint neutron-client,0.3244798481464386
1496,Don't force people to security groups after they add a FIP Horizon should not move people from the instances page to the security groups page after adding a FIP It's already too late to prevent bad things from happening and this implies that it is not too late Change-Id: I03796253fc6b6c56572c6e841f3ce3102c9c6cdd Closes-bug: #1550023,0.2112523913383484
1497,Add security exceptions for qemu KVM driver By configuring apparmor libvirt-qemu configurations Change-Id: I03d20abe54e447ed1ccbfefed1dd3ab31e9443c4,0.0859881341457367
1498,Refactor security group list to use SDK Refactored the 'os security group list' command to use the SDK when neutron is enabled_ but continue to use the nova client when nova network is enabled This refactor also removes the logic for displaying project names instead of project IDs when the --all-projects option is specified This logic was removed because it is inconsistent with the other network commands Since neutron will always display security groups across all projects for an admin_ the --all-projects option is now hidden when neutron is enabled and the Project column is always displayed Change-Id: I934a1f5084ef3c5f929d0ffd38ebf5064d799941 Partial-Bug: #1519511 Related-to: blueprint neutron-client,0.27867114543914795
1499,Caches Security Group Rule ACLs In order to avoid querying for the mentioned WMI objects_ adds a cache for them_ verifying the existence of the Security Group Rules using the cache instead Adds the Weight field to the SecurityGroupRuleR2 in order for the objects to have the same fields as the ACLs Partial-Bug: #1505196 Change-Id: I63d5984f3f9343e32e065f219567c4a821eb997b,0.13689757883548737
1500,Add topics for security groups Add tenant_id as topics for security group creation and deletion Change-Id: I004c7142a34debd4ff5b2bbc09fc37a7feb28308,0.18770325183868408
1501,Fix improper egress security rule deletion If we enable VRRP_ which uses unique IP protocols 51 and 112_ the egress security group rules get mistakenly removed from the neutron ports This patch fixes that issue by excluding non-TCP security rules from the delta calculation Change-Id: I5c5c65224349a8f3c68a7c5a07582dcfc69f4eaa Closes-Bug: #1547760,0.26215603947639465
1502,Various fixes for security group 1 make sure using iptables as firewall driver 2 port name is using the first 11 charactors of its uuid Change-Id: I71acbb19d03b0a747752785aeb83ba3e84e2b7ca (cherry picked from commit 3393833c373c416aaca4e82987e2d599b88a9a4e),0.2510341703891754
1503,Various fixes for security group 1 make sure using iptables as firewall driver 2 port name is using the first 11 charactors of its uuid Change-Id: I71acbb19d03b0a747752785aeb83ba3e84e2b7ca,0.15609973669052124
1504,BVS-5248_ register callback functions for security group operation Change-Id: I2474bf92dc22c77d6ab7569245518c96542df07e (cherry picked from commit e9e146c8d2d9634b4006fdb0d6bb3e06c08004fd),0.3034244775772095
1505,BVS-5307_ tenant and security group should exist in topology sync In nsapi_ the topology sync always expects all tenants present https://githubcom/bigswitch/bvs/blob/master/src/main/python/ns_project/nsapp/views_20py#L84-L103 This change also sync security group_ since it should apply to both p-only and p+v setup Change-Id: Ia541d12549d312210e41d975ca72643deba02ae0,0.2598050832748413
1506,BVS-5248_ register callback functions for security group operation Change-Id: I2474bf92dc22c77d6ab7569245518c96542df07e,0.23151364922523499
1507,Add precommit event for security group Add PRECOMMIT_CREATE/DELETE/UPDATE event type for callback function_ and use it in the security group db transaction Change-Id: Icd2849bd84dab6733a572e8c85f242afcefc6c78 Closes-Bug: #1522172,0.11832458525896072
1508,Enable the ML2 port security extension driver by default This patch enables the port security ML2 extension driver by default It should have no impact on users that do not explicitly modify the port security property on a port Change-Id: I1413428a1c0329acf0276bf6032684e5e7f8e177 Closes-Bug: #1531970,0.16111329197883606
1509,Refactor security group rule delete to use SDK Refactored the 'os security group rule delete' command to use the SDK when neutron is enabled_ but continue to use the nova client when nova network is enabled This patch set also introduces a new FakeSecurityGroupRule class for testing security group rules And fixes were made to the FakeSecurityGroup class Change-Id: I8d0917925aa464e8255defae95a2a2adfb6cfb75 Partial-Bug: #1519512 Related-to: blueprint neutron-client,0.2599145472049713
1510,Ensure security groups are properly rebound If a port was disconnected via port_update and then reconnected_ the security groups are not reapplied Clears the port's security groups cache when the port is disconnected port_update now reapplies security groups_ if necessary Change-Id: Iaef444ed898fd624f9d34c594db89665bd70dcdb,0.17609184980392456
1511,"Refactor security group functional tests Moved the functional tests for ""os security group"" and ""os security group rule"" from the compute to the network directory to align with the refactoring to the commands Change-Id: Ief6ab17775c6d7e3bef58d9fa025d9dd520b7370 Partial-Bug: #1519511 Partial-Bug: #1519512 Related-to: blueprint neutron-client",0.2902223467826843
1512,"Revert ""Add missing pod level security context template for mariadb-backup"" This reverts commit 0da55ad85ef621baa22887799e3146cecd93d368 Change-Id: I9de78186a2c3a6d181bedfdb8b84abeecce46bd6",0.37965959310531616
1513,NSX|P: improve security rules creation performance Call the api under transaction without child rules Depends-on: Ib6361575642fa96a93dd49107ece1f120a6e61b2 Change-Id: Ibb891b2c31e756b2813d55635a80e5a0ac658ae8,0.1349128782749176
1514,NSX|P: improve security rules creation performance Call the api under transaction without child rules Depends-on: Ib6361575642fa96a93dd49107ece1f120a6e61b2 Change-Id: Ibb891b2c31e756b2813d55635a80e5a0ac658ae8,0.1349128782749176
1515,NSX|P: improve security rules creation performance Call the api under transaction without child rules Depends-on: Ib6361575642fa96a93dd49107ece1f120a6e61b2 Change-Id: Ibb891b2c31e756b2813d55635a80e5a0ac658ae8,0.1349128782749176
1516,Improve security policy update rules with transactions Use the policy 'rules' attribute instead of adding child rules This is expected to have better performance on the NSX side This patch re-itroduce the fix from: I213616a8b47f11adb1a897568746885f3e77078c but this time with a flag to not break stuff Change-Id: Ib6361575642fa96a93dd49107ece1f120a6e61b2,0.21178404986858368
1517,Improve security policy update rules with transactions Use the policy 'rules' attribute instead of adding child rules This is expected to have better performance on the NSX side This patch re-itroduce the fix from: I213616a8b47f11adb1a897568746885f3e77078c but this time with a flag to not break stuff Change-Id: Ib6361575642fa96a93dd49107ece1f120a6e61b2,0.21178404986858368
1518,Improve security policy update rules with transactions Use the policy 'rules' attribute instead of adding child rules This is expected to have better performance on the NSX side This patch re-itroduce the fix from: I213616a8b47f11adb1a897568746885f3e77078c but this time with a flag to not break stuff Change-Id: Ib6361575642fa96a93dd49107ece1f120a6e61b2,0.21178404986858368
1519,Add security context template for etcd-backup chart This change also removes etcd-perms container which is not required Change-Id: Ia6c38424e0c2d177e35fc904a9551d601a31ac3b,0.17732810974121094
1520,Added IPv6 support to Security Groups in OVS DPDK firewall Added support for IPv6 to the SG OVS DPDK firewall and UTs testing the new functionality Change-Id: I9e6f131fe11d87974a8d09e50e28acdd49ca1bfb,0.25300779938697815
1521,Various fixes for security group 1 make sure using iptables as firewall driver 2 port name is using the first 11 charactors of its uuid Change-Id: I71acbb19d03b0a747752785aeb83ba3e84e2b7ca,0.15609973669052124
1522,Minor cloudcafe updates for security groups tests - Adding LinuxClient delete_file method - Adding networks common constants - Updating security groups data plane delay config default value Change-Id: I0ee0c15a501270c3a7b7b6ab02be93917c4618a9,0.36433741450309753
1523,Adds security group app Adds security group add framework Change-Id: I41019ccc51713bb8e1745643197c58ae954d6e79 Implements: blueprint security-group-dragonflow-driver,0.2719126045703888
1524,Configure security data into DF DB Sync neutron security group data into DF DB Change-Id: I44e68066e457d2cf077dcb70fe4aa7fc5a11c0fb,0.2884633541107178
1525,don't explicitly delete security group rules security group rules will get deleted when the security group is deleted Doing deletes ourselves in tempest adds complexity and slows things down for not particularly interesting reason Change-Id: I6bac772d8e50f6e7174b267dbf55670b6bf891d7,0.1702878177165985
1526,Add bandit security linter Bandit detects potential security issues in code This patch adds it to tox Some of the issues found need to be fixed prior to introducing into a gate job Change-Id: Id902d8b95626f98d79755cbab9144b2d6041f66e,0.21472379565238953
1527,Add popular IP protocols for security group This patch is a follow-up of https://reviewopenstackorg/#/c/252155 Change-Id: I9ce3dd4ef0400b134f67b9e9cbf2e09cee7ebb01 Related-Bug: #1475717,0.2480613738298416
1528,Add nsxv3 security group test Add security group tempest test for nsxv3 to test the behavior of create/update/delete security group and security group rule has correct behavior on both openstack and nsx backend The following test cases has been added: - Create security group - Update security group - Delete security group - Create security group rule - Delete security group rule Change-Id: Idacbd48b6380722aac6ab8ef6db03263ca23d154,0.21275672316551208
1529,Add popular IP protocols for security group Change-Id: Iaef9b650449b4d9d362a59305c45e0aa3831507c Closes-Bug: #1475717,0.264343798160553
1530,BVS-5248_ register callback functions for security group operation Change-Id: I2474bf92dc22c77d6ab7569245518c96542df07e,0.23151364922523499
1531,Refactor security group delete to use SDK Refactored the 'os security group delete' command to use the SDK when neutron is enabled_ but continue to use the nova client when nova network is enabled This patch set introduces a new NetworkAndComputeCommand class to be used for commands that must support neutron and nova network The current DeleteSecurityGroup class is now a subclass of this new class and has moved under the network v2 commands This patch set also introduces a new FakeSecurityGroup class for testing security groups Change-Id: Ic21376b86b40cc6d97f360f3760ba5beed154537 Depends-On: Ia37e81d4fb05a1e2fceb3e5d367bda769ab8e64b Partial-Bug: #1519511,0.28924962878227234
1532,"Apply PAM security limits by running daemons through su Daemons launched from OCF scripts inherit default resource limits It could confuse users and cause resource allocation fail under heavy load We should run daemons requiring root privileges through su - root -c_ so limits from limitsconf would be enforced To make it easier to implement_ a new wrapper ""ocf_run_as_root"" is implemented in ocf-fuel-funcs Change-Id: Iea56e4d08a2c1f92500129210d79e4b1fe04e3fd Closes-Bug: #1429553 (cherry picked from commit 65eca547606edceedc15d8fadfd1e5822ba9f1f6)",0.06474964320659637
1533,"Apply PAM security limits by running daemons through su Daemons launched from OCF scripts inherit default resource limits It could confuse users and cause resource allocation fail under heavy load We should run daemons requiring root privileges through su - root -c_ so limits from limitsconf would be enforced To make it easier to implement_ a new wrapper ""ocf_run_as_root"" is implemented in ocf-fuel-funcs Change-Id: Iea56e4d08a2c1f92500129210d79e4b1fe04e3fd Closes-Bug: #1429553",0.049064893275499344
1534,"Apply PAM security limits by running daemons through su Daemons launched from OCF scripts inherit default resource limits It could confuse users and cause resource allocation fail under heavy load We should run daemons requiring root privileges through su - root -c_ so limits from limitsconf would be enforced To make it easier to implement_ a new wrapper ""ocf_run_as_root"" is implemented in ocf-fuel-funcs Change-Id: I4b0e0cd0ebca9013adbd69830ea79772014d6cf1 Closes-Bug: #1429553",0.04896080493927002
1535,Adding the security project blog Change-Id: Ie8884f8bf0073f79f451db3e480eb5386e036d5e,0.3195563852787018
1536,BVS-5307_ tenant and security group should exist in topology sync In nsapi_ the topology sync always expects all tenants present https://githubcom/bigswitch/bvs/blob/master/src/main/python/ns_project/nsapp/views_20py#L84-L103 This change also sync security group_ since it should apply to both p-only and p+v setup Change-Id: Ia541d12549d312210e41d975ca72643deba02ae0,0.2598050832748413
1537,make sure tenant and security group are always populated in topology sync Change-Id: Ia541d12549d312210e41d975ca72643deba02ae0,0.2256327122449875
1538,Add Security Segregation user story Add security segregation user story imported from telecommunications working group The goal of this use-case is to present the need for a (partly) segregation of physical resources to support the well-known classic separation of DMZ and MZ_ which is still needed by several applications (VNFs) and requested by telco security rules Change-Id: I4200a528970ea28b8fad18f30db5a51cc4a7cc80,0.09343093633651733
1539,"Revert ""Apply PAM security limits by running daemons through su"" This reverts commit 478fef32ceb706da22aff84ec28f54d03273c07e Change-Id: I7c24683a33afca8ea872cedf99002109acc55e80 Closes-bug: #1539074",0.32831987738609314
1540,Add missing security context to Keystone pods/containers This updates the Keystone chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I655ef19a3c187e3462ff8ec1a54bc9691ca64d41,0.18535065650939941
1541,Update CentOS 7 update and security packages repo url Start from Fuel 80_ we are using CentOS 7 instead of CentOS 6 for host OS_ update repo url for this change Change-Id: I00e7c6fcc0e984f0a70ee3d6f592a996277e0c54 Closes-Bug: #1529564 (cherry picked from commit d848806e8d7def67762b7b14d7be18b28fdd2277),0.451223224401474
1542,fix NoneType for security groups Change-Id: I2df7205384138eb7a1cdb03bd76c8e833d0f983b,0.2763255834579468
1543,Indicate in that icmpv6 is a supported protocol type under neutron security group rules This is to address doc bug #1449756 (https://bugslaunchpadnet/openstack-manuals/+bug/1449756) Change-Id: Iba731ad4c8b40d2954293a58031e44d29e8e3777,0.2396840751171112
1544,Split out Neutron security group rules client Splitting out a security group rules client for Neutron Partially implements blueprint consistent-service-method-names # Change-Id: I2cd6bef13a16672bf0dbf6aeab0c60f0221e1a49,0.20242297649383545
1545,Update CentOS 7 update and security packages repo url Start from Fuel 80_ we are using CentOS 7 instead of CentOS 6 for host OS_ update repo url for this change Change-Id: I00e7c6fcc0e984f0a70ee3d6f592a996277e0c54 Closes-Bug: #1529564,0.4257277846336365
1546,Add security fixes to the release notes for 1201 There are two security fixes in the upcoming stable/liberty point release (1201) so we should document those in the release notes This shouldn't be merged until I11485f077d28f4e97529a691e55e3e3c0bea8872 is merged We don't use Depends-On here since we don't want to hold this up on the stable/kilo backport of that change Change-Id: Ib2235d6aee540d9010dc86c73aff71179d46e921 Related-Bug: #1516765 Related-Bug: #1524274,0.4727950692176819
1547,Corrected typo in fetch security groups comment Edited comment from returns image to security group Change-Id: Ia41c1bbaa7e3291eb010e7441f9f60dea03339e7 Closes-Issue:#1533181,0.34936439990997314
1548,[Ops Manager] Add configuring for security group Previously_ security group wasn't configured due to the fact that it is not required in Ops Manager settings But it caused an error during Ops Manager deployment This patch adds configuring fot security group field Change-Id: I44dfdae4cf2e351d7efb6e989f5a44f66a9db806 Closes-Bug: #1527630,0.34341269731521606
1549,Add security context template for promenade charts This changes adds security context template at pod level to set run as user value This also adds security context template at container level to set readOnly-fs flag Change-Id: Iba720e687218987cfefe7a9f08630fb11e8eac12,0.053013876080513
1550,[FIX] override security context capabilities in valuesyaml Add missing helm-toolkit snippet for ingress-errors container Change-Id: I9c7ec6b71a1d026257c2a1f76e18a3e3be8e244d,0.20720988512039185
1551,Skip security group tests without secgroup ext Closes-Bug: #1532796 Change-Id: I42d4e70aefb82141118c17b2ccb5d788765ecef5,0.20587056875228882
1552,Improve Security Guide chapter 6 Identity example Made example more succinct and Added cross reference to the Configuration Reference book for policyjson Change-Id: Ib09eea72a75a3b1841937b23c5951235028a458f Closes-bug: #1411515,0.22164778411388397
1553,Rename references to compute security group rules client The single network client is being split out into multiple clients_ one of which will be called SecurityGroupRulesClient This patch renames references to the compute security group rules client (security_group_rules_client changed to compute_security_group_rules_client) to avoid confusion or conflicts with the new neutron security groups client in code that will reference both the nova and neutron security group rules clients Partially implements blueprint consistent-service-method-names Change-Id: I25c89475df185f6a6397309ffb880f275c7c9e80,0.3349571228027344
1554,"Further improve output for ""os security group show"" Improve the security group rules output when running the ""os security group show"" command Empty and duplicate information for each security group rule is now removed This will ensure that the rules remain readable when direction and ethertype information is returned as part of the transition to neutron networking Change-Id: Ib49c27a9d7f4d5d38ceb2b0d785ddf94d88b2d89 Partial-Bug: #1519511 Related-To: blueprint neutron-client",0.2762433886528015
1555,nsx_v3: delete security group rule from backend first We should delete the security group rule from the backend first before the database so that we can ensure that it's actually removed from the backend Previously_ we could get into a sistuation where we'd delete it from the db but the delete to the backend would fail In this case the neutron db would be out of sync from what's actually in the backend Switching the order avoids this problem Change-Id: I9a4fc1ec0264e5d1ea298fcf07baa79fdec9a5ae (cherry picked from commit 383443134977c8553fab38caaa0b19baf625addf),0.23948533833026886
1556,nsx_v3: delete security group rule from backend first We should delete the security group rule from the backend first before the database so that we can ensure that it's actually removed from the backend Previously_ we could get into a sistuation where we'd delete it from the db but the delete to the backend would fail In this case the neutron db would be out of sync from what's actually in the backend Switching the order avoids this problem Change-Id: I9a4fc1ec0264e5d1ea298fcf07baa79fdec9a5ae,0.20469075441360474
1557,Add support to list all security group rules Both nova and neutron allow security group rules to be listed without specifying the owning security group This patch set makes the group argument on 'os security group rule list' optional Behavior is unchanged when the argument is specified When the argument is not specified then all accessible security group rules will be listed The listing will include the owning security group for each rule Change-Id: I6914baecf70a65354e1e82dad92c6afbd32b4973 Related-Bug: #1519512,0.2763317823410034
1558,"Functional tests for security group rule Add functional tests for the ""security group rule"" commands Change-Id: Ia03886e92632f37a3d2625df1c3fa7c2a536c564 Partial-Bug: #1519512 Related-to: blueprint neutron-client",0.2812550365924835
1559,Add security groups design blog post to documentation Change-Id: I28d533cd47e39b8582a45979221c9e56bb533732,0.25973665714263916
1560,"Improve output for ""os security group show"" Improve the security group rules output when running the ""os security group show"" command Each security group rule is now displayed on a separate line Current output example: $ openstack security group show default +-------------+-------------------------  ---+ | Field | Value  | +-------------+-------------------------  ---+ | description | Default security group  | | id | 048a5fc3-3be1-407d-ae47-9 | | name | default  | | project_id | 3b96bb2020c1459da76963f9e | | rules | [u""id='5d812367-9829-4340t""] | +-------------+-------------------------  ---+ New output example: +-------------+-------------------------  ---+ | Field | Value  | +-------------+-------------------------  ---+ | description | Default security group  | | id | 048a5fc3-3be1-407d-ae47-9 | | name | default  | | project_id | 3b96bb2020c1459da76963f9e | | rules | id='5d812367-9829-4340-95lt' | | | id='ee451d1c-ade3-4975-8elt' | +-------------+-------------------------  ---+ Change-Id: I1386075310896c58a2b776e2bbec3603bd00eff1 Partial-Bug: #1519511 Related-To: blueprint neutron-client",0.17209477722644806
1561,This cmd has only following two parameters_ but in the doc it seems three parameter [root@nsj1 ~]# nova help secgroup-create usage: nova secgroup-create <name> <description> Create a security group Positional arguments: <name> Name of security group <description> Description of security group [root@nsj1 ~]# So I reduce a parameter in nova secgroup-create cli cmd $ nova secgroup-create Group Name Description--->>I changed this line to : $ nova secgroup-create GroupName Description Change-Id: Ica8d8366debcfa4778563e67836a3d0c8c0dadc2,0.1355295032262802
1562,Clean security group code in plugin This cleans unneeded code in the plugin_ when security groups are added_ this code will need to be modified Change-Id: I0d027448c1645d0a9c27baf471082738c7e1a090,0.2406429797410965
1563,XenAPI: Support neutron security group This implementation is to give support on neutron security group with XenServer as compute driver When using openvswitch_ the ovs agent on compute node cannot execute some linux commands correctly due to xenserver driver lacking of such support Change-Id: I377f8ad51e1d2725c3e0153e64322055fcce7b54 Implements: blueprint xenserver-give-support-on-neutron-security-group,0.24794986844062805
1564,[arch-design] Consolidating security content Consolidate and reorganise security content from the current guide to the draft guide Change-Id: Icc8f997bfc6d3bb2560a2e7c7b29bbac48564bbf Implements: blueprint arch-guide-mitaka-reorg,0.3203709125518799
1565,Implement helm-toolkit snippet to Heat pods/containers This updates the heat chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I7ba17382059dfc23ab125a49b2b302166915c350,0.11243618279695511
1566,Add missing security context for Keystone rally tests Change-Id: I29a432f28a4d8dd57341152d60b34c5a391e872f,0.2075534164905548
1567,Implement helm-toolkit snippet to Horizon test pods/containers This updates the horizon chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I2ccd920fa26aca2955afef8b71d56e55d1ae26e8,0.12363694608211517
1568,Split out Neutron security groups client Splitting out a security groups client for Neutron Partially implements blueprint consistent-service-method-names Change-Id: I88a43f44346671de5dfb759d07c4086cffa8d4d9,0.2432783991098404
1569,Remove cretaed security group from shared resource To avoid issues like LP1512692 remove security group from shared resources Also add secutiry group cleanup to NovaNetworkScenarioTest Change-Id: I929f8edafd98bbb73eb399db1c9cfb131b904406 Closes-Bug: #1512692,0.1819017231464386
1570,Fixed the comments of port security group test Change-Id: Ice4b5e7766eea181ebfd8b33104a2b3ae5512542,0.3093181848526001
1571,Rename references to compute security groups client The single network client is being split out into multiple clients_ one of which will be called SecurityGroupsClient This patch renames references to the compute security groups client (security_groups_client changed to compute_security_groups_client) to avoid confusion or conflicts with the new neutron security groups client in code that will reference both the nova and neutron security groups clients Partially implements blueprint consistent-service-method-names Change-Id: Ic454de109e646b070d37f2976b723a6f1d184874,0.36269763112068176
1572,Remote security group name not displayed for rule The 'security group rule list' command was updated to display the remote security group name for a security group rule This was done via a new 'Remote Security Group' column The output of the 'security group rule create' and 'security group show' commands was also updated to include 'remote_security_group' information instead of the raw 'group' information returned from the API layer Change-Id: I5f9600338c8331966d2c658109a24b502c538106 Closes-Bug: #1520003,0.27367180585861206
1573,Fix update_port for security group change when remote_group involved When there are security group changes_ update_port doesn't work properly: if there are security rules with remote-group_ the acls related to other port of that remote-group not updated for the group membership change This patch fixes the problem Closes-bug: 1525360 Change-Id: I5cf13fcbbc12539d99d9cd034a595f231b96372c,0.30441170930862427
1574,Create unit tests to test v4 and v6 security group rules The branch for if classifier_type is modelIpv4Classifier was not covered by a unit test_ so a typo slipped through My bad Change-Id: Id1ec95d6131226ee8a0055e35f98c24b846499a4,0.16430020332336426
1575,Add source security group support to create rule The 'security group rule create' command was updated to support a source security group Now either a source IP address block or source security group can be specified when creating a rule The default remains the same Change-Id: If57de2871810caddeeaee96482eb34146968e173 Closes-Bug: #1522969,0.26506859064102173
1576,"Revert ""Improve security policy update rules with transactions"" This reverts commit a1c689b4182d36fc2936dd7d9781af32d369b39c Change-Id: Ib888bc0adc46d555e2e386747f46ef9483a3f18d",0.4179263710975647
1577,"Revert ""Improve security policy update rules with transactions"" This reverts commit a1c689b4182d36fc2936dd7d9781af32d369b39c Change-Id: Ib888bc0adc46d555e2e386747f46ef9483a3f18d",0.4179263710975647
1578,"Revert ""Improve security policy update rules with transactions"" This reverts commit 650d58064fa8fd692e4d3912ac7d6c7697e7d21e Change-Id: Id96378dbc86a2d76fd1f14197c21b2141a06620f",0.4197003245353699
1579,"Revert ""Improve security policy update rules with transactions"" This reverts commit 3ddc9e865ca63a96555dc731ea8a931e146fb79c Change-Id: I512067a33abaf61f7ff98b878adf6307724bfd44",0.41647371649742126
1580,Improve security policy update rules with transactions Use the policy 'rules' attribute instead of adding child rules This is expected to have better performance on the NSX side Change-Id: I213616a8b47f11adb1a897568746885f3e77078c,0.16617366671562195
1581,Improve security policy update rules with transactions Use the policy 'rules' attribute instead of adding child rules This is expected to have better performance on the NSX side Change-Id: I213616a8b47f11adb1a897568746885f3e77078c,0.16617366671562195
1582,Improve security policy update rules with transactions Use the policy 'rules' attribute instead of adding child rules This is expected to have better performance on the NSX side Change-Id: I213616a8b47f11adb1a897568746885f3e77078c,0.16617366671562195
1583,Add wait_until_realized for security policies Change-Id: I4ca75c8f419252ab14a4b510d0a47968c3ba16b9,0.22446951270103455
1584,[OVN] Fix db-sync-util Traceback when port security not enabled Change-Id: Id1ed2922a908148b2b271bd28cc974ef424530d5 Closes-Bug: #1882061 (cherry picked from commit 58d1d0dbddd3299537f67b0fdee906918fd4bb6f),0.3079797923564911
1585,Add wait_until_realized for security policies Change-Id: I4ca75c8f419252ab14a4b510d0a47968c3ba16b9,0.22446951270103455
1586,Add wait_until_realized for security policies Change-Id: I4ca75c8f419252ab14a4b510d0a47968c3ba16b9,0.22446951270103455
1587,Add security service to share networks This patch adds dynamic security service configuration when provided in the new manila-tempest-plugin dictopt With this patch the manila-tempest-plugin will be able to perform tests using real security services configurations provided by the administrator in a new config option called 'share_security_service' Change-Id: I544d415f51cd9fa9daae0010dd9d9c5d0dde516b Closes-Bug: #1699856,0.21282602846622467
1588,Add missing security context to Ranger pods/containers This updates the Ranger chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: Ic06caec81015ac04fb162d8c2482da6b2329e204,0.16669011116027832
1589,Implement helm-toolkit snippet to Barbican test pods/containers This updates the barbican chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: Ibb85435c1fa9fe577bc7a14d97e0acaf9b9513a2,0.08691812306642532
1590,Implement helm-toolkit snippet to Horizon pods/containers This updates the horizon chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I49ac688fa9cb73ddbc215198c74fae26f503cb51,0.13235409557819366
1591,Implement helm-toolkit snippet to Cinder pods/containers This updates the Cinder chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: If17af3e3dba188a43ed11a0d5757fcae9f5358e8,0.11597521603107452
1592,Add missing security context to Keystone pods/containers This updates the Keystone chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I2ac3a4efa6798e263de19f0db444f37c5236d121,0.18446633219718933
1593,Implement helm-toolkit snippet to Neutron pods/containers This updates the Nova chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I50ccec785eb3b18d6c00df2ad5f566a72db4604d,0.18751659989356995
1594,Implement helm-toolkit snippet to Nova pods/containers This updates the Nova chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I3ba6fcf0cc6ff97a306866f2d2b408635519ff02,0.14459696412086487
1595,Add missing security context to Ranger-Agent pods/containers This updates the ranger-agent chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I9fe5d96958805ae9634521604845411d904d8458,0.1871359646320343
1596,Add description of security group and rules Change-Id: I54883ca6352390447b6955fd3c4717f2335b2b71 Closes-Bug: #1275316,0.24644780158996582
1597,[WIP] Convert a ClassifierGroup to a Security Group Change-Id: Ib7d5d83b0c06ad326d100d55a506262dbfc520b3,0.21010464429855347
1598,Add Bandit to tox for security static analysis Bandit is a tool designed to find common security issues in Python code This change adds a bandit target to toxini The config file bandityaml is borrowed from [1] Run bandit: tox -e bandit [1] https://githubcom/openstack/bandit/blob/master/bandit/config/bandityaml Change-Id: I3bd64e1e58d4dc460ce869c50818e9913fe1b9b8,0.20959559082984924
1599,Docs: Classifier example for a Security Group Rule Change-Id: I33c5f0fb91fd22a85fe7feaa789f42b9fb33616d,0.16233700513839722
1600,Change security group type from uuid to int security group id is not uuid_ it's a int All the occurance of security-group are changed Partial-Bug: #1515222 Change-Id: Ia6ec855ac85442b1a369bac34f7680991145b5f9,0.310880184173584
1601,Refactor: Order of security group class names Per comment in [1]_ refactor the security group class names to be in alphabetical order [1] https://reviewopenstackorg/#/c/249223 Change-Id: If28a153cdab57c0659ff5c78b276766d4043467f,0.25616925954818726
1602,Doc: Add security group and security group rule Add missing command list documentation for the 'security group' and 'security group rule' commands In addition_ update the command description and argument help to fix minor issues and use consistent terminology Change-Id: I9f4a3fbac5637289f19511874e16391d3fe27132,0.27058085799217224
1603,Do not allow security group rule update Neutron does not allow security group rules to be updated This patch set removes the update support for security group rules Change-Id: I8748a7a274b3cbcbf4fc45598d8018ccaf95b082 Closes-Bug: #1464752,0.40259450674057007
1604,Add security context from snippet for tungstenfabric container Change-Id: I4db982e8f600288ec954d4c019f096bd8dcd7e52 Signed-off-by: Andrii Ostapenko <andriiostapenko@attcom>,0.20938123762607574
1605,Add missing security context to Sonobuoy pods/containers This updates the sonobuoy chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I0964c9809402635c9a7049b61fb954a4ebf01bb1,0.17533710598945618
1606,Add missing security context to elasticsearch pods/containers This updates the elasticsearch chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I8d1057f242b741fd297eca7475eb3bfb5e383f1c,0.21647785604000092
1607,BVS-4833_ add missig api from listening to security group updates Change-Id: Ifc29a2a3cddf346f7d6e76fe6acfc3459338b2e6,0.3514648675918579
1608,BVS-4833_ add missig api from listening to security group updates Change-Id: I9532fa321b0493f2601c69b981a58114acf9e843 (cherry picked from commit 0de63c9acdb558a23e18b19d4d86020cb027a3b2),0.37574678659439087
1609,BVS-4833_ add missig api from listening to security group updates Change-Id: I9532fa321b0493f2601c69b981a58114acf9e843 (cherry picked from commit 0de63c9acdb558a23e18b19d4d86020cb027a3b2),0.37574678659439087
1610,BVS-4833_ add missig api from listening to security group updates Change-Id: I9532fa321b0493f2601c69b981a58114acf9e843,0.3431547284126282
1611,[Kubernetes] Fix cAdvisor port was not added to security group Change-Id: I0dd421b918c4bf7c85e9e75404f3876f9328c310 Closes-Bug: #1498879 (cherry picked from commit d8c5139b8af4107cf15c3330bcae8dcb18d6397a),0.3362797498703003
1612,Make libvirt migration security configurable Adding flags to choose between tls/tcp connections as well as sasl/none authentication when configuring libvirt migration This allows to deploy proper libvirt security in combination with the nova::compute class Change-Id: Ib479a1f4cd2df0d55347ed71fb8f0ab69aaeceef (cherry picked from commit 1383cee7d46c5c6b6c83bed194822c846b10782d),0.1507117599248886
1613,Refactor libvirt migration to be configurable Adding flags to choose between tls/tcp connections as well as sasl/none authentication when configuring libvirt migration This allows to deploy proper libvirt security in combination with the nova::compute class Change-Id: Ib479a1f4cd2df0d55347ed71fb8f0ab69aaeceef,0.13498961925506592
1614,Adding Security Checklist Adding separate section on Neutron checklists Added bunch of checks on how to harden configuration files and set certain configuration keys for secured communication Change-Id: I8a336d57ee38d47d2b24f276a023dd16e109efd9,0.35821104049682617
1615,Add team:diverse-affiliation to Security and OSC Security now has a diverse affiliation: Security (4835% | 2757% | 3007% | 2632%) (5888% | 5391% | 5591% | 4211%) ( 17 | 15) OpenStack Client now has diverse affiliation too: OpenStack client (3526% | 3520% | 4306% | 4545%) (6553% | 6396% | 7126% | 7273%) ( 9 | 8) Change-Id: I531e0ebaaae9e2dfb7bd78f0590612b12433b362,0.20613351464271545
1616,minor change to shared file sys security services file corrected a typo associated Change-Id: Ic190a0afe760734ca51ea2a687b5d0a24d5e1e4f,0.2982167601585388
1617,Add test for security error with no message A test is added that shows that when no message is given to a SecurityError the resulting string is the same whether debug is enabled or not_ it's just got some extra text that says that disabling debug will change the message when it won't Change-Id: I40c899e48205e27e46a9af709fe94ef92492e0c0 Partial-Bug: 1496530,0.18979200720787048
1618,Adding Security Checklist Adding separate section on Horizon checklists Added bunch of checks on how to harden configuration files and set certain configuration keys for secured communication Change-Id: I67e8eca6acd8f3263ddc7a8f4a730a3bf271ff06 Partial-Bug: #1342993,0.3636029362678528
1619,Adding security pulse testcases Change-Id: I55597ec84868d1263b0db934802b1c70ad7b9374,0.25110501050949097
1620,Added security test cases for password encryption check Change-Id: I569d3a153a66d348e7931f8787a55a9edc0aebdd,0.26616352796554565
1621,Added security test cases for log files Change-Id: I07e547a4c2d6af7a3eb4f489cbab11dc89eadc94,0.21757569909095764
1622,"Continuous systems management in Security Guide In References section The ""OpenStack Security Primer"" has a link where the music piracy blog doesn't exist The owner took it down So this fix is to remove the reference to it Change-Id: I206c249af1bc27732dd07489ccb8d687fe3343b7 Closes-bug: #1510806",0.31461578607559204
1623,Fixes IPv6 Security Group rules with 128 prefix length Hyper-V cannot add Extended ACLs which have /128 IPv6 IP addresses in the RemoteIPAddress field Removes the /128 length from the remote_address field Change-Id: I9581740b7af58116e40cd094a813170b46de1623 Closes-Bug: #1505578 (cherry picked from commit 00773fc26e7bae9ac9440a530e37bd88b86a3791),0.26930150389671326
1624,Fixes IPv6 Security Group rules with 128 prefix length Hyper-V cannot add Extended ACLs which have /128 IPv6 IP addresses in the RemoteIPAddress field Removes the /128 length from the remote_address field Change-Id: I9581740b7af58116e40cd094a813170b46de1623 Closes-Bug: #1505578,0.22697508335113525
1625,WIP: Added Security Guide for the Shared File Systems service Added a security guide for Shared File Systems service Change-Id: I99eee1ac641a31bf39d2f9fd8669e2002d146697 Closes-Bug: #1503334,0.27138200402259827
1626,Disable security for Oozie in Ambari Temporary disable security for Oozie in Ambari plugin That returned again when Sahara Oozie client will be able to authenticate Change-Id: I661e2cf55243c661103c807e5fba7ad74978f215,0.1698041558265686
1627,Add missing security context to ceph-rgw test pods/containers This updates the ceph-rgw chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I1b78b7a0fc413acdb5ea2dc295a0026616d7cac1,0.19234955310821533
1628,Add missing security context to promethues and postgresql pods/containers This updates the chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: Icb7a9de4d98bac1f0bcf6181b6e88695f4b09709,0.2332274615764618
1629,[arch-design] Convert Legal and Security to RST Change-Id: Iefb86a87bd939c894bd31af34e8cc750214d58c1 Implements: blueprint archguide-mitaka-rst,0.2551131248474121
1630,Set security group provider rule for icmpv6 RA in DVR Security group provider rules for RA is set for the VM ports when a router interface is added or updated after the VM instance is created In the case of DVR Routers the security group provider rule to allow the RA packets to flow through the VM port input chain was missing and so the VM was not able to get a SLAAC/DHCP address when associated with a DVR Router This fix will add the security group rule to the VM port input chain to allow the RA packets to flow into the VM and hence the VM will obtain an IP address assigned by the Router Closes-Bug: #1501969 Conflicts: neutron/db/securitygroups_rpc_basepy Change-Id: Ib0b3499d9c880fe1462734b2d4092debf4819509,0.20176741480827332
1631,Add help text for IPv6 security roles Implementation is already there_ it still missed an example or help text Change-Id: I468d5408869c7396a3ac4f0288d6d4684089cc7a,0.236331045627594
1632,Set security group provider rule for icmpv6 RA in DVR Security group provider rules for RA is set for the VM ports when a router interface is added or updated after the VM instance is created In the case of DVR Routers the security group provider rule to allow the RA packets to flow through the VM port input chain was missing and so the VM was not able to get a SLAAC/DHCP address when associated with a DVR Router This fix will add the security group rule to the VM port input chain to allow the RA packets to flow into the VM and hence the VM will obtain an IP address assigned by the Router Closes-Bug: #1501969 Change-Id: Ib0b3499d9c880fe1462734b2d4092debf4819509 (cherry picked from commit a7dc528c1860f6a325a36bb7c633c60b635fc9a6),0.18676912784576416
1633,Fix paths to updates and security repositories According to a new scheme of repos Change-Id: I1b78a50603cfbb0d2f7b4aba455e31aa861aedd9 Related-Bug: #1482710,0.6258091926574707
1634,Add Neutron Security Groups scenarios This patch adds the following scenarios: * Create and list Neutron security groups * Create and delete Neutron security groups * Create and update Neutron security groups Change-Id: Icd452f92a2be645354eb8f2f9c61ad57328f1863,0.37790754437446594
1635,expand security groups in get_hostvars_from_server Add a call to `list_server_security_groups` to `metaget_hostvars_from_server This replaces the minimal list of security group names with detailed information that includes security group ids Change-Id: I5a01b37efd5520205c6ce94f0fdc4c09f75053c2,0.17851555347442627
1636,Change in Configure access security for instances Updated key description Change-Id: Ia6f59f663bffa79d9c6b14bbf5b23d0d04dcd148 Closes-Bug:#1506985,0.3024522066116333
1637,Set security group provider rule for icmpv6 RA in DVR Security group provider rules for RA is set for the VM ports when a router interface is added or updated after the VM instance is created In the case of DVR Routers the security group provider rule to allow the RA packets to flow through the VM port input chain was missing and so the VM was not able to get a SLAAC/DHCP address when associated with a DVR Router This fix will add the security group rule to the VM port input chain to allow the RA packets to flow into the VM and hence the VM will obtain an IP address assigned by the Router Closes-Bug: #1501969 Change-Id: Ib0b3499d9c880fe1462734b2d4092debf4819509,0.17769920825958252
1638,Caches Security Group Rule ACLs In order to avoid querying for the mentioned WMI objects_ adds a cache for them_ verifying the existence of the Security Group Rules using the cache instead Partial-Bug: #1505196 Change-Id: I63d5984f3f9343e32e065f219567c4a821eb997b,0.1126808151602745
1639,wip: security group support This patch implements Neutron security groups by creating the appropriate ACLs in the OVN_Northbound database It's currently a WIP because it depends on code not yet merged into OVN_ and it still needs more testing Change-Id: I71d59dcab3f8b52adb734308df7ac97e2fa0d1b4,0.36865636706352234
1640,Never run Flask in debug mode_ it poses a security risk Change-Id: I0c0c192bc75f42cfb070059f1764a0837ae956bb Closes-Bug: #1506419,0.1664961576461792
1641,V-3851{1_2_3}: IPv4 security controls Mainly a documentation commit with one special case and two exceptions Change-Id: Ib9607f6df8aaed63b494a7f87af33cb7d3117f1d,0.38080593943595886
1642,Add test for intra security group isolation Default security group may not allow packets packets that originate from peers of the same security group (aka intra-sg) This new test ensures that even in such cases_ servers are able to obtain an address via dhcp Depends-On: https://reviewopendevorg/#/c/733033 Related-Bug: #1881316 Change-Id: Iceb2abf908fa3c7bb59dec2c0400c8b2ba6fc1a8 Signed-off-by: Flavio Fernandes <flaviof@redhatcom>,0.256197988986969
1643,Avoids rebinding the same security group rules Previously_ logic has been introduced to ensure that all the given security group rules have been applied No need to force the rebinding after the agent restarts Partial-Bug: #1505196 Change-Id: I355629ddb78441eaf2aadfd27efc6dd1f1ce4de9,0.155093252658844
1644,Move security group setting to kubeclusteryaml Currently security group is created for each kube masters and kube minions It's very redundant This patch moves security group setting to kubeclusteryaml to share Change-Id: Idb6cdb5c5c6015b29331238f7fbbcd92e1a70d83 Closes-Bug: #1499184,0.26962000131607056
1645,TEST #2 for fuel security updates Change-Id: I13d085decc6f014834426ed3d7b0a699bca71927,0.3228665888309479
1646,[Kubernetes] Fix cAdvisor port was not added to security group Change-Id: I0dd421b918c4bf7c85e9e75404f3876f9328c310 Closes-Bug: #1498879,0.29463085532188416
1647,[Kubernetes] Fix cAdvisor port was not added to security group Change-Id: Ib0d72e4406511534defbd77028d8db15de53ec4a Closes-Bug: #1498879,0.2886854410171509
1648,Adding security groups error types constants Change-Id: I148958e6be952e69684565dc6e8a81d58886c534,0.28425318002700806
1649,Minor update on security group tests - Updating neutron error types Change-Id: Ie4ba7b3a22b3f078f93e8defa9595e0a0e3a4ea6,0.43088987469673157
1650,Added IPv6 support to Security Groups in OVS DPDK firewall Added support for IPv6 to the SG OVS DPDK firewall and UTs testing the new functionality Change-Id: I49de465c0e198b73dbd0d5bec33a8634aa33c23e,0.25041911005973816
1651,Implementation of Security Groups in OVS DPDK driver This implementation is based on OVS learn actions Each new rule manually added to a security group (ingress or egress) will create a mirror action to allow this traffic (and only this one) to return Notes: - Not IPv6 manual rules support yet Change-Id: Ie21c41b3a72e22d23f09bd224b31ba9a16612719,0.20004722476005554
1652,Honor until_refresh config when creating default security group The logic to ensure that a project has a default security group created for it also creates an entry in the quota_usages table to track the usage of that security group When it does that it sets until_refresh to None rather than using the value of CONFuntil_refresh like every other quota_usages entry does This means that tracked security group usages are at risk of getting out of sync with the actual usages and bypass the healing mechanism that other quotas use This changes the security group quota creation to honor until_refresh Change-Id: I834cd09d42ed10ab7d5671c053162be2b1595f8e Closes-bug: 1503027,0.2263149470090866
1653,Assures that security group rules are added first Closes-Bug: #1503615 Change-Id: I68317c4169aad017e68a284d8b43ee218dcbb88f (cherry picked from commit 2a38d83d6faa9628333c3b171c0dbe5e4f53c970),0.2873217463493347
1654,Assures that security group rules are added first Change-Id: I68317c4169aad017e68a284d8b43ee218dcbb88f,0.17422859370708466
1655,nsx v3 port security support this patch adds the port security and address pairs extensions to the nsx v3 plugin the patch also includes the core neutron unit tests for those extensions NB: I did a good bit of manual testing with this code and didn't find any problems however I'm not fully vested on all the other impl details so would be good to get some burn-in on this code by others Change-Id: Iaca19428515a25ac6cf433c65cc81968e3175768,0.2840612232685089
1656,Initial security documentation This documentation explains the security measures which are already in place in all openstack-ansible deployments As the security-hardening role grows_ this section will have additional details around the security improvements within the openstack-ansible project Implements: blueprint security-hardening Closes-Bug: 1500564 Change-Id: Ia95bad57ba4a096f8fe85049421e58e4412b524a (cherry picked from commit 4177548409d52ca98938bdf73e9fc3a28ca1b66b),0.30260658264160156
1657,Update indexes after adding security repo in MapR plugin The root cause of the bug is that repo with necessary package exists but indexes are not updated so the package is not available Closes-Bug: #1498479 Change-Id: I38a0291e391057d8111ea304e4d00ad0c194e2e2,0.41302740573883057
1658,Initial security documentation This documentation explains the security measures which are already in place in all openstack-ansible deployments As the security-hardening role grows_ this section will have additional details around the security improvements within the openstack-ansible project Change-Id: Ia95bad57ba4a096f8fe85049421e58e4412b524a,0.3200812339782715
1659,Adding Security Checklist Adding separate section on Block Storage checklists Added bunch of checks on how to harden configuration files and set certain configuration keys for secured communication Change-Id: I7d48b36aa2b1b59729ff09c96aa52afc5eac2cbe Partial-Bug: #1342993,0.3406977653503418
1660,Add user story security and policy enforcement for enterprise IT This is initial draft Change-Id: I7c692b3e3562c92fbb3818d825f37bbb0e292f8e,0.2037825584411621
1661,"Use security group id not name in the create instance dialog It's possible to create multiple security groups with the same name_ and then launching an instance will error with ""Error: Multiple security_group matches found for name 'foo'_ use an ID to be more specific"" The solution is to use the group id instead of group name in the form This only works with Neutron_ because Nova-Network not only requires the groups to be passed by name_ but also passes them by name internally in several places Change-Id: I83587e15a8c18d64a29fd1083e786a73162b19f9 Partial-bug: #1203413 (cherry picked from commit 5562694b7c81821820a846dd76471f66d8a47c12)",0.1839708387851715
1662,Add security to libvirtd Allow libvirt to be accessed only from management network Change-Id: I9d20b77ee4233469077f37e8b497f0dba5587fdd Closes-Bug: 1477543,0.17561373114585876
1663,"Use security group id not name in the create instance dialog It's possible to create multiple security groups with the same name_ and then launching an instance will error with ""Error: Multiple security_group matches found for name 'foo'_ use an ID to be more specific"" The solution is to use the group id instead of group name in the form I'm not sure how compatible this change is with Neutron/Nova-network_ as the discussions on bug #1445235 and bug #1203413 are old Change-Id: I83587e15a8c18d64a29fd1083e786a73162b19f9 Closes-bug: #1203413",0.20305410027503967
1664,Adding Security Checklist Adding seperate section on Compute checklists Added bunch of checklist on how to harden configuration files and set certain configuration keys for secured communication Change-Id: I726060a45a1a2af084a0ef284e88da6486bff758 Partial-Bug: #1342993,0.34466683864593506
1665,Use random IPs in security service tests This patch changes the creation of security services in Manila tempest to use randomized IP addresses instead of name-like strings for both the 'dns_ip' and 'server' fields The use of a name-like string for the dns_ip field does not make sense from a positive test perspective The server field is more ambiguous in whether it should take an IP or a hostname_ but since nearly anything that can take a hostname can also accept an IP_ but not necessarily the reverse (eg the NetApp drivers are expecting an IP)_ then it makes more sense to use an IP here as well to cater to a broader audience The rand_ip() method is not in an ideal location My preference would be to push for this method to make it into the tempest_libcommonutilsdata_utils package along with all the other rand_whatever() methods However_ until that can be submitted_ accepted_ and released_ it will need to live inside the manila tests temporarily Closes-bug: 1500899 Change-Id: I7dbeb9407e056266cc7a61722365f70ab668a525,0.14303754270076752
1666,populate port security default into network Previously_ the default value would be populated into attr by API controller_ but some codes in plugin or service plugins call plugin to create network directly_ such as l3_ which will have no default value populated This patch fixes it by populating default port_security value into network data In addition_ for network without port-security set_ we also give the default value to populate the return network dict object_ which will let the extension construct the response dictionary gracefully for those existing network Co-Authored-By: gong yong sheng <gongyongsheng@99cloudnet> Change-Id: I73abc98d83372f6259f17680806e6541458e2077 Closes-bug: #1461519 Closes-Bug: #1461647 Closes-Bug: #1468588 (cherry picked from commit f4e1289d8d381b775f7a6e5f98c507a99fd42b54),0.2120225429534912
1667,Fixes Neutron security groups for Swarm Bay type Previously_ the security group rules were blocking all traffic except ssh_ icmp and swarm-manager traffic This causes container traffic to be blocked This patch opens up the security rules until a better solution can be developed to secure Magnum nodes while allowing containers to communicate freely Closes-bug: #1501038 Change-Id: Idc20201b7e1928101629fc6231fd8a9c9070ba33,0.33324119448661804
1668,[OVN] Fix db-sync-util Traceback when port security not enabled Change-Id: Id1ed2922a908148b2b271bd28cc974ef424530d5 Closes-Bug: #1882061,0.27509844303131104
1669,Add pod/container security context to promenade charts This updates the coredns_ haproxy and etcd chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag Change-Id: I9b5b0ea83acd4c5656577d8cbc684a5031ca0111,0.1365206241607666
1670,Apply mandatory pod security policies during upgrade Ansible applies mandatory pod security policies_ which are not applied during an upgrade This commit adds a migration script to apply the pod security policy file applied by ansible during bootstrap Closes-bug: 1885178 Change-Id: Icfbfa2f49d9657b43e903b1f22c81e3cf6a8a9f6 Signed-off-by: Jerry Sun <jerrysun@windrivercom>,0.2849733829498291
1671,Adding Cody to security hardening spec Change-Id: Icc8c89343b5b47434b5ad176669f083665f67c25,0.387550950050354
1672,Add SSH security issue to relnotes 70 Change-Id: Ic3828ffa289052ce9f6a566722fb1fe9179cbd10,0.328622430562973
1673,Adding security hardening spec Change-Id: I7b4bdf39df9508cd8693c9548f432a88fefa8c08,0.404154896736145
1674,Fix Security bridge flows were not added issue Security bridge flows were not added after openvswitch restart because of the KeyError Fixed the KeyError issue in this patchset Change-Id: Ic83532797c691f0192a0eda69647c4529555d5b7,0.28089985251426697
1675,Implemented an enhanced Security Group RPC of OVSvApp security_group_rules_for_devices RPC brings in huge payload_ which is having adverse impacts on Rabbitmq message bus leading to message Timeouts It also uses lot of server processing time New RPC delegates the processing back to agents and helps decrease the load on the message bus This will help in draining the RPC queue at a faster rate Change-Id: I1080638fa3ffc0739786b942d772fb9f351d6f46 Co-Authored-By: Sudhakar Babu Gariganti <sudhakar-babugariganti@hpcom>,0.0861668735742569
1676,Fix quota usage tracker for security group rules This simple patch ensures usage for security group rules is marked as dirty when a security group rule is deleted To this aim_ the security group rule is deleted using ORM in order to ensure the sqlalchemy even if fired Closes-Bug: #1499339 Change-Id: I1e81fe03fed14ec438cea5d7675f66caeb91afd8 (cherry picked from commit 851b1b4bbbaa965f190bfacab03fd6ece80ad0ec),0.2908785939216614
1677,Fix quota usage tracker for security group rules This simple patch ensures usage for security group rules is marked as dirty when a security group rule is deleted To this aim_ the security group rule is deleted using ORM in order to ensure the sqlalchemy even if fired Closes-Bug: #1499339 Change-Id: I1e81fe03fed14ec438cea5d7675f66caeb91afd8,0.26799508929252625
1678,Blueprint for Websockify security proxy framework This blueprint proposes a generic framework for supporting man-in-the-middle authentication and encryption between Websockify and the hypervisor graphics servers It also proposes a reference driver for that framework for TLS security Spec for blueprint websocket-proxy-to-host-security Change-Id: Iffaa57bfff24af4b0b133dc159eaaaa5ddd013e3 Previously-approved: juno_ kilo,0.20030371844768524
1679,nsx v3 port security plumbing this patch includes some plumbing for the nsx v3 port security port which will come in subsequent patches in particular this patch refactors the nsx v3 nsxlib rest client and adds a rest resource for nsx v3 switching profiles which will be leveraged in port security implementation unit tests included Change-Id: I210c8cc495bf30c798445c20f9604689fea37521,0.2151266187429428
1680,Update Links in Management interfaces in Security Guide In the Management Interfaces section of the Security Guide_ the two links under Management Utilities that redirect to the User Guide do not correctly go to the sections that are referenced in the Security Guide This fix is to update the links to point to the Command Line Client Overview and the Download and Source the OpenStack RC file section Change-Id: I30a9cbafe5c6c5890401156995dc84c4a1c2f946 Closes-Bug: #1490047,0.3843035101890564
1681,Delete security group bindings on port delete Delete the security group bindings from neutron DB and the backend during port deletion Change-Id: I69be01ad6c1fce6f732de4af2cfe11a77c1db7db,0.22311381995677948
1682,Add a simple test for port security vs security group Change-Id: Ib12b996a95ad792ff33170095b20cadfd30b7dd2,0.17979572713375092
1683,add missing api for listening to security group update Change-Id: I701c8d28594011a9a1b4e5ddee4b4f26286a6443,0.3581460118293762
1684,add missig api from listening to security group updates Change-Id: I639d4c0740fc283c599a19052517caef48116d64,0.28954294323921204
1685,"Add ""update security group"" to Compute v2 and Networking v2 Change-Id: I4ff45c7a998b1c0048e23e058f4ce15a3136287b Closes-Bug: #1463131",0.30519524216651917
1686,"There's an grammar error in section ""Compartmentalize"" of Compliance overview in Security Guide In section ""Compartmentalize"" of this URL_ there's the following description: ""Systems should be segregated in a such way that if one machine_"" ""in a such way"" is not right_ it should be ""in such a way"" The suggested description is as following: ""Systems should be segregated in such a way that if one machine_"" Closes-bug : #1491041 Change-Id: I0e531ec59efcd5223e7eb0758f43d512b798f6a1",0.22034814953804016
1687,update the release tags for security deliverables Change-Id: I34d0103d36635974df8a83899b255d23861b2a2e,0.5720779895782471
1688,Support address groups in security group rules This specification describes how to support address groups in security group rules Change-Id: Ib58afde9ed58092ffbc94f7d522d5f5d034b832b Related-Bug: #1592028,0.23160246014595032
1689,Allow user to unset security service params It is impossible to unset some value from security service if it was set Allow user to set security service params (dns_ip_ server_ domain_ user_ password_ name_ description) to empty value Closes-bug: #1446696 Change-Id: Ifea8f49b2007358565686f90a5d56476c4913c86,0.18406474590301514
1690,Add unit tests for security group default rules This patch adds unit tests for security_group_default_rules_client module Change-Id: I107b8e8c256fab258c830c4fc06dc114b135d812,0.26989075541496277
1691,fix: add requests security extras - This will allow urllib3 to configure SSL use appropriately_ thereby making requests use them Change-Id: I65246ca249ad11c3d4047c5ef2591978c8f48d0e,0.1470748782157898
1692,Filter out IPv6 CIDR when generate auto-security group rule Heat infra-engine uses AWS::EC2::SecurityGroup But AWS::EC2::SecurityGroup doesn't support IPv6 If private network has IPv6 subnet_ cluster launch is always failed This patch is filtering out IPv6 subnet CIDR to generate security group rule Change-Id: I04e4aacdd843d3efa388f9527efec2e141eabbbb Closes-Bug: #1488452,0.20087134838104248
1693,Add Security group id's to port Adds and writes the port's security group id's in the NB DB Change-Id: Ic046d79b25b2bd2b07a11d94fd184813e43decfd,0.1447886824607849
1694,Add Security group rule create/delete to plugin Add security group create/delete functionality to plugin and to NB DB Change-Id: I3b666659ca6a068a23e18202b95ae3853acd950c,0.08531996607780457
1695,Wording for Security Groups is incorrect The wording on the Security Groups tab for the Edit Instance window is wrong This patch Correcting it Current string: 'Add and remove security groups to this project ' New string : 'Add and remove security groups to this instance ' Change-Id: I76d3afb9174d1428a01dacdc3770a9ebac8f5ce8 Closes-Bug: #1493252,0.3221265971660614
1696,Fix problem with using auto security groups in Heat Change-Id: I95744f71770486ea2ccdc20db456702d53ae5c42 Closes-bug: #1477530,0.2549191415309906
1697,devstackgaterc: Run some security group tests I think that this subset of security group tests are fine to run They should only require the API to manage security groups_ which should be working Change-Id: I3f7737e9d3803c8813ee0d4d9271248743ecaf1e Signed-off-by: Russell Bryant <rbryant@redhatcom>,0.2509336769580841
1698,Test for Tempurl Security Bug * Test related to tempurl security bug https://bugslaunchpadnet/swift/+bug/1453948 Change-Id: I91cce3b8d84d2d0870ff65d707c64b5177d88afa,0.23607224225997925
1699,Adding Security Groups Quota Tests - Adding security rules per group quota test - Adding security groups per tenant quota test - Adding security rules per tenant quota test Change-Id: I976f3c733cbf02be1f3be7ad85f2e0336a5e8e2b,0.2069106251001358
1700,Corrected security group documentation Replaced outdated security group documentation with reference to current reference documentation on security groups and default behavior Change-Id: I6075841d30621e0c7fc8164516cff4fc8c4a2068 Closes-Bug: #1462137,0.3883787989616394
1701,"Revert ""Make nova-network use conductor for security groups refresh"" This change reverts commit b1838c258df2465756e551fdb879b1d4a748cb2b This makes network manager go back to issuing security group refresh calls directly instead of going through conductor now that the compute api call is converted to objects Related to blueprint liberty-objects Change-Id: I74e002384b11063e30450e3854a95b6b848ddfb6",0.34094685316085815
1702,Add system tests for security scans Test types: * Fuel master Credentialed Patch Audit * Fuel master Advanced Web Services tests * Ubuntu controller Credentialed Patch Audit Change-Id: I953b8bfb989becc264a9d6be3f66cf9d60f8842f,0.25673097372055054
1703,Fix typo in public security domain section Change-Id: I9a2096333089b9714c0f8a688fbe30b4371b40c0 Implements: blueprint arch-guide,0.42653417587280273
1704,Add default sorting to the Security Groups table The Security Groups table (Project > Access & Security) is initially ordered by the group's uuid string which makes the table appear to be randomly sorted This patch adds a default sorting by the groups' ``name`` attributes Change-Id: Ica2831e043e2e7fec8129df4feee93f6c8be3462 Closes-Bug: #1484514,0.21639379858970642
1705,remove wide egress rules from PRS security groups In order to avoind unwanted outgoing traffic_ this patch completely eliminates the 'egress to ALL' rules we have and replaces them with the correct set of rules filtered by the providers/consumers' cidrs Change-Id: I7c46723b1354553663eaa51e7b2fd52fcdf6b096 Closes-bug: 1479169,0.2588902711868286
1706,remove wide egress rules from PRS security groups In order to avoind unwanted outgoing traffic_ this patch completely eliminates the 'egress to ALL' rules we have and replaces them with the correct set of rules filtered by the providers/consumers' cidrs Change-Id: I7c46723b1354553663eaa51e7b2fd52fcdf6b096 Closes-bug: 1479169,0.2588902711868286
1707,Architecture Design Guide - Security Content Adding security content to the legal and security requirements chapter_ reducing duplication Adjusting some sentences for clarity Change-Id: Id44e263dcfd8a926659d2766d62319aa3dff6c1d Implements: blueprint arch-guide,0.224511057138443
1708,networking-tricircle core plugin and security group Initial implementation include option to use ML2 but it seem that it will be better to use a core plugin (more control) over the process This just includes the Neutron side plugin It replaces the ML2 plugin with one that doesn't do any actual network changes_ instead only forwards it to the Cascade Service Change-Id: Ic63e7a3d0a1b171d43aff535b65c949e9e51ff4f,0.14953485131263733
1709,Fix paths to updates and security repositories According to a new scheme of repos Change-Id: I1b78a50603cfbb0d2f7b4aba455e31aa861aedd9 Related-Bug: #1482710,0.6258091926574707
1710,Prevent writing security repos twice in MapR plugin Registration of precise and lucid security repos moved to separate bash script which is executed only in case of non-prebuilt images Prebuilt images already contains this repos Change-Id: I9151e1213b0fa75e4c7e8e16839d269d38a3adce Closes-Bug: #1482237,0.2764133810997009
1711,Point to Japanese RST Security Guide Now that the Japanese Security Guide has been converted to RST and published_ update links to it Change-Id: Id629285da330fe93a6d818499df8419ccb7f04c9,0.292436420917511
1712,Update Security Guide Links Redirect old contents to new indexhtml since most pages have different names Update links to Guide Remove links to PDF since we do not publish a PDF file Change-Id: I32de4f11c42be0d8c1abc4baac0fd73f028a40c2,0.24437075853347778
1713,Adding bandit for security static analysis testing in swift This change adds a basic bandit config for Swift It can be invoked by running the tox environment for bandit; tox -e bandit This is an initial step for using bandit with Swift and it should be revisited to improve the testing as more is learned about the specific needs of the Swift code base Tox is configured to only show results for high severity results https://wikiopenstackorg/wiki/Security/Projects/Bandit Partially implements: swift-bandit Change-Id: I621be9a68ae9311f3a6eadd1636b05e646260cf2,0.16483578085899353
1714,Publish Japanese Security Guide The Japanese Guide is ready for publishing Change-Id: I6b0e504038f69a842cb22f8a45220d8974a5b1a4,0.27793294191360474
1715,Networking services in OpenStack Security Guide - Rewrite for clarity Rewrite some sections of the Network services page for clarity Fixes bug #1447759 Change-Id: I4720c03b035062d89e18a0921e2d0eed49a0e06f,0.29839491844177246
1716,Fix paths to updates and security repositories According to a new scheme of repos Closes-Bug: #1482710 Change-Id: Ibf16be5c9f031f8c1b746933315d7747649d08ab,0.5798795223236084
1717,Adds a security test to check for Command Injection vulnerabilities This is a security test to verify whether the create service API is vulnerable to Command Injection Some common injection strings are supplied to all fields of the JSON input to see if the API invocation succeeds If so_ this indicates a vulnerability Change-Id: Iefc807db9e9f887c6cb0fc5f7076254e4a0c161f Implements: blueprint command-injection-vulnerability,0.19354872405529022
1718,Added basic security groups functional test for OVSvApp -part4 1test_flows_consistent_across_ovsvapp_in_cluster Change-Id: I1a130362b79a06450ad49ba20c31a7e3acca1e28 Co-Authored-By: Ashish Kumar Gupta <ashish-kumargupta@hpcom>,0.2014685571193695
1719,Add conntrack-tool to manage security group this patch introduce conntrack-tool to manage security group when a security group rule is deleted_ it should use conntrack-tool to delete the invalid ip connectivity Partially-Implements: bp conntrack-in-security-group Change-Id: Ibfd2d6a11aa970ea9e5009f4c4b858544d8b7463,0.21424871683120728
1720,Add Japanese RST Security Guide to draft Reference new draft translation Change-Id: Ie2444f81f785f88cfbba0b10931c6232cf9d1a92,0.24679981172084808
1721,Build Japanese RST Security Guide Build and publish as draft the Japanese RST Security Guide This sets up the infrastructure for building It can merge once we have a Japanese translation file imported from security-guide-rst/source/locale/ja/LC_MESSAGES/security-guide-rstpo Change-Id: I7075f020a8b48cdebfb579568de528fd10343bbe,0.202851802110672
1722,Add section for security group with neutron Add new section in Operation-Guide that explain the security group settings using neutron command Change-Id: Ide7a85db6dba1f60519bd7a4c3ef2eff801ade4b Closes-Bug: #1408912,0.2489515095949173
1723,Add bandit for security static analysis testing This change adds a basic bandit config for Cinder It can be invoked by running the tox environment for bandit; tox -e bandit This is intended as a starting point for using bandit with Cinder and it should be revisited to improve the testing as more is learned about the specific needs of the Cinder code base Change-Id: I0247e0ccaed6faacacb2b8d2f8b141a8edc704af,0.1553386002779007
1724,"Fix response params of Security groups and rules The following ""Response parameters"" tables of ""Security groups and rules (security-groups)"" have a wrong parameter name - Create security group (""security_groups"" should be ""security_group"") - Show security group (""security_groups"" should be ""security_group"") - Show security group rule (""security_groups_rules"" should be ""security_group_rule"") Change-Id: I988c20e68b2f926a02ce7f21099adb83a9c13527 Closes-Bug: #1477443",0.28736454248428345
1725,"Delete an entry from ""List security group rules"" table ""Response parameters"" table of ""List security group rules"" has an unnecessary entry There are two ""tenant_id"" entries in the table The latter is the unnecessary one as ""tenant_id"" in a response parameter is the ID of the tenant who owns the security group rule Change-Id: I98300d7af66f5085e7360b2fab3ee260440ac73d Closes-Bug: #1477397",0.1854417771100998
1726,Add security to libvirtd * Allow libvirt to be accessed only from management network * Add new define for managing rules with multiple sources Change-Id: Ied16d8892e0c091491cc33298626c18aae8e4125 Closes-Bug: 1477543,0.13622577488422394
1727,Fix description of security group API If a client doesn't specify it_ Nova returns a HTTP400(BadRequest) response to the client because of http://gitopenstackorg/cgit/openstack/nova/tree/nova/compute/apipy#n3853 So the parameter description of security group API is required now Change-Id: I9c9b66f35f267e4b99b8a294ebc23997b25ea920,0.2927513122558594
1728,Add conflict(409) error code to Delete security group Change-Id: Ie8e016facaf2d039ef3a6863e301ef74f4b2e298 Closes-bug: #1477934,0.27056702971458435
1729,Fixes to security group Compute API docs Change-Id: Id603618d127fc4d15f5b6e24aaa1a3ea702fc231 Closes-bug: 1479012,0.3857702612876892
1730,"Note that we'll use ""allow-related"" for security groups The security group docs said that we'd use the ""allow"" ACL action when we really want to use ""allow-related"" The difference is that we want to allow return traffic for an opened connection that passed a security group rule Related thread on ovs dev list: http://openvswitchorg/pipermail/dev/2015-July/057768html Change-Id: Ide4482f94b03da3568ea2a0fbecc9ed58d4c9cf8 Signed-off-by: Russell Bryant <rbryant@redhatcom>",0.14887332916259766
1731,Adds a security test to check for authorization vulnerabilities This is a security test to verify whether the create service API is vulnerable to some authorization attacks We attempt to create services without tokens_ with invalid tokens_ other user's tokens and so on All such attempts should fail Change-Id: I6b98a00e7925a93a5da3378a1f3e1fc5543472f9 Implements: blueprint security-authorization,0.16592806577682495
1732,Wait for nova_server1 to be deleted before deleting it's security group This adds a 30 second wait loop for the nova_server1 resource to be deleted before trying to delete it's related security group so we don't hit a 400 error from nova-api This is basically a copy of what is done when deleting the cinder_server1 resource Added notes that we can clean this up with the --wait option on the `openstack server delete` command when python-openstackclient>=140 at least in global-requirements_ which will have to wait until at least the M release since stable/kilo caps osc at <110 Closes-Bug: #1460112 Change-Id: I16981765c12db7145f7c4754d454431afb6d5cbb,0.19533197581768036
1733,Added basic security groups functional test for OVSvApp -part4 11test_icmp_security_group_rule_with_type_code Change-Id: Idc9f08fa4132af5e54c0ce7ebc384878c23de56b,0.2124338150024414
1734,Added basic security groups functional test for OVSvApp -part3 3test_port_creation_with_multiple_security_group Change-Id: I3da0f58a8307d44e04f11f33256b1e3f19410189,0.21504844725131989
1735,Added security group and network So it's easy to practice in devstack Change-Id: I18cfe6b2ed3d4c4b148b9a5ea7f471e62fc99a4c,0.2289794385433197
1736,fixing todos in security services section in the instance management chapter * changing doc link from introduction chapter to security boundaries and threats section * changing doc link from networking chapter to ref link pointing at the security groups label Change-Id: I354cfc9fd61eaf8e8da97dc861d97c4f86b050e1 Partial-Implements: sec-guide-rst,0.3623189330101013
1737,Add bandit for security static analysis testing This change adds a basic bandit config for Nova It can be invoked by running the tox environment for bandit; tox -e bandit This is intended as a starting point for using bandit with Nova and it should be revisited to improve the testing as more is learned about the specific needs of the Nova code base Change-Id: I3026b81317f0a6322acfc94784899a7453af586f,0.189313605427742
1738,adding security guide rst build dir to ignore Change-Id: Ibf94b5eaeadb2db30ad4d81b272ec4f12a063041,0.2900872230529785
1739,Add RST Security Guide to draft-index The Security team has started working on the RST version of the guide_ add a link to it Change-Id: I0389a2f55d6ec8e90c6137e9ebb858aa082b6ebe,0.31588709354400635
1740,Setup RST Security Guide Add all files for RST conversion of security-guide The guide will be published to docsopenstackorg/draft/security-guide-rst while conversion happens Translations are currently disabled for this guide during the conversion Add tooling so that the guide gets build automatically Add initial content Note that the files in the imported directory will be imported from openstack-manuals automatically once this change is in_ they are stubs right now to have this building Change-Id: Id5fc16d3a3c8e2efa98eb3fd7f5c986e0a83a76b,0.2350049912929535
1741,Set up cert-manager cluster role for pod security policies This commit adds a helm chart that deploys a rolebinding to the cert-manager application to allow deployments to the cert-manager namespace after PodSecurityPolicy plugin is enabled on the Kubernetes cluster Partial-bug: 1878900 Depends-On: https://reviewopendevorg/#/c/734408/ Depends-On: https://reviewopendevorg/#/c/735998/ Change-Id: I73f91d94d341511b8e43c21d6f01b1cf3e7ad054 Signed-off-by: Jerry Sun <jerrysun@windrivercom>,0.312473326921463
1742,Ceph: Add pod/container security context This updates the ceph-mon chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I4c9e292eaf3d76ee80f50553d1cbc8cdc6f57cac,0.17949408292770386
1743,Set up openstack cluster role for pod security policies This commit adds a helm chart that deploys a rolebinding to the openstack application to allow deployments to the openstack namespace after PodSecurityPolicy plugin is enabled on the Kubernetes cluster Change-Id: I57d3a31c9fcc7e03499e605d6d722fdb36004339 Partial-bug: 1878900 Depends-On: https://reviewopendevorg/#/c/734408/ Depends-On: https://reviewopendevorg/#/c/735998/ Signed-off-by: Jerry Sun <jerrysun@windrivercom>,0.2849159240722656
1744,Set up kube-system cluster role for pod security policies This commit adds cluster role and cluster role bindings for the PodSecurityPolicy plugin in the kube-system namespace It also upversions the cert-manager application in the required applications list because we needed to modify that application for the same bug Closes-bug: 1878900 Change-Id: Ia824346d759d4439691a9a9a000fd7e698914f65 Signed-off-by: Jerry Sun <jerrysun@windrivercom>,0.3278959095478058
1745,Remove security groups callback code The security groups callback code was meant to be used with ML2_ with a plugin we can directly implement security groups and this code should not be used Change-Id: Iffcd0f08aa9bf3f49544e90be7ecd9a24a51c390 Closes-Bug: #1475405,0.22118839621543884
1746,Adds a security test to check for SQL injection vulnerabilities This is a security test to verify whether the create service API is vulnerable to a SQL injection attack Some common SQL injection strings are supplied to all fields of the JSON input to see if the API invocation succeeds If so_ this indicates a vulnerability Change-Id: I88d52bcf10934b9988ce5ae19c8e4127bd549388 Implements: blueprint sql-injection,0.16750568151474
1747,[Manila] Add scenario for attach of security service to share network List of changes: - Added support of 'attach-security-service-to-share-network' operation - Added benchmark for creating security service and share network and attaching the former to the latter Change-Id: Icc6fe65ddf796603e7f507b62c2f6c76a030c400,0.17893895506858826
1748,"net-list should return gracefully for existing non port security enabled network Steps to reproduce: 1 Turn off port enable security flag from ml2 plugin_ restart neutron service 2 Create a temporary network 3 Turn on port enable security flag from ml2 plugin_ restart neutron service 4 Execute ""neutron net-list"" 5 Neutron should crash The root cause is that for those existing network which was created without port security enabled netowrk_ port security extension didn't take care of them as the data model of those network is undefined This patchset is to let the extension construct the response dictionary gracefully for those existing network Change-Id: I73abc98d83372f6259f17680806e6541458e2077 Closes-bug: 1461519",0.22717152535915375
1749,Added ESX basic security groups functional test 1test_to_Validate_Port_update_with_a_new_Security_group Added function to check remote connectivity in managerpy Change-Id: I5fb3c9760de9b4c41515a4fa9e59facbd10463a6,0.15418356657028198
1750,Dashboard in Security Guide Bad Sentence Fixing requested bad sentence in the openstack security guide Change-Id: I6ad0b3a2f7477c2e4a2897c464762b01869c6f7e Closes-Bug: #1447711,0.3410962224006653
1751,Fix for race condition in security group creation There was a race condition in the creation of default security group_ which was exposed when neutron was able to create a default security group and backend controller fails which results in inconsitency between neutron and backend controller This fix will allow both neutron and backend controller to rollback in case of any failure ie either on neutron side or backend controller to maintain consistency between both It also removes the strict checking for one default security group per tenant and will allow neutron to handle this scenario Change-Id: Ic0de2596d723ceba601d60371d644f320d5e37be Closes-Bug: 1471287,0.30719998478889465
1752,Fix callback registry notification for security group rule Some housekeeping was done in - SecurityGroupDbMixin: - create_rule_bulk() calls to create_rule(); - registry notification is in create_rule(); - separate validation for a single rule and for a group of rules - SecurityGroupServerRpcMixin: - overriden methods call to corresponding super class methods; Hopefully code is now self-documented enough Closes-Bug: #1461024 (cherry picked from commit 76b4803530c0d5f47659aa519585178cc33cba46) Conflicts: neutron/db/securitygroups_dbpy Change-Id: Ia75d7e206716bbe74aae89e4cebd0c2c40af68a8,0.3034817576408386
1753,Add security groups events ML2 mech drivers have no direct exposure to security groups_ and they can only infer them from the associated network/ports This is problematic as agentless ML2 mech drivers have no way of intercepting securitygroups events and propagate the information to their backend_ or more generally_ react to them This patch leverages the callback registry to dispatch such events so that interested ML2 mech drivers (or any interested party like service plugins) can be notified and react accordingly This patch addresses create/update/delete of security groups and create/delete of security groups rules Other events may be added over time_ if need be This patch is only about emitting the events The actual subscription and implementation of the event handlers will have to take place where deemed appropriate Closes-bug: #1444112 Change-Id: Ifa1d7ee9c967576f824f1129dd68e6e3abd48f5c (cherry picked from commit 868e67b480b08cc815d802cf950547c6b5ac0153),0.16521680355072021
1754,lb-agent: handle security group updates in main loop Patch I1574544734865506ff5383404516cc9349c16ec4 introduced deferring firewall refreshes to the main loop of the ovs-agent to improve performance This patch enables the same on the linuxbridge agent Change-Id: Ia8fe229910d2be718da52cb341be163b86ace571 Closes-Bug: #1368281,0.2746501564979553
1755,Adding security specs repo Change-Id: I790ea5083b3a8cd0d6a954e4d99203421caed018 Depends-On: Ia3f7d47438735cd036448660f525d5cd834eeefa Closes-Bug: #1469248,0.533138632774353
1756,Initial Security Specs Repo Contains the basic minimal setup for creating a spec Change-Id: Ia22486f3f07420aad0925bfac1009f99386820ca Closes-Bug: #1469248,0.3848625421524048
1757,Add scenario for creation and deletion of Manila security services List of changes: - Added support of 'create' and 'delete' operations for security services - Added benchmark for creating and deleting security services Change-Id: I26ba499f24d0cc0036fbc3c7b2e7f7239ffad583,0.18520590662956238
1758,Add functional tests for security group CRUD Change-Id: Ib5bbd46c0454d7dbb541354d515430922569c994,0.2340884804725647
1759,Get rid of duplicated creation of security groups in test_volume_boot_pattern It turns out that a security group in test test_volume_boot_pattern is created twice The first security group is created in test itself_ the second security group is created in the method _boot_instance_from_ volume() This patch fixes it Now the security group is created once Change-Id: I1c10e80161880c7ad04f7c0f48d51cc03b6cbada,0.13683751225471497
1760,Hyper-V: Fixes Security Group Driver ICMPv6 rules Security Group rules created with ethertype 'IPv6' and protocol 'icmp' cannot be added by the Hyper-V Security Groups Driver_ as it cannot add rules with the protocol 'icmpv6' Creates stateless ICMPv6 security group rules properly Note: This is not a direct cherry-pick_ as the Hyper-V Security Groups Driver was refactored in the Kilo cycle (cherry picked from commit 1ea0f15e6a3b050e1301274496494d732d18f0d9) Change-Id: Id49294965c7adb6d4fbc6c799e4ae7f30070bb71 Closes-Bug: #1466547,0.21476946771144867
1761,"Fixes Hyper-V agent stateful security group rules Hyper-V does not allow stateful ACLs with ""ANY"" protocol_ meaning that security group rules which allows ""ANY"" protocol must be split up into separate rules for each protocol Also_ Hyper-V does not allow stateful ICMP rules_ which means ICMP rules must be added both inbound and outbound Closes-Bug: #1362676 Change-Id: I0d4a6ebc6023ea616cf92539273b8b36a6b24ae0",0.2568995952606201
1762,Avoid double-hopping deletes for security group rules There is no need to get and delete; we can delete with one bullet This will most likely have quite a decent performance benefit overall The patch preserves the existing logic of raising and error on the missing element; a test was added to spur up the coverage Related-bug: #1444112 Change-Id: Iaef77bd3f7775ed91d374838fb5488d925b4062c (cherry picked from commit 05a9f16257c2953bf40d11ca2a2f9651ba4e86b2),0.26730525493621826
1763,JSCS Cleanup - style cleanup for Launch Instance Security Groups Step Following John Papa's style guide https://githubcom/johnpapa/angular-styleguide_ this patch refactors the Angular code for 'Security Groups' step in Launch Instance wizard Change-Id: If5c56df70e7232172fa8ddb4878d5517bf9413b1 Partially-Implements: blueprint jscs-cleanup,0.26704686880111694
1764,Adding new security repo Adding security-specs to the OpenStack CI System Change-Id: Ia3f7d47438735cd036448660f525d5cd834eeefa,0.5188173651695251
1765,XSS Security fix Change-Id: I8e22979196756bfa51f291e6782cd5e37d91a07a,0.32366812229156494
1766,Don't disable Ubuntu updates and security repos Change-Id: I212a92a859f2f576b459a9d4b996c8f55a5dc5ff Closes-bug: #1468759,0.44074884057044983
1767,Don't disable Ubuntu updates and security repos Change-Id: I212a92a859f2f576b459a9d4b996c8f55a5dc5ff Closes-bug: #1468759,0.44074884057044983
1768,Merge security groups tests between v2 and v21 Currently v2 and v21 have separate functional tests and their corresponding sample files As v2 and v21 are supposed to be identical_ there is overhead to maintain two set of functional tests and sample files We can have one set of tests which can run for both v2 and v21 This commit merges security groups functional tests In V21 os-access-ip is separate plugin where in v2 it was mixed in server plugin itself So os-access-ip extension is enabled to run merged functional tests for both v2 and v21 Change-Id: I45bc8a6ab4b48bff6ed28b4c779b575252161ed1,0.23886257410049438
1769,Fix callback registry notification for security group rule Move callback registry notifications to create_security_group_rule_bulk_native() as this method is actually used for rule creation Change-Id: Ia75d7e206716bbe74aae89e4cebd0c2c40af68a8 Closes-Bug: #1461024,0.22999346256256104
1770,Remove Thierry Carrez from security contacts Stepping down from the core list of security contacts to make room for future additions Change-Id: I1ff787fedf8293e8cc583fb3c391688be86a4119,0.21542131900787354
1771,Upgrade Drupal Core to 738 and module security updates Drupal Core 738: SA-CORE-2015-002 https://wwwdrupalorg/SA-CORE-2015-002 Module updates: Feeds 7x-20-alpha9 https://wwwdrupalorg/node/2507273 jQuery Update 7x-26 https://wwwdrupalorg/node/2507555 Change-Id: I4f6be8bbde831d3586d05c8ab5126bf143850978,0.44737643003463745
1772,"Fixes Hyper-V agent stateful security group rules Hyper-V does not allow stateful ACLs with ""ANY"" protocol_ meaning that security group rules which allows ""ANY"" protocol must be split up into separate rules for each protocol Also_ Hyper-V does not allow stateful ICMP rules_ which means ICMP rules must be added both inbound and outbound Closes-Bug: #1362676 Change-Id: I0d4a6ebc6023ea616cf92539273b8b36a6b24ae0",0.2568995952606201
1773,Hyper-V: Fixes Security Group Driver ICMPv6 rules Security Group rules created with ethertype 'IPv6' and protocol 'icmp' cannot be added by the Hyper-V Security Groups Driver_ as it cannot add rules with the protocol 'icmpv6' Creates stateless ICMPv6 security group rules properly Change-Id: Id49294965c7adb6d4fbc6c799e4ae7f30070bb71 Closes-Bug: #1466547 (cherry picked from commit 1ea0f15e6a3b050e1301274496494d732d18f0d9),0.247751384973526
1774,Hyper-V: Fixes Security Group Driver ICMPv6 rules Security Group rules created with ethertype 'IPv6' and protocol 'icmp' cannot be added by the Hyper-V Security Groups Driver_ as it cannot add rules with the protocol 'icmpv6' Creates stateless ICMPv6 security group rules properly Change-Id: Id49294965c7adb6d4fbc6c799e4ae7f30070bb71 Closes-Bug: #1466547,0.21078462898731232
1775,Add updates and security repositories Added yum repositories for mos??-updates and mos??-security_ depending on Fuel version After running fuelmenu_ updates repo will be verified that it can be resolved and download updates If updates fail or resolution fails_ a warning is displayed at the end of deployment and broadcast to Fuel UI This point was selected because Internet access is usually not available until after fuelmenu has been run Change-Id: I30e8c854147bed9901470bf1a98875180d808ab4 Partial-Bug: #1466080 Partial-Bug: #1466070,0.3558359146118164
1776,Add updates and security repositories Added yum repositories for mos??-updates and mos??-security_ depending on Fuel version After running fuelmenu_ updates repo will be verified that it can be resolved and download updates If updates fail or resolution fails_ a warning is displayed at the end of deployment and broadcast to Fuel UI This point was selected because Internet access is usually not available until after fuelmenu has been run Change-Id: I30e8c854147bed9901470bf1a98875180d808ab4 Partial-Bug: #1466080 Partial-Bug: #1466070,0.3558359146118164
1777,Add functional tests for security group rule Tests: test_find test_get test_list Change-Id: If54342ec8c57b926a5217d888a43dcd98223bd69,0.1673155426979065
1778,Add security repository into default set of repos Change-Id: I19b75bf9a1e6a3af6a2215f23ad96eaa4a0665cd Closes-bug: #1466080,0.6007305383682251
1779,Add security repository into default set of repos Change-Id: I19b75bf9a1e6a3af6a2215f23ad96eaa4a0665cd Closes-bug: #1466080,0.6007305383682251
1780,Hyper-V: Adds multiple security group rules Until this commit_ all security group rules are applied one by one This can be problematic in large deployments_ where there are hundreds of rules that need to be applied Adding multiple ACLs at once will reduce the processing time greatly Closes-Bug: #1443781 Change-Id: I362f030a95c71b8c86c5fb178493dadc1bc48d4a (cherry picked from commit e5e96e63acdc1be2b57fcce7b033f874909f80da),0.2122153490781784
1781,Hyper-V: Adds multiple security group rules Until this commit_ all security group rules are applied one by one This can be problematic in large deployments_ where there are hundreds of rules that need to be applied Adding multiple ACLs at once will reduce the processing time greatly Closes-Bug: #1443781 Change-Id: I362f030a95c71b8c86c5fb178493dadc1bc48d4a,0.19240602850914001
1782,Refactors Hyper-V Security Groups Hyper-V Security Groups logic has become very convoluted and hard to maintain_ mostly due to differences between Msvm_NetworkAdapterAcl and Msvm_NetworkAdapterExtendedAcl_ used in Windows Hyper-V / Server 2012 and Windows Hyper-V / Server 2012 R2 respectively This commit reduces the logic related to security groups from HyperVUtilsV2_ the methods accepting SecurityGroupRule objects instead_ making it easier to create the rules Also_ this commit introduces SecurityGroupRuleGenerators_ which will generate the rules_ according to the supported version and many different conditions when creating them Change-Id: Ia4ecc1a1ecce19aef000ae39b9efe935ff0db907 (cherry picked from commit 3abcc92f73c17cca8f884ebcf2d767b695e5c9d0),0.2741246223449707
1783,Refactors Hyper-V Security Groups Hyper-V Security Groups logic has become very convoluted and hard to maintain_ mostly due to differences between Msvm_NetworkAdapterAcl and Msvm_NetworkAdapterExtendedAcl_ used in Windows Hyper-V / Server 2012 and Windows Hyper-V / Server 2012 R2 respectively This commit reduces the logic related to security groups from HyperVUtilsV2_ the methods accepting SecurityGroupRule objects instead_ making it easier to create the rules Also_ this commit introduces SecurityGroupRuleGenerators_ which will generate the rules_ according to the supported version and many different conditions when creating them Change-Id: Ia4ecc1a1ecce19aef000ae39b9efe935ff0db907,0.2503315508365631
1784,Add delete method for security group rules DO NOT MERGE Change-Id: I9c66aee078fa999a85336f600f086b93640ca96e,0.21172493696212769
1785,Cerberus creates an uuid for security reports Previously_ Cerberus retrieved reports according to the report identifier the plugin provided The goal of this US is for Cerberus to create its own uuid and keep the report identifier of the plugin The changes include: * Migration of the db * an unique attribute UUID * Tuple (report_id_ plugin_id) must be unique * Changes of unit & functional tests Change-Id: I9aedb88fd5a4f66ccd5e2e831790d9655f76bb09,0.15451791882514954
1786,added the preset security groups on horizon Change-Id: I2e44f7d89ed49008bfe92c725c7481b7227982ed,0.2698770761489868
1787,Add functional tests for security groups Change-Id: I90b29c2e48303867ae2f670643171d113e485cf1,0.24880874156951904
1788,Add create method for security groups Adds the API method to create a security group_ using nova or neutron Change-Id: I495c8272220837982b7e1f880646748a30b7d727,0.2382625937461853
1789,Add delete method for security groups Adds the API method to delete a security group_ using nova or neutron_ and consolidates existing and new security group tests into a new file Change-Id: Ib85b3ec0de8b2b42f691c3e2127adb16e8b14c99,0.23727679252624512
1790,Fix Nova API misimplementation for security groups According to the Compute API reference [1]_ the 'description' parameter is optional when creating a security group Still_ Tempest is expecting errors when a description isn't provided This patch removes the checks so that change I404dd30c7dac4b8a9e01cf2ea62fa404fdcce3de can pass Tempest checks [1]: http://developeropenstackorg/api-ref-compute-v2-exthtml#createSecGroup Related-Bug: #1434172 Change-Id: I504f00cecbd004f00b3553e8a23c2b3870405050,0.33286619186401367
1791,Split security group list operations DO NOT MERGE yet Change-Id: I4474341ebc255700a06247846c6350981437e8ae,0.21548804640769958
1792,Fix security group list command Security group list command tries to get a project list and this may fail with a 404 as well as a 401_ so add the 404 to the ignore list Change-Id: I68214d2680bad907f9d04ad3ca2f62cf3feee028 Closes-Bug: #1459629,0.27270910143852234
1793,Remove duplicated tenant_id param in list security group method Change-Id: I6bf82e24823885f74d8297268ce97c3af66f281a,0.18736854195594788
1794,tests crud security report and task Change-Id: I4e51696a7c98d2cb0b7df94a897e25e64442a465,0.28206366300582886
1795,Display protocol in security group rules Display protocol of the security group rules in dashboard instance overview page Change-Id: Icc8db874083dcb71e14fd4b6e686aed9a6a39600 Co-Authored-By:Sridevi <sridevimaddipati@tcscom> Closes-Bug: #1378170,0.20615822076797485
1796,Storage and the notification of a security report * New functional test * Fix of bugs Change-Id: I700fb634d4aba47c4996df5d5e59c38a034ddcc7,0.3008687496185303
1797,Do not assume order of security group rules This fixes the unit tests[1] that breaks with a randomized PYTHONHASHSEED (see the bug report) The test assumed that the security_group_rules_for_devices method from neutronagentsecuritygroups_rpc returned security group rules in a particular order Found with PYTHONHASHSEED=2 The fix refactors the test case to handle unsorted security group rules [1] neutrontestsunitpluginsml2test_security_group\ TestMl2SGServerRpcCallBack\ test_security_group_rules_for_devices_ipv4_ingress_addr_pair Partial-bug: #1348818 Note: There are several other unrelated unit tests that also break with a randomized PYTHONHASHSEED_ but they are not addressed here They will be addressed in separate patches Change-Id: I1b2bd4100c19004f12822c414aefc86aae9849db,0.250278502702713
1798,Add flag to indicate handling of security groups Security groups can be handled by either nova_ neutron_ or just not be supported This adds a flag for that Values will be one of 'neutron' (the default)_ 'nova'_ or None None indicates that security groups are not supported Change-Id: I81a2e10e14e53acc9ffc328771d8ef721e2fd370,0.24346379935741425
1799,Updating Case Studies - Alice's Instance Security Management section + Clarifying additional consideration before hardware is selected of rdrand support highlighted in RFP + Using egd + libvirt + Using 'trusted compute pools' for attestation + Ensuring logging captures on-system commands in images + HIDS agent + Calls out architectural dependency that requires clear ownership Change-Id: I8861bb8c1dace8fc7526a1464c6abc61faac032e Partial-Bug: #1349540,0.1750357449054718
1800,Security group and security group rules delete tests - Adding tests for security groups delete - Adding tests for security group rules delete Change-Id: Id9433f58ca4ace38d1c17a683c03e49e85a88d48,0.22746950387954712
1801,Adds associate security group action to Compute API v2 Change-Id: I869a9e1996d55549fdbaa6d84dfffc2595bd7e9c Closes-bug:1456189,0.2541586458683014
1802,Delete port security bindings on existing port If router interface added by port it is required delete security group bindings before update port_security attribute on port Change-Id: Ib949a849119b7a440fd34843a9105aff317e08ed,0.158869668841362
1803,[Fullstack] Mark security groups test as unstable It's still failing from time to time and we don't know the root cause of that failure So lets mark it as unstable for now until we will finally find out what's going on in this test and until we will finally fix it Change-Id: I2b6b50fb14856997d886daed5cf7bb4898d57130 Related-bug: #1742401,0.28382617235183716
1804,"Fix security groups cleanup In addition to the security groups that are explicitly created_ Neutron automatically creates a security group called ""default"" for each tenant We have to clean these up manually_ this also needs the admin context At the same time we avoid trying to delete the other security groups twice Change-Id: Ib8da1c608a3355cd2e08a7bc1a5aaa86444d1c39 Closes-Bug: 1355629",0.278901070356369
1805,Improve language in Security Guide Change-Id: I6499448fe9abfaf3dc07f06268eb69d100498100 Closes-Bug: #1447667,0.29189348220825195
1806,Adds a security test to check for Cross Site Scripting vulnerabilities This is a security test to verify whether the create service API is vulnerable to Cross Site Scripting Some common XSS strings are supplied to all fields of the JSON input to see if the API invocation succeeds If so_ this indicates a vulnerability Change-Id: I5728541900c5964a189aa7c03a8a56434f5cae9f Implements: blueprint cross-site-scripting,0.19700327515602112
1807,Views module security upgrade Views - Critical - Cross Site Scripting (XSS) - SA-CONTRIB-2015-103 https://wwwdrupalorg/node/2480327 Upgrade views module to 311 Change-Id: I55f975053f0c03ba2e54b8d3a53e9d21903ec77e,0.2843438684940338
1808,"Set port security for logical port port_security is ""a set of L2 (Ethernet) addresses from which the logical port is allowed to send packets and to which it is allowed to receive packets Logical ports are always allowed to receive packets addressed to multicast and broadcast addresses"" Set this field with the port mac address and any configured allowed address pairs mac addresses Change-Id: I30b89f163f3941b8082e208c788aff94ef6f02db",0.1105695366859436
1809,disable port security on Akanda router ports Router ports should not have port security enabled_ so disable it on the Akanda ports since they're doubling the router interface ports Change-Id: I3f771bf0b84f984614939e1bffce52aea91c8f9a,0.11517061293125153
1810,Fix grammar errors of networking services security best practices Rewriten the sentences which using conjunctive adverbs at the beginning and overuse of commas in the section_networking-services-security-best-practicesxml of security-guide Close-Bug: #1447772 Change-Id: Ie7e8f54e7342394a188656119bff4a8658a8e78b,0.28774505853652954
1811,Merge security group client side rpc api with compute rpc api Both compute and security group client side rpc api:s share a single target_ which is of little value and only cause mistakes like with the recent bump of the compute rpc api that missed out on the security group client api This change eliminates future problems like this by combining them into one to get a 1:1 relationship between client and server api:s Change-Id: I9207592a87fab862c04d210450cbac47af6a3fd7 Closes-Bug: #1448075,0.22590067982673645
1812,Fixes malformed sentences in the security guide Change-Id: I11800ae1d73f1ba99676884b043c1ca6fe930eb8 Closes-Bug:#1442291_#1442297_#1442318,0.3757392168045044
1813,Rename OpenStack Security Group (OSSG) Meeting Based on: https://wikiopenstackorg/w/indexphp?title=Meetings&diff=next&oldid=77629 Change-Id: I0b618a675329f85364803b5803e537ed3549637e,0.1472557634115219
1814,Add security group calls missing from latest compute rpc api version bump The recent compute rpc api version bump missed out on the security group related calls that are part of the api One possible reason is that both compute and security group client side rpc api:s share a single target_ which is of little value and only cause mistakes like this This change eliminates future problems like this by combining them into one to get a 1:1 relationship between client and server api:s Change-Id: I9207592a87fab862c04d210450cbac47af6a3fd7 Closes-Bug: #1448075 (cherry picked from commit bebd00b117c68097203adc2e56e972d74254fc59),0.2882702350616455
1815,commit 503993fc9e08c5e8014c468d94f47547549dd7a6 Author: tianzichen306 Date: Mon Apr 27 22:20:46 2015 Sentences order adjustment of networking services security best practices Swap two sentences and use pronouns in the section_networking-services-security-best-practicesxml of security-guide Close-Bug: #1447773 Change-Id: Id4957561ff17d7c83ffe5576230fc9f083faacf8,0.36036133766174316
1816,add security groups to topology Change-Id: I8246ee16690cf47921df921aefb710892307cbd0,0.24913841485977173
1817,add security groups to topology Change-Id: I8246ee16690cf47921df921aefb710892307cbd0,0.24913841485977173
1818,Fix security issues with EC2 credentials This change addresses several issues in the creation and use of EC2/S3 credentials with keystone tokens 1 Disable altering credential owner attributes or metadata Without this patch_ an authenticated user can create an EC2 credential for themself for a project they have a role on_ then update the credential to target a user and project completely unrelated to them In the worst case_ this could be the admin user and a project the admin user has a role assignment on A token granted for an altered credential like this would allow the user to masquerade as the victim user This patch ensures that when updating a credential_ the new form of the credential is one the acting user has access to: if the system admin user is changing the credential_ the new user ID or project ID could be anything_ but regular users may only change the credential to be one that they still own Relatedly_ when a user uses an application credential or a trust to create an EC2 credential_ keystone automatically adds the trust ID or application credential ID as metadata in the EC2 access blob so that it knows how the token can be scoped when it is used Without this patch_ a user who has created a credential in this way can update the access blob to remove or alter this metadata and escalate their privileges to be fully authorized for the trustor's_ application credential creator's_ or OAuth1 access token authorizor's privileges on the project This patch fixes the issue by simply disallowing updates to keystone-controlled metadata in the credential 2 Respect token roles when creating EC2 credentials Without this patch_ a trustee_ an application credential user_ or an OAuth1 access token holder could create an EC2 credential or an application credential using any roles the trustor_ application credential creator_ or access token authorizor had on the project_ regardless of whether the creator had delegated only a limited subset of roles This was because the trust_id attribute of the EC2 access blob was ignored_ and no metadata for the application credential or access token was recorded either This change ensures that the access delegation resource is recorded in the metadata of the EC2 credential when created and passed to the token provider when used for authentication so that the token provider can look up the correct roles for the request Conflicts (six removal in e2d83ae9_ pep8 fixes in e2d83ae9): keystone/api/credentialspy keystone/tests/unit/test_v3_application_credentialpy keystone/tests/unit/test_v3_credentialpy Conflicts due to flask reorg: keystone/api/_shared/EC2_S3_Resourcepy keystone/api/credentialspy keystone/api/userspy keystone/tests/unit/test_v3_credentialpy Moved the test_update_credential_non_owner unit test to CredentialSelfServiceTestCase since in this branch the default policies are not affected by #1872733 NOTE: the application credential functional changes_ along with its tests were removed from the stable/pike backport as stable/pike does not support application credentials Change-Id: I39d0d705839fbe31ac518ac9a82959e108cb7c1d Closes-bug: #1872733 Closes-bug: #1872755 Closes-bug: #1872735 (cherry picked from commit 37e9907a176dad6843819b1bec4946c3aecc4548) (cherry picked from commit 2f2736ebb267c757ad77fcf25ee0aaeefab2a09d) (cherry picked from commit 27caafe3daa552663719954f2cd6713dd4493178) (cherry picked from commit bfba75fc3c5c8f119f74dbf31347e008824a2134) (cherry picked from commit 53d1ccb8a1bdbb5aa0efaacf9739b1a6f436e191),0.24108687043190002
1819,ping scenario with security groups This scenario enables to boot VMs with security groups User can specify number of security groups and security group rules to be created per iteration As we know_ only members and not rules of remote security group are used in security group implementation_ this scenario creates a remote security group for each user requested security group but with no rules Additionally it creates a security group with ssh and icmp rule for each iteration After the VM is booted_ this scenrios tests pinging VMs floating ip Change-Id: I72e3dc826a1904894e39a2e756d1800cb7db20e1,0.0780477523803711
1820,Method to get security group updates in driver Use the RPC listener that an agent would use to receive any security group updated messages that the server has put onto the message queue Conflicts: bsnstacklib/plugins/ml2/drivers/mech_bigswitch/driverpy Change-Id: Ic969db3bd4a577834ce8f5a06cc59a81543bdd99,0.17182859778404236
1821,Add bandit to tox for security static analysis Change-Id: Id74a190e893326a587911e32593040bcb844d3e9,0.22189471125602722
1822,Fix security group create description bug --description is optional in our CLI but the server requires it to be non-empty Set a default value of the given name Closes-Bug: #1434172 Change-Id: I81507a77ad8d815000ff411784ae71e229c77f78,0.31282752752304077
1823,Add security groups events Today ML2 mech drivers have no direct exposure of security groups_ and they can only infer them from the associated network/ports This is problematic as agentless ML2 mech drivers have no way to intercept securitygroups events and propagate the information to backend_ or more generally_ react to them This patch leverages the callback registry to dispatch such events so that interested ML2 mech drivers (or any interested party) can therefore be notified This patch is solely about security groups A follow up patch will address the remainder of securitygroup related events_ such as those for rules Partial-bug: #1444112 Change-Id: Ifa1d7ee9c967576f824f1129dd68e6e3abd48f5c,0.22348499298095703
1824,[Launch Instance Fix] Security Group Nova Net When nova networking is enabled_ the input to security groups needs to be by name When neutron_ it needs to be by id This solves that issues Change-Id: If32671af90facd16e60caa33ed84ba7c9796ad11 Closes-Bug: #1445235 (cherry picked from commit b7de0333b13f73f6a66380623d7579373709c756),0.18126359581947327
1825,Security groups and security group rules GET tests - Adding security group get and list tests - Adding security group rules get and list tests Change-Id: I40453d1247c4ae117b96b7697a9068b384b03c01,0.2345016598701477
1826,Fixed a typo in the Security entry Change-Id: Id53e24eab1ba52d97cffd68dd9f5019efdda20e9,0.3515334129333496
1827,Method to get security group updates in driver Use the RPC listener that an agent would use to receive any security group updated messages that the server has put onto the message queue Change-Id: Ic969db3bd4a577834ce8f5a06cc59a81543bdd99,0.19127938151359558
1828,Backend handling on security group update Change-Id: I303200c403348865e2c629975c0f300d8aa3a3ce (cherry picked from commit 5b69818710aad4bd2d9ddfbf6134e5be84409cb1),0.4039831757545471
1829,Adding missing security group hanling on update Change-Id: I303200c403348865e2c629975c0f300d8aa3a3ce,0.40603262186050415
1830,Avoid double-hopping deletes for security group rules There is no need to get and delete; we can delete with one bullet This will most likely have quite a decent performance benefit overall The patch preserves the existing logic of raising and error on the missing element; a test was added to spur up the coverage Related-bug: #1444112 Change-Id: Iaef77bd3f7775ed91d374838fb5488d925b4062c,0.2534060776233673
1831,Display Suite module security update SA-CONTRIB-2015-095 https://wwwdrupalorg/node/2471733 Change-Id: Ibdefcdbbcdede2693bfcb234d21ab9917bf72783,0.3419269919395447
1832,Addressg TODO related to Security Groups RPC API's classes Change-Id: Ifb70a118cef48c3c4cd313e22e907aa47bc51ad0,0.2884422540664673
1833,[Launch Instance Fix] Security Group Nova Net When nova networking is enabled_ the input to security groups needs to be by name When neutron_ it needs to be by id This solves that issues Change-Id: If32671af90facd16e60caa33ed84ba7c9796ad11 Closes-Bug: #1445235,0.1752222180366516
1834,[Launch Instance Fix] Add Security Group Step Unit Tests This patch adds unit tests for the security groupg step These tests are focused around the controller and its related components (no selenium tests or view tests) Change-Id: I14dbc603e3bafdcebcb13b0ef7f77d05a26a2122 Partial-Bug: 1435869,0.17113423347473145
1835,Add security segregation usecase Change-Id: I5a1ff68e3dc89ef9cda07ac80c7d75dcca5e1d03,0.15720345079898834
1836,Add Bandit security static analysis checking via tox The plan is to add Bandit to the commit gate Bandit is produced by the OpenStack security team to do static code analysis for security implementation failures It tests the code base for ~30 common security problems in Python with more to come The bandityaml configuration file is set to the value recommended by the Bandit team run with: tox -e bandit Change-Id: I46cde803119d0162b6256346e423079cadac17cb Partially-Implements: blueprint gate-bandit,0.17194920778274536
1837,Improve formatting of security teams link Change-Id: I9fa1637c39e5d40d7918dcfc1288340103e71a8b,0.261881947517395
1838,todo: Add security groups Change-Id: Ib47b7e59b3c9f9e4a624493a1dd492a815fef4b4,0.2622736096382141
1839,Add Bandit security lint checking via tox The idea is to make the codebase gate on Bandit Bandit is produced by the OpenStack security team to do static code analysis for security implementation failures It tests the code base for ~30 common security problems in Python with more to come run with: tox -e bandit Partially-Implements: gate-bandit Change-Id: Iade9936268a539384d6067104f02f9a9001c3627,0.14541220664978027
1840,Added test for reattached security groups We had a bug for OSP13 with openvswitch firewall driver that the established connection can't be resumed after the security group has been removed from the port and than added back There are 2 new tests: - To make sure that the new connection can be initiated after security group has been re-attached to the server - To make sure that the existing connection can still be active after security group has been re-attached In order to keep the connection open there is a new StatefulConnection class Change-Id: I3c2f037180b35dbbd254d8b4ce69852d31391a9a,0.1487390547990799
1841,Don't try to create default SG when security groups are disabled If security group API is disabled_ there is no point to create default security group for tenant when eg network is created Conflicts: neutron/db/securitygroups_dbpy neutron/tests/unit/db/test_securitygroups_dbpy Closes-Bug: #1913297 Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa (cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae),0.1924547255039215
1842,Don't try to create default SG when security groups are disabled If security group API is disabled_ there is no point to create default security group for tenant when eg network is created Conflicts: neutron/db/securitygroups_dbpy neutron/tests/unit/db/test_securitygroups_dbpy Closes-Bug: #1913297 Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa (cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae),0.1924547255039215
1843,pod security policies updates New content: Minor Usability Enhancement to Default Pod Security Policies Implemented patchset 2 comment Implemented patchset 3 comments Signed-off-by: Ron Stone <ronaldstone@windrivercom> Change-Id: I82d31f412c47bfecf4601169400bf090ceda636c Signed-off-by: Ron Stone <ronaldstone@windrivercom> (cherry picked from commit 398041b403bfff061efe6e5c82b3efc25b1066d5),0.2638171911239624
1844,"Add new Debian security mirror suite pattern Starting with Debian 11 (bullseye)_ security packages are in bullseye-security as opposed to older releases like buster/updates List the last several stable releases in hopes nobody is trying to use this role to configure platforms older than Debian 8 (jessie_ the current ""oldoldstable"") Change-Id: I2d7712cbfd037a65b9025980a6c0cccd917f8947",0.6607524752616882
1845,Fix security group checking action permissions raise error The security group usage didnot contain key 'available' so it must be checked before using Change-Id: I1a4b78360ce84731449ca9416c36c552e35fe20b Closes-Bug: #1422049,0.25525593757629395
1846,Adding the security team Moving VMT responsibilities from Release to security Change-Id: I9d0db560952380d3283ca710608ed0fdd3af64da,0.34786200523376465
1847,"Remove meaningless ""(CIDR)"" suffix in Security Group Rules table Previously (until Juno) ""(CIDR)"" suffix was used to mention a value is ""remote IP prefix"" in ""Remote"" column However_ in Kilo ""Remote"" column was split into ""Remote IP Prefix"" and ""Remote Security Group"" columns_ and ""(CIDR)"" suffix is no longer needed and now meaningless Closes-Bug: #1440441 Change-Id: Idde94f699ce2c23b8cb48a34d768312ecb9966b9",0.19105251133441925
1848,Fix error raising in security groups method In case there were security groups not belonging to tenant on port _get_security_groups_on_port would try to raise exception but fail trying to index set This patch fixes removes use of index and introduces new exception which provides better explanation of situation which occurred Change-Id: I039ea57269dc53ced8dece0985f33ce9ae7eab17 Closes-Bug: #1373816,0.2968960404396057
1849,"Add xml security test case This XML security test case is to check wehther the application is vulnerable XML bomb attack by sending a payload with XML bomb The expected response is ""Invalid Json"" Otherwise_ it fails Change-Id: Ia4ca814b59cce2293006357973d35594ba992784 Implements: blueprint security-testing",0.08788661658763885
1850,fix for creating security groups in devstack Upstream neutron interface for creating security groups was changed to require a description for a security group Updating cue devstack plugin to provide a description for rabbitmq security group being created while stacking Change-Id: I348a5e1ec51954a829e19a3d345ff01992e3a84d,0.31821155548095703
1851,Identity in OpenStack Security Guide  - Style nits Made fixes to grammar and style nits described in bug description Closes Bug: #1411519 Change-Id: I4ca527dd85b218f53956fc4e8464c6a0a9e426f6,0.3227289021015167
1852,don't 500 on invalid security group format Fix a user reported issue with invalid security group format causing Nova to throw a 500 error (never a good thing) This provides some minimal validation of the security group in the v2 API to return a 400 instead of a 500 on garbage input It does not break string freeze because this uses the same string as the validator for jsonschema We aren't nearly as helpful about what's wrong with the secgroup format_ that comes with v21 Test case is added for both v2 and v21 on the v2 endpoint (which passed previously) There is some copy and paste in the test case_ but that's intentional for now until we figure out which pieces of the samples_base classes are really useful in other tests (and that we seem to keep wanting in other tests)_ and will be refactored later Change-Id: I3fec08df09a7705e5c882d3ef29d9c4e620781fc Closes-Bug: #1239723,0.24389350414276123
1853,[Launch Instance Fix] Split Security and Access into two steps This splits the single Security and Access step so that the two panes in that step (Security Groups / Keypairs) have their own steps in the wizard_ thus making everything much more consistent Change-Id: Ib1d79ce8019e5361faccf77360989c38ce1cab2c Closes-Bug: 1435636,0.18253827095031738
1854,Add security groups scenario test This commit adds scenario testing for security groups Change-Id: I2c8eb9903a92790139fac8311ef671e1d1851145,0.291269451379776
1855,Exclude security group related quotas when the extension disabled When using neutron as network service and security group extension disabled_ the quotas update workflow will hit some error_ because 'security_group' and 'security_group_rule' are passed to the quotas update method for neutron This patch fixes the problem by excluding these two quotas when neutron security group extension is disabled Change-Id: I0011e1c0956d3248b748f109d5ab5e93ec55f7d3 Closes-bug: 1330632 (cherry picked from commit 1246cd32e33451831255236a3abd8e5e4bf236b1),0.2532857060432434
1856,Improve styling for security group detail table In the Access and Security step of the new Launch Instance Wizard_ there is a detail table that shows when expanding the security groups Currently this detail table is very compact/congested and uses table striping_ which does not match the mockups This patch removes table striping from the security group details table_ and adds padding so that it more closely matches the mockups Closes-Bug: 1433688 Change-Id: Iccd4a83cb3c7e36383f6063cb65d9e7c4efe84b1,0.25155073404312134
1857,Add column sorting to Access & Security tables This patch adds column sorting to the transfer tables within the Access and Security step of the new Launch Instance Wizard This ensures UI consistency with other steps' transfer tables Closes-Bug: 1433790 Change-Id: Ic4571998cc6a5e31466f90ab95dcbdf1fc825b40,0.16306756436824799
1858,Adding conf options for security groups Adding conf options for security groups scenario testing Change-Id: Ieeec4c71404d3335ae40f489d6a553cd7f726264,0.19254451990127563
1859,Adding Security Checklist Adding seperate section for checklists This is an initial commit to get feedback on the format Starting with checklist on Keystone (identity) Change-Id: If36e99aae03f35775e9df665f7a204580717f5a2 Partial-Bug: #1342993,0.21907413005828857
1860,Fixed auto security group cleanup in case of creation error Change-Id: I4b025442ddc4d2433d4a537508d3b1d3b8e64592 Closes-Bug: #1391536 (cherry picked from commit 912cd351942eb442024e9b881e639b8f780f7138),0.3473893702030182
1861,DVS: add security group extension The DVS plugin does not support security groups But we do need to have the extension and DB mixin to ensure that Nova works with the plugin Change-Id: I6ee4b83a98b2ed190a477cd05ce642b404a458ef,0.22937676310539246
1862,Move policy enforcement into REST API layer for v21 security groups This patch moves the policy enforcement into REST API layer for v21 security groups and adds related unittest Partially implements bp v3-api-policy DocImpact Change-Id: If2a3c392a839ee5d88882e1eab66d9b91e6ed72b,0.21940389275550842
1863,"Fix response parameters table of ""List/Show security group"" Add following parameters to these tables ""security-group-rules""_ ""tenant_id"" Change-Id: Ifcd396f793686a84bdd967f5b9be97416a06adf5 Closes-Bug: #1424929",0.22497209906578064
1864,Allow all printable ASCII characters in security group names Thus far_ the security group name was checked with Django's validate_slug Consequently_ some characters like spaces (bug #1224576) and @ (bug #1233501) were forbidden This fix removes validate_slug and provides a less restrictive validation Now_ all printable ASCII characters -- ie from 0x20 to 0x7E -- are valid Note that diacritics are disallowed On top of that the length is now checked and limited to 255 characters in accordance with Nova and Neutron back ends Security group forms have been factorized in one abstract base class: GroupBase CreateGroup and UpdateGroup subclass GroupBase in order to be more DRY Change-Id: Ifc8e5f75419a73a353b2138641773d36138ecea8 Closes-Bug: #1224576 Closes-Bug: #1233501,0.20047304034233093
1865,Make listing security groups faster If we have a large number of security groups (more than 1000) with security group rules (about 100 for each group) listing them could take rather long time(more than 1 minute) Adding lazy join to backref to SecurityGroupRule model will make it faster at list on 15% Change-Id: I648a48cdefe0faf75c0c62bd8adffc12547293be Closes-bug: #1426383 (cherry picked from commit 5917fcff32a51e755b7bb90790cac5afd92556e8),0.17156417667865753
1866,Hyper-V: Fixes security groups issue After this patch If19be8579ca734a899cdd673c919eee8165aaa0e refactored securitygroups_rpc_ prepare_devices_filter attempts to use methods unimplemented by the HyperV security groups driver For this reason_ binding ports fails with NotImplementedError if security groups are enabled Until the HyperV security groups driver reaches parity_ the use_enhanced_rpc property should be set to False on the HyperVSecurityAgent_ falling back to the old behaviour (cherry picked from commit 7076d9edee29b852833d934761052efcbc6e8fcf) Change-Id: I1a7ee2b92367d2d59932b8b39372a055bf19951b Closes-Bug: #1415523,0.278012216091156
1867,Fix some cases of passing context to remotables with security groups This fixes a couple of cases where we pass a context to security group methods in the quotas module and in the compute manager Related to blueprint kilo-objects Change-Id: Id3bb9f35d50e888fd704dc903d49ca1350037432,0.1618025302886963
1868,Update help messages for default security group commands The secgroup-{add_delete_list}-default-rules? family of commands has confusing help text that makes it sounds like they actually operate on the default security group (that is_ the security group named 'default' which is the default for the current tenant) Instead_ the operate on a sort of meta-security-group object which is only used to populate the 'default' security group in newly-created tenants This is crazy confusing These commands get fancy new help strings that should hopefully make it a little more clear Closes-Bug: 1430354 Change-Id: I4d9569ba7ea9ad7a20e984df7a137c99240a9748,0.27549123764038086
1869,Default security group table Added a note on introducing new default_security_group table to prevent race conditions when creating a tenant's default security group Change-Id: I77fb9444e64a86661d0f39e2dee7f898d24aa943 Closes-Bug: #1416116,0.2309018075466156
1870,Adds Security Group support with OVS Bridge Presently the DockerGenericVIFDriver doesnot support the security group functionality when used with OVS bridge Due to this_ security group rules when applied through openstack does not work with containers Now with this fix_a hybrid mechanism is used to support the IPTable filtration and openstack security group rules Change-Id: I4886a6cf7fb955a451c247588aa50f61224fcaae Implements: blueprint container-security-group-support,0.22029326856136322
1871,added security group to create cluster call - Added a configuration item_ os_security_group_ to api to allow a default security group to be specified - Added tests to test_create_vm to verify invalid security group results in a failure - Modified nova fixture to check for security_groups in vm create Change-Id: Ib8490b15b0e90812d630d237cc4fcc8d0c8a4f9a,0.12188326567411423
1872,Fix ICMP code/type in security group rule test Security group rule with ICMP protocol has type/code fields which should follow ICMP specification Remove the ones that are invalid and add more meaningful type/code values - Echo Request (type 8_ code 0) - Echo Response(type 0_ code 0) Change-Id: Ia82193eca71f97581e11badd545ac28236f68f85,0.1729992926120758
1873,Fix missing parameters for Neutron security group API 1 Query parameters Add query parameters for Show/List API 2 Security Group Rule Add some parameters about Security group rule for Show/List/Create API 3 tenant_id Add tenant_id parameter for Show/List/Create API Change-Id: Iac9ecf0391a2d4a6713ee337896c2e5ed30607bf Closes-Bug: #1425337,0.2899618148803711
1874,Some convenience methods for security groups Add two methods to add secuirty group rules to a security group These two methods cover the most common use cases Change-Id: Ic48d31bdbfa8d3b3ea6a3770556a43749b45e70f,0.15821589529514313
1875,Add reference links to Openstack Security Guide - Securing Openstack networking services section Add cross reference links to authentication and access sections Change-Id: Ifffd64719846dcec6598f0b453fa56df977752b1 Closes-Bug: #1419506,0.3072993755340576
1876,"Fix response parameters table of ""List/Show security group rule"" Add following parameters to these tables ""id""_ ""tenant_id"" Change-Id: Ifb9f6117b8c09642c002587588b201ffaf8e5e24 Closes-Bug: #1425022",0.21651700139045715
1877,Add security group for neutron ports During testing of scale heat rally test for neutron (HeatStackcreate_and_delete_stack) is falling because neutron creates multiple security groups but nova cannot define which one should it use As a result nova cannot boot an instance The fix defines default security group in the server_with_portsyamltemplate_ so nova will choose the one specific group In addition_ the deprecated attribute network_id in the template has been replaced with the network attribute Change-Id: I5e610f0fe3817fdbf6acd1e62ef7a5de3273874a Closes-bug: #1428066,0.25402116775512695
1878,"Fix incorrect parameters for ""Create security group rule"" Fix following parameters [Request] (1)ethertype Add ""(Optional)"" signage [Response] (2)Modified the table to content for ""Create security group rule"" It was content for ""Create security group"" Change-Id: I828ee6d8367f5ead68f8c4b25e961eeea1c9122a Closes-Bug: #1420165",0.21689605712890625
1879,Make listing security groups faster If we have a large number of security groups (more than 1000) with security group rules (about 100 for each group) listing them could take rather long time(more than 1 minute) Adding lazy join to backref to SecurityGroupRule model will make it faster at list on 15% Change-Id: I648a48cdefe0faf75c0c62bd8adffc12547293be Closes-bug: #1426383,0.15350665152072906
1880,Adding clarification to Networking's security guide references Change-Id: I9e867ce469034bba40d812dcbd0a2190efa75c40 Closes-Bug: #1419490,0.3167768716812134
1881,Adding Networks Security Groups Test Fixture - Adding NetworkingSecurityGroupsFixture at networkingnetworksfixtures - Minor updates on getting user and secondary user data Change-Id: I349938312f125912e4e5bbe964ad02278c129443,0.2507877051830292
1882,Apply security update of Entity module Upgrade from 15 to 16 See SA-CONTRIB-2015-053 - Entity API - Cross Site Scripting (XSS) https://wwwdrupalorg/node/2437905 Change-Id: I4faeddd596642f3b82fcfcd67066f28adaf4d945,0.19998688995838165
1883,Add security related podman options These options can be used instead of the --privileged option with some containerised services in TripleO Change-Id: If1d97e5f1697fdc1d6a7b845cf116d54b1897245 (cherry picked from commit fbacb3752f94d1246377fee9ad918793f89b9271),0.16266366839408875
1884,VMware: update the support matrix for security groups Update the support matrix for the VMware driver Security groups are supported when using the VMware NSX Neutron plugins Change-Id: Id5ff4a6655551aed5db5e55c33caa9e9a113ce8f,0.2564552426338196
1885,Fix 500 when deleteing a not existing ec2 security group There are 2 reason for seeing 500 errors on not existing ec2 security group delete attempt: * Unexpected TypeError raised: expected string or buffer * Unexpected UnboundLocalError raised: local variable 'group' referenced before assignment Fix the problems by catching the TypeError and raising NotFound exception explicitly Change-Id: Iab9a4f99b965dbdd3419ea7585e8a4988eb738ae Closes-bug: #1410172,0.17618757486343384
1886,Fix security bug with host HTTP header field Previously a user could place any value the host header of their http request to Barbican POST The result returned would have the right body_ but the response location header was built using the provided (and possibly malicious) host value from the request header Resolved this by ensuring that the location header in the response field matches the URL returned in the body Also added functional tests to ensure that this exposure won't reappear Change-Id: I49a9e44be68b20f7602cf58202dd8e522a0c25c3 Closes-Bug: 1421479,0.2028900384902954
1887,Adds Configure access and security for instances Change-Id: Ia91e90726b552e7bb36ea3319cdf6ce349581f73,0.22678738832473755
1888,Reworked filters section to highlight security details Specific Changes: * Touched up second paragraph to ensure focus is on security * Removed summary of the small subset of filters * Broke down current list into four main categories * Described the behavior of those four categories * Moved weights illustration down * Listed possible specific issues with filter sets Change-Id: I250762d73a2b7f4a84ad7f49da6b59d6f918d330 Closes-Bug: #1344291,0.268807977437973
1889,Emphasize TLS over SSL in Security Guide Change-Id: I7f83cbb67a6de5be18aa9893c8859ea9ad49c429 Closes-Bug: 1423641,0.3184090256690979
1890,Fix security group setup when users_per_tenant is > 1 If there is more than one user per tenant_ utilsiterate_per_tenants() will handle only one user per tenant_ leaving the others without their secgroup context being setup So instead we have to iterate over all users Change-Id: Iea8624b272e422575cb7d297d4ff440f64a7b679 Closes-Bug: 1423607,0.19852027297019958
1891,"Introducing security group container This change adds an NSXv security-group that contains all NSXv security-groups created in Neutron_ the security-group container will aid with applying firewall rules to all Neutron security-groups_ such as the ""Block All"" rule Change-Id: Ib83685f7db55cfa369a9144fcca831a3552725d9 Signed-off-by: Roey Chen <roeyc@vmwarecom>",0.20083363354206085
1892,Lock for security group vnic update Change-Id: I6ab101aa002b4b41e0da12151ac28889aacd6505,0.3997144103050232
1893,Adding Port Security support This change implements Neutron Port-Security extension The implementation integrates between Neutron NSX-V plugin and the SpoofGuard component of NSX-V Change-Id: I9422a56426c7151fd688a536b7475d7b6f3835b4 Signed-off-by: Roey Chen <roeyc@vmwarecom>,0.21163451671600342
1894,"Test multiple security groups association for a vm -check the vm connectivity fails as there is no icmp rule -create an icmp security group rule -attach it to the already existing security group ""def_sg"" -Now acces Vm will consists of two security groups that is acces_sg(with ssh rule) and def_sg(with icmp rule) -check tenant vm connectivity based on the rule associated(both ssh and ping) Change-Id: I8e806056bc6197a3189e827c0b182b7c4bdbdf41",0.052174217998981476
1895,Hyper-V: Fixes security groups issue After this patch If19be8579ca734a899cdd673c919eee8165aaa0e refactored securitygroups_rpc_ prepare_devices_filter attempts to use methods unimplemented by the HyperV security groups driver For this reason_ binding ports fails with NotImplementedError if security groups are enabled Until the HyperV security groups driver reaches parity_ the _use_enhanced_rpc flag should be set to False on the HyperVSecurityAgent_ falling back to the old behaviour Change-Id: I1a7ee2b92367d2d59932b8b39372a055bf19951b Closes-Bug: #1415523,0.27870821952819824
1896,Apply security update of views module Views module update from 38 to 310 SA-CONTRIB-2015-039 - Views - Multiple vulnerabilities https://wwwdrupalorg/node/2424403 Change-Id: Ib600e991705db18ad7f9dee8fca44282b36923b9,0.39895099401474
1897,Updating security groups models - Updating security groups models to handle rules as a list of uuids or dicts Change-Id: I658f2e30fac6aa821bb20a0e5f3dbaafa4a72b35,0.2280227541923523
1898,Fix IPv6 RA security group rule for DVR Current IPv6 RA security group rule doesn't work for DVR because the code only allows RA from device_owner is network:router_interface When DVR is enabled_ the router interface is network:router_interface_distributed This fix fixes the RA rule to allow RA from DVR router interface_ so router advertisement from DVR RADVD can pass to VM Co-Authored-By: Baodong (Robert) Li <baoli@ciscocom> Change-Id: Idd1324c653dcb15f5dacf2d897a7048bca22fc38 Partial-Bug: 1376325 Cherry-Picked-From: deffbbfdfef57f740006215674a7aa54a5a1f5cc,0.17292067408561707
1899,added filter for keypair and security and access tables client side filter is missing in keypair table and security and access table this patch adding the client side filter on both of the above mentioned tables Change-Id: I71a89fb7e1763eb1a6f242ae6d007d55afe51a68 Closes-Bug: #1419649,0.27153757214546204
1900,Networking services in OpenStack Security Guide - Remove comma Removed extra comma from the networking security guide Change-Id: I4217ceca2b521030b1efa0b8d69883bc9933097e Closes-Bug: 1419479,0.3055908977985382
1901,Networking services in OpenStack Security Guide remove comma in LBaaS section Removed extra comma in the LBaaS section of the networking security guide Change-Id: Id35b029315fc1239c0dc16cc9af4a25ad7155ac5 Closes-Bug: 1419494,0.296127587556839
1902,Fixed 'default' security group name translation for network interfaces Change-Id: I7de349df154d7bd185d672de33a27bb807c0981c,0.281497985124588
1903,"Adapted default security group to work for Kilo Kilo forbids additional security groups to be created with the name Default Now we use vpc ID for names of VPC default security groups in OpenStack but they are converted into EC2 compatible ""default"" when reported back to EC2 API client Change-Id: I9b1cc8551f3e6d55fab9132934f59bb1bd16a006",0.135867178440094
1904,Add security related podman options These options can be used instead of the --privileged option with some containerised services in TripleO Change-Id: If1d97e5f1697fdc1d6a7b845cf116d54b1897245,0.1537112444639206
1905,Add security related podman options These options can be used instead of the --privileged option with some containerised services in TripleO Change-Id: If1d97e5f1697fdc1d6a7b845cf116d54b1897245 (cherry picked from commit fbacb3752f94d1246377fee9ad918793f89b9271),0.16266366839408875
1906,Update lock for dashboard_ OpenStack security note OSSN-0039 Change-Id: I30d6954067a07ddc9b9e689262fe05ad61145a07 Related-Bug: #1384438,0.3965616822242737
1907,Fix typos in security group scenario test Change-Id: Ie3f35108439cb0c7294415b4f9dcc4738e9a9fed,0.319358229637146
1908,[Sahara] Moved security options to separate tab of ng template Create Nodegroup template page is overloaded Moved security options to a separate tab to make it more structured Change-Id: I92e46ff14fcb919c072c3d3b2239076e7038164c Closes-Bug: #1400869,0.18859133124351501
1909,[Sahara] Added links to security groups Change-Id: Icbea013bd4b035f2049b16d9589f84b7854210ae Closes-Bug: #1400889,0.27102741599082947
1910,Add a note on ipset usage in security groups to Config Reference Added a note describing the benefits of ipsets using for security groups introduced in L2 agent Change-Id: Ia411197b9c9b686dcbee17846f759e159eab31bd Partial-Bug: #1369068,0.25938624143600464
1911,WIP: Default security group table Discussion in comments to https://reviewopenstackorg/135006 Change-Id: Ifa8fbddd22bce4c50836cf443ebe10dff37443ef,0.2854529023170471
1912,Disable security group for some neutron driver Some driver may not support security groups_ in which case the driver may return 500 and causes a failure in Rally This commit checks whether the driver supports secgroup when neutron networking is enabled when neutron driver reports its extensions correctly_ or the user may set allow_secgroup to false in the context setting to disable secgroup Change-Id: Id310af070d09bdf21ecb865be11a55b65f0d3837,0.21529299020767212
1913,Fix a race condition adding a security group rule setup_port_filters() needs to grab selfdevices_to_refilter before it calls prepare_devices_filter()_ else it could skip processing a device if an RPC arrives while it's processing new devices That device will now be handled the next time it's called Bug introduced in commit 3046c4ae22b1 (Cherry-picked from ee0e41d09d6ffc3cb7bf8406c8e8b009dfb92e17) Change-Id: Ib2f460cc095bbea8f9c767dcb9b4d4b66f1a7811 Closes-Bug: 1393925 (cherry picked from commit b29760462ed2c4465e1e46f617b0d36f5dacb66f),0.15436387062072754
1914,Adds a method to get security group Adds a method to get security group by name or id Change-Id: Ifaecf75490f45e636f00b4e7b1c02fb6af09e50e,0.19927017390727997
1915,Fix a race condition adding a security group rule setup_port_filters() needs to grab selfdevices_to_refilter before it calls prepare_devices_filter()_ else it could skip processing a device if an RPC arrives while it's processing new devices That device will now be handled the next time it's called Bug introduced in commit 3046c4ae22b1 (Cherry-picked from ee0e41d09d6ffc3cb7bf8406c8e8b009dfb92e17) Change-Id: Ib2f460cc095bbea8f9c767dcb9b4d4b66f1a7811 Closes-Bug: 1393925,0.14140254259109497
1916,Added validation for security groups except for IP permissions Change-Id: Ie0135cc3e63c0faa7c4a9bfe84cf3469f2985e1a,0.250552237033844
1917,Enable auto security group when Bug 1392738 is fixed Enable auto security group in the test_hdp2_gatingpy in the integration test Change-Id: Iad92e90524c5394ab0915f7b8e840c7d3879af82 Closes-bug: #1412203,0.31139159202575684
1918,Add redirect to Security Guide webpage Change-Id: Id4a626e9fb8cdb02fe5a5fdfa962f2f2011030fb Related: https://reviewopenstackorg/142425/,0.2524760067462921
1919,Fix topic for provider security group update Commit 8098b6bd20bb12520e438ef9125dc7b96664f712 accidentally changed the topic for the provider security group update to a regular member update This resulted in the L2 agent not asking for the latest security group rules after a DHCP port was created If a regular compute port was brought online and wired up by the L2 agent before the DHCP port was created_ the VM would never get its allow rule to communicate with the DHCP server Co-bug-squasher: Armando Closes-Bug: #1403291 Change-Id: I382f2e1390c9a3ff558e152eeb76f0f827266cb4,0.41891300678253174
1920,Test port update with new security group Verify the traffic on VM port with default security group Verify the traffic after updating port with new security group having appropriate rules Change-Id: I9c0f64c2083258573182ee5a7eab10d60aa3c65b,0.19595307111740112
1921,NSX plugin security group rules summarization Summarize the security group rules before creating the rules in NSX controller This fix removes duplicate and redundant rules to yield same or smaller set of rules that enforces the same security policies on the hypervisors and reduce the NSX control cluster memory consumption Change-Id: I2f5d41aadf7cf0aa4d3d72bdbe0b659f24c4e921 Closes-Bug: 1376981,0.170911505818367
1922,ubuntu: use security updates APT repository Mirantis mirror has a separate APT repository with security updates instead of the common ${ubuntu_release}-updates component (which is assumed by apt and friends) Use that repository when building the ISO with USE_MIRROR=none Change-Id: Ib43c015ed953c80a73a8269168cc4d3f89b08e7a,0.5441408753395081
1923,"Confusing message deleting default security group Trying to delete default security group from a non-admin user gives an error ""Removing default security group not allowed (HTTP 400) (Request-ID: req-208b1911-99f6-411f-8429-e05051e71cba) "" But this messgae is not clear as the user does not get to know why is he not allowed to remove the defaulty security group So updated the error message to give a more optimal message to the user Closes-Bug: #1403747 Change-Id: I25744b854371208d68a5cbdcf83079db7c54f96f",0.23700781166553497
1924,Edited diagram in the Security Guide Changed networking project name from quantum to neutron the overview diagram Change-Id: I43a9ec20c94ee7316d1a7f3ed1eacc8872a7ed3b backport: none Closes-Bug: #1404447,0.38627302646636963
1925,Edits the security group JSON sample Change-Id: Idd4e22621e0be14e76f31d4bcab2d4d932821916 Closes-bug: 1393805,0.2927800416946411
1926,"Ensure subnet for port security group tests This change simply adds a subnet to the networks in tests verifying creation or update of a port without a security group This is being done because there are slight differences across neutron plugins logic for managing association between ports and security groups For instance_ the VMware NSX plugin which also implements the ""port security"" extension_ requires an IP address on a port in order to associate it with the default security group Adding a subnet to the network used in the test ensures the test exercises a use case which is common to all plugins This patch simply adds the subnet to the network without changing the remaining logic of the modified tests Change-Id: Ic1f725f5a307ac74acfb13b831db09025025ea2c",0.24443693459033966
1927,VMware: fix security group check on port create The code did not consider an empty list among the cases in which security groups are not supplied on port create Change-Id: I325cce2165d2ec683ecac3cabdbfb80a03b288c9 Closes-Bug: #1405311,0.1596967577934265
1928,VMware: fix security group check on port create The code did not consider an empty list among the cases in which security groups are not supplied on port create Change-Id: I6e4ac3dee0d02c6c26977f8e2fee717587b8bfc5 Closes-Bug: #1405311,0.1633557230234146
1929,Enable auto security group for vanilla integration tests Auto security group enabled for the following tests: * vanilla v1 * vanilla v2 * vanilla v2 transient Change-Id: Ia5cd120331d663511242ce07131f3568fd423131,0.19429974257946014
1930,Test wrong IP version of prefix in security rule Negative tests combines wrong sombination of ethertype and IP prefix arguments in security rule creating Shall be BadRequest response and appropriate error message Change-Id: Iefdc45555beb2ff0807925efc7fc992e30f14899,0.17615178227424622
1931,Added absent security groups unit tests and functionality Change-Id: I4004c9c1b68bee707122f45016d3a7dbb4a7beec,0.3246792256832123
1932,"Adds the security group id besides the name in Manage Rules This patch adds the security group id between parenthesis after the group name_ on the ""Manage rules"" group details page Change-Id: Ib11a8c67b59df57bdf6fa4263d89987e46343e50 Closes-bug: #1370854",0.2656555771827698
1933,Use Network Context in security groups scenario This patch replaces code that creates networking resources in NovaSecGroupboot_and_delete_server_with_secgroups with usage of our new Network Context Change-Id: I9e63256d409978763ee3bb9bf0d896313ba6dec9,0.18867933750152588
1934,Add Test to Create Port with no security groups -Create a Port with no security groups -Validate length of security group list is zero in response Add Test to Update Port with no security groups -Update a Port with no security groups -Validate length of security group list is zero in response Change-Id: I965090417ef0719246cfdc2db6a9d33d4e78e326,0.1756172776222229
1935,Added volume deletion information to the Security guide Added information about glance delay delete feature and the nova soft-delete feature in the data disposal section Change-Id: I88f85dbbd9c5a35e8bd532fe4e04fd3ce4ae44b9 backport: none Closes-Bug: #1329605,0.2093682438135147
1936,Adding recommendations for host based security controls Added three paragraphs on firewalls_ SELinux_ and security group recommendations Change-Id: I298e7af74bd9201cba7ae92abdd2a3950bf708b5 Closes-Bug: #1344342,0.2596544623374939
1937,Fix IPv6 RA security group rule for DVR Current IPv6 RA security group rule doesn't work for DVR because the code only allows RA from device_owner is network:router_interface When DVR is enabled_ the router interface is network:router_interface_distributed This fix fixes the RA rule to allow RA from DVR router interface_ so router advertisement from DVR RADVD can pass to VM Co-Authored-By: Baodong (Robert) Li <baoli@ciscocom> Change-Id: Idd1324c653dcb15f5dacf2d897a7048bca22fc38 Partial-Bug: 1376325,0.16843238472938538
1938,Fixed auto security group for nova network Replaced OS::Neutron::SecurityGroup with AWS::EC2::SecurityGroup AWS::EC2::SecurityGroup supports both neutron and nova network We don't use neutron-specific instructions Change-Id: Id5159c54ad83fd86887f9b718b7545603467bb9a Closes-Bug: #1392738,0.3163756728172302
1939,Adding security groups models and client - Adding security groups request and response json models - Adding security groups api client - Adding security groups models metatests - Updating test_network and test_port metatest considering a kwargs previous update Change-Id: Icb1a249ebb7c992c0595e4274defb8e3c46cd4e7,0.3009672164916992
1940,Apply security updates_ core 734 Applied module updates: - Drupal Core to 734 - addressfield_tokens 15 - google_analytics 21 Change-Id: I3815a49ba4fc6aaa7bc8b812939ac7395a79dec4,0.40231484174728394
1941,[Data_processing] auto security group Set auto_security_group field checked by default This change also sets the value for copy workflow Change-Id: I2e8f716bb4733d5bd48100396a63b79b4fc6225a,0.15784230828285217
1942,Adding security guidelines documentation spec Change-Id: I28414f7ad8cffb44af3c613406580d0c0988e25e Partial-Implements: bp security-guidelines-doc,0.33103373646736145
1943,Fixing validation exception for valid security group Now casting the id of the allowed security group to a sixtext_type() to avoid type mismatching when using ids Change-Id: Iff2e442501d9c85c2b73c9a36114728830b04701 Closes-Bug: #1384743 (cherry picked from commit fc1b5c8463248b8d142f46f310afae0645312b62),0.26024869084358215
1944,Add hash to auto security group name for uniqueness Node group id is unique enough to avoid duplicates Change-Id: I24b003fea3d7b610c91a4bf9c3f887a7b61cedf5 Closes-Bug: #1383348 (cherry picked from commit 230f105a0e5cdc7e758edc07f0628f2d68feb7d0),0.2497583031654358
1945,“Default” naming for security group confuse users The description for default security group in neutron is “default” This confuses the end users_ so updated the description from “default” to “default security group” Closes-Bug: #1291570 Change-Id: I9e024de935e8d17afd3d459cfa17e9feb0cd79fa,0.31299203634262085
1946,WIP: add scenario for security group Change-Id: If9b25260c8d57dc52d7fb64abbaac0601a0eb4ed,0.19149455428123474
1947,Adding paragraph on updates to security instances section Added paragraph noting that instances will need to be updated separately from hypervisors Change-Id: If3f5cc82e45f312187c6c5a6d277f1be508348e3 Partial-Bug: #1344342,0.3825834393501282
1948,Fixing security issue for deleting alarms The delete_ update and patch methods of the alarm service were not using the tenantId to query for metrics This is a security bug because someone could potentially view or affect metrics that were not under their tenant_id Change-Id: Ia7a721b8ed82463c55259d3527ebb587dfdd652a,0.23919658362865448
1949,Minor edit to security rules in the User Guide Added a note about specifying protocol used with a port when adding a firewall rule Change-Id: I25e5ee8ad22ca89c6629375ea7acd183b8d9451d backport: none Closes-Bug: #1373674,0.231844961643219
1950,TLS Data Security Overview Here we define the overall strategy for dealing with secure TLS data in Octavia There are several areas that need attention_ and they are detailed in this spec Barbican will be our default secure storage and certificate signing service_ but the interfaces should remain generic Change-Id: Icbbea8e37af0ce13fd959543403f2b01b8c7d17b Implements: blueprint tls-data-security,0.22778305411338806
1951,Fix security groups Security groups are now hanlded correctly for both Nova Network and Neutron while using direct provisioning engine Closes-Bug: #1381035 (cherry picked from commit b4d360895eeb445430f6857a979af1573ec93fe2) Conflicts: sahara/service/direct_enginepy Change-Id: Id144d6559c4fbdfede59777382d9903bd1bab0cf,0.32990384101867676
1952,Batch ports from security groups RPC handler The security groups RPC handler calls get_port_from_device individually for each device in a list it receives Each one of these results in a separate SQL query for the security groups and port details This becomes very inefficient as the number of devices on a single node increases This patch adds logic to the RPC handler to see if the core plugin has a method to lookup all of the device IDs at once If so_ it uses that method_ otherwise it continues as normal The ML2 plugin is modified to include the batch function_ which uses two SQL queries regardless of the number of devices One query is used to resolve the short port identifiers into real port IDs_ and the other is to get the port info and security groups for all of those IDs Closes-Bug: #1374556 Change-Id: I15d19c22e8c44577db190309b6636a3251a9c66a,0.12307153642177582
1953,Updated sVirt diagram in the Security Guide Renamed the virtual machines in the diagram Change-Id: Idceb5baffd3b65899b94af02cf09e17969b97737 backport: none Closes-Bug: #1374373,0.335810124874115
1954,Fix a race condition adding a security group rule setup_port_filters() needs to grab selfdevices_to_refilter before it calls prepare_devices_filter()_ else it could skip processing a device if an RPC arrives while it's processing new devices That device will now be handled the next time it's called Bug introduced in commit 3046c4ae22b1 Change-Id: Ib2f460cc095bbea8f9c767dcb9b4d4b66f1a7811 Closes-Bug: 1393925,0.1093045175075531
1955,Remove native security group api class There are native security group api classes define in the v2 and v21 security_groups extension Those classes in two extensions are same So remove the duplicated code_ move those exception raising into the base class Change-Id: I5e62ec8236e9d0e9601be652df7b8abf1828fbad,0.1969606578350067
1956,Fixed auto security group cleanup in case of creation error Change-Id: I4b025442ddc4d2433d4a537508d3b1d3b8e64592 Closes-Bug: #1391536,0.2925179898738861
1957,Adding monitoring section to instance security overview Added section recommending monitoring and reporting be configured Change-Id: Ie71df156f7574b511d4d0e4cfdeb297ee0bf0d60 Partial-Bug: #1344342,0.2653670012950897
1958,Refactor security group rpc call Refactor rpc call of 'security_group_rules_for_devices' to enhance the security group Change-Id: If19be8579ca734a899cdd673c919eee8165aaa0e Supports-blueprint: security-group-rules-for-devices-rpc-call-refactor DocImpact,0.2094513326883316
1959,Improve performance of security group DB queries The _select_ips_for_remote_group method was joining the IP allocation_ port_ allowed address pair_ and security group tables together in a single query Additionally_ it was loading all of the port columns and using none of them This resulted in a very expensive query with no benefit This patch addresses that method by changing it into two queries The first directly joins the security groups association table to the IP allocation table to get the IP addresses The second directly joins the address pairs table to the security groups association table to get the IP addresses of the address pairs In local testing of the method_ this sped it up by an order of magnitude This patch also eliminates several other unnecessary loads of data from the ports table in the same module Closes-Bug: #1373851 Change-Id: I12899413004838d2d22b691f1e2f3b18f7ec2c27,0.1893456131219864
1960,Add a project for OpenStack Security Advisories This project contains the metadata and tooling used to generate OSSA content for the securityopenstackorg Web site Change-Id: I8ea59acc9b10b972c1091f68ef56aff89a28d8da,0.3136041760444641
1961,Batch ports from security groups RPC handler The security groups RPC handler calls get_port_from_device individually for each device in a list it receives Each one of these results in a separate SQL query for the security groups and port details This becomes very inefficient as the number of devices on a single node increases This patch adds logic to the RPC handler to see if the core plugin has a method to lookup all of the device IDs at once If so_ it uses that method_ otherwise it continues as normal The ML2 plugin is modified to include the batch function_ which uses one SQL query regardless of the number of devices Closes-Bug: #1374556 Change-Id: I15d19c22e8c44577db190309b6636a3251a9c66a (cherry picked from commit abc16ebfcf8fd1fbdb4ef68590140d4d355b0a7c),0.15262779593467712
1962,Reduce security group db calls to neutron server Within ovs agent daemon loop_ prepare_devices_filter will impose heavy workloads to neutron server in order to retrieve the security groups message to apply firewall rules If agent is configured to use Noopfirewall driver or security groups are disabled_ there is no need for loading the rules from server and refreshing the firewalls This will reduce the number of db calls and improve performance for neutron server in this case Change-Id: Id244aab3cac37fc6ed3dc05cbee91cdf9e34d9cc Closes-Bug: #1365806 (cherry picked from commit 524981cce05a9b365036c0a1e9810036936d3d5b),0.21850550174713135
1963,Improve performance of security group DB query The _select_ips_for_remote_group method was joining the IP allocation_ port_ allowed address pair_ and security group tables together in a single query Additionally_ it was loading all of the port columns and using none of them This resulted in a very expensive query with no benefit This patch eliminates the unnecessary use of the port table by joining the IP allocation table directly to the security groups and allowed address pairs tables In local testing of the method_ this sped it up by an order of magnitude Closes-Bug: #1373851 Change-Id: I12899413004838d2d22b691f1e2f3b18f7ec2c27 (cherry picked from commit 04df85b6e5a098f8f55bb82f04d9769763beb487),0.21440735459327698
1964,Add security attributes for command heat-keystone-setup-domain Recently commit https://reviewopenstackorg/#/c/131698/ have added some security related attributes Add them to the cookbook Change-Id: I0aa806874dabe040a395e96ecb2a6f62f658a6ec,0.224079892039299
1965,Remove neglected security guide The Airship security guide was last updated in 2018 and has not been maintained It's coverage is limited to Airship 1 and is vague This change removes it Change-Id: Ibb8a74f6a13d0e66dba92e45ff4891eb25327ce9 Signed-off-by: Drew Walters <andrewwalters@attcom>,0.2995244264602661
1966,Updating 'Entropy to Instances' section of the Security Guide Formatted Entropy section and integrated Virtio RNG tool with current EGD section Change-Id: I7cdc74a19d6f0ed54763c85936a4a686bb10928a Closes-Bug: #1348798,0.33119451999664307
1967,Fix passing of security groups to Nova's create instances Change-Id: Idb23f6b939bd23eceb69eda4c7ab6090cfd996e0,0.20443806052207947
1968,Blueprint for Websockify security proxy framework This blueprint proposes a generic framework for supporting man-in-the-middle authentication and encryption between Websockify and the hypervisor graphics servers It also proposes a reference driver for that framework for TLS security Spec for blueprint websocket-proxy-to-host-security Change-Id: I23c5a43788afcb705b0d879cf5df4b49f0aa7a67 Previously-approved: juno,0.20966458320617676
1969,Initial security group implementation using NoopFirewallDriver Starting the scaffolding for adding security groups by enabling a way to load a firewall driver and make calls to it For now_ just use a default NoopFirewallDriver which basically does not do anything Closes-Bug: #1384429 Change-Id: I35a1216301833e9031c7783140b231972a61ff9b,0.1425296664237976
1970,Fixing validation exception for valid security group Now casting the id of the allowed security group to a str() to avoid type mismatching when using ids Change-Id: Iff2e442501d9c85c2b73c9a36114728830b04701 Closes-Bug: #1384743,0.27111271023750305
1971,NFS Security Enhancements: allows secure NFS environment setup This patch allows an OpenStack environment to run as a secure NFS environment from the client and server perspective_ including having root squash enabled This also sets Cinder file permissions as 660: removing other/world file access_ based upon a new config flag called nfs_secure_files Change-Id: I3d25f593beab7f5462576b14ab62d13d8c53e7c6 Implements: blueprint secure-nfs,0.27496156096458435
1972,Fix security groups Security groups are now hanlded correctly for both Nova Network and Neutron while using direct provisioning engine Change-Id: Id144d6559c4fbdfede59777382d9903bd1bab0cf Closes-Bug: #1381035,0.3253015875816345
1973,Add hash to auto security group name for uniqueness Node group id is unique enough to avoid duplicates Change-Id: I24b003fea3d7b610c91a4bf9c3f887a7b61cedf5 Closes-Bug: #1383348,0.22920319437980652
1974,"Previously deleting correct/incorrect security group rule was throwing the error of ""AttributeError"" With this fix_ now the valid and invalid security group rules can be deleted Change-Id: I253c2742efe69ee41976c88ca2775189bc5bde0d Closes-Bug: #1163469",0.2336457371711731
1975,Avoid impose security groups db calls to neutron-server under Noopfirewall driver Within ovs agent daemon loop_ prepare_devices_filter will impose heavy workloads to neutron server in order to retrieve the security groups message to apply firewall rules If agent configuration with Noopfirewall driver or security group disabled_ there is no need for loading the rules from server and refreshing the firewalls This will reduce the db calls and improve performance for neutron server in this case Change-Id: Id244aab3cac37fc6ed3dc05cbee91cdf9e34d9cc Closes-Bug: #1365806,0.1752249002456665
1976,Add new search options for security service We can filter security services only by status_ name_ id and type now Add new search options: user_ server_ dns_ip_ domain to _get_security_services in SecurityServiceController Add unit test for filtering secutiry services Implements bp improve-security-service-list-filtering Change-Id: I8b3845c2d705188ec1dc0db33c1e20c8e6c5e559,0.15051443874835968
1977,Update SSL/TTL section in the security guide Added SSL termination proxy as the recommended work around to support transmission of the entire SSL certificate chain Change-Id: I2ffef68c7a5fc7c65ae58128ef1a0ab61c061851 backport: none Closes-Bug: #1378567,0.2523510456085205
1978,Fix error adding security groups to instances with nexus Adding security group for running instance should not invoke the nexus plugin Current implementation does not validate for the 'new_host_id' as assumes it as host migration and fails Closes-Bug: #1365226 Change-Id: I9ab6b8438e6ee0698a8e2ae7ff7736f7c71b2370,0.22920361161231995
1979,Remove workaround for missing debian stretch security repo Debian stretch is no longer tested on OSA master branch and this workaround should no longer be needed on stable branches Change-Id: I4aa9ca3b95cbfb6afa9a0137fceeb3fc4971e284,0.6513303518295288
1980,Fix security issues with EC2 credentials This change addresses several issues in the creation and use of EC2/S3 credentials with keystone tokens 1 Disable altering credential owner attributes or metadata Without this patch_ an authenticated user can create an EC2 credential for themself for a project they have a role on_ then update the credential to target a user and project completely unrelated to them In the worst case_ this could be the admin user and a project the admin user has a role assignment on A token granted for an altered credential like this would allow the user to masquerade as the victim user This patch ensures that when updating a credential_ the new form of the credential is one the acting user has access to: if the system admin user is changing the credential_ the new user ID or project ID could be anything_ but regular users may only change the credential to be one that they still own Relatedly_ when a user uses an application credential or a trust to create an EC2 credential_ keystone automatically adds the trust ID or application credential ID as metadata in the EC2 access blob so that it knows how the token can be scoped when it is used Without this patch_ a user who has created a credential in this way can update the access blob to remove or alter this metadata and escalate their privileges to be fully authorized for the trustor's_ application credential creator's_ or OAuth1 access token authorizor's privileges on the project This patch fixes the issue by simply disallowing updates to keystone-controlled metadata in the credential 2 Respect token roles when creating EC2 credentials Without this patch_ a trustee_ an application credential user_ or an OAuth1 access token holder could create an EC2 credential or an application credential using any roles the trustor_ application credential creator_ or access token authorizor had on the project_ regardless of whether the creator had delegated only a limited subset of roles This was because the trust_id attribute of the EC2 access blob was ignored_ and no metadata for the application credential or access token was recorded either This change ensures that the access delegation resource is recorded in the metadata of the EC2 credential when created and passed to the token provider when used for authentication so that the token provider can look up the correct roles for the request Conflicts (six removal in e2d83ae9_ pep8 fixes in e2d83ae9): keystone/api/credentialspy keystone/tests/unit/test_v3_application_credentialpy keystone/tests/unit/test_v3_credentialpy Conflicts due to flask reorg: keystone/api/_shared/EC2_S3_Resourcepy keystone/api/credentialspy keystone/api/userspy keystone/tests/unit/test_v3_credentialpy Conflicts due to token provider refactor between Queens and Rocky: keystone/credential/controllerspy keystone/contrib/ec2/controllerspy keystone/application_credential/controllerspy keystone/token/providers/commonpy Moved the test_update_credential_non_owner unit test to CredentialSelfServiceTestCase since in this branch the default policies are not affected by #1872733 Change-Id: I39d0d705839fbe31ac518ac9a82959e108cb7c1d Closes-bug: #1872733 Closes-bug: #1872755 Closes-bug: #1872735 (cherry picked from commit 37e9907a176dad6843819b1bec4946c3aecc4548) (cherry picked from commit 2f2736ebb267c757ad77fcf25ee0aaeefab2a09d) (cherry picked from commit 27caafe3daa552663719954f2cd6713dd4493178) (cherry picked from commit bfba75fc3c5c8f119f74dbf31347e008824a2134) (cherry picked from commit 53d1ccb8a1bdbb5aa0efaacf9739b1a6f436e191),0.24108687043190002
1981,Add a reference to the OpenStack security guide Change-Id: I85b9591a17572eb57f315d7b8e6741455aef5817,0.3130396902561188
1982,"Separate security group rule test for each args If passing ""group_id"" argument to ""add security group rule"" API_ the API ignores ""cidr"" argument In test_security_group_rules_create_with_optional_arguments_ both arguments are specified and that is meaningless This patch separates it for each purpose Change-Id: I1af1f37eb2d4b4f182d7ab69bcb0e9c37a356e35 Related-Bug: #1373832",0.16021659970283508
1983,Improve IPV6 parity in Security Group testcases This patch implements IPV6 testcases for Security Groups and adds few additional test cases to validate icmp protocol_ remote_group_id and remote_ip_prefix Change-Id: I3dd272f15a282b2ac58beee10f36c8af66377727 Partially implements: bp ipv6-testing-parity,0.21911315619945526
1984,Check for syntax issues in the security notes with doc8 Change-Id: I650a9045250e818e3c870a4bdb5137566266622e,0.3666297197341919
1985,[Sahara] Added ability to specify security groups for node group Known issues: 1 Security groups added to the same page as general parameters Page is a little overloaded now Will improve this later 2 New python-saharaclient is required Waiting for https://reviewopenstackorg/#/c/110501/ 3 Additional fix will be needed to address bug #1364659 Change-Id: Ieb224ea4db2adc46073b86e7181981ea598c9a8f Blueprint: cluster-secgroups,0.21974867582321167
1986,Enable security group extension in PLUMgrid plugin Implements: blueprint plumgrid-neutron-security-groups Change-Id: I30392adff5e3250a1c4f9f1f04fc7e0587007226,0.18904314935207367
1987,Add query for heat security group race bug 1374021 42 hits in 7 days_ check and gate_ all failures_ looks like it surfaced on 9/21 Could be related to nova bug 1370782 also Change-Id: I028f51062184de0505de3f101d31a55703b24add Related-Bug: #1374021,0.26785150170326233
1988,Adds handling to the Servers behavior when no security group config is provided * Handles the case of when no security group configuration is provided to the servers behavior The Compute compoisite will always at least provide an empty config_ but people not using the composite were having errors due to assuming that the config was passed into the constructor Change-Id: I31b34f4d292534f06ee888fad2873c2387a395fb,0.14870065450668335
1989,Security groups: prevent race for default security group creation When a VM is booted via the Nova the client connection is created with an admin user This causes problems when creating the neutron port That is_ there may be a race for the creation of the default security group for the tenant The problem was introduced by commit acf44dba26ca8dca47bfb5fb2916807f9f4e2060 Change-Id: Ie0199c71231a322704f1f49995facde09c92da25 Closes-bug: #1372570,0.1983949840068817
1990,[Vanilla] Increased security of temporary files for db * changed location of files from /tmp to ~ * added code to remove file after use * refactored code to have all actions with files in one place Things that can be improved * remove code duplication around db actions Change-Id: I44657ae9331d4369e667c5dbc0d0f383b9b49cd5 Closes-Bug: #1370298,0.1618058979511261
1991,astuteyaml -- security note Change-Id: I62cae5a2f1b6d531150ace445700a323ae2b7e9b,0.37088310718536377
1992,Making section id names readable in security guide In the security guide_ the section id names are the chapter name with a random id number on the end This is harder to work with and not really necessary Replacing random id number with actual section names Changing the ids at the section definitions for all the sections throughout References to these ids are also updated Change-Id: Id4aa5df8c7c025ae7a812f1b031041b14002c030 Closes-bug: #1340388,0.2687441110610962
1993,astuteyaml -- security note Change-Id: I62cae5a2f1b6d531150ace445700a323ae2b7e9b,0.37088310718536377
1994,"rephrase action_past text in Access & Security panel Convention in Horizon seems to be verb first_ eg ""Deleted Key Pair"" Also fix capitalization Change-Id: I84793a5bbf0ad7922749c388ef4eaeed37593ee0 Closes-Bug: #1370286",0.19793888926506042
1995,Add ipset to security group Add ipset to security group for improving the performance of the security group Change-Id: I6ff0ac519d0b9034d3bb5270885ed3cc1805674d Supports-blueprint: add-ipset-to-security DocImpact,0.22228294610977173
1996,Don't display duplicated security groups As reported by users_ we end up displaying duplicate security groups on multi nic vms using neutron Let's not do that Change-Id: I0a983aac08aaeacf3c2aef5aae49f64265fe78c5 Closes-Bug: #1331307,0.25060713291168213
1997,Cleanup default security group on tenant deletion This fix cleanups tenant default security groups that are automatically created and must be deleted on tenant deletion Change-Id: Ifcf5ec0391799110f158d113f1b6db8a55a31da9 Closes-Bug: #1283083,0.2343931794166565
1998,Fix security issues with EC2 credentials This change addresses several issues in the creation and use of EC2/S3 credentials with keystone tokens 1 Disable altering credential owner attributes or metadata Without this patch_ an authenticated user can create an EC2 credential for themself for a project they have a role on_ then update the credential to target a user and project completely unrelated to them In the worst case_ this could be the admin user and a project the admin user has a role assignment on A token granted for an altered credential like this would allow the user to masquerade as the victim user This patch ensures that when updating a credential_ the new form of the credential is one the acting user has access to: if the system admin user is changing the credential_ the new user ID or project ID could be anything_ but regular users may only change the credential to be one that they still own Relatedly_ when a user uses an application credential or a trust to create an EC2 credential_ keystone automatically adds the trust ID or application credential ID as metadata in the EC2 access blob so that it knows how the token can be scoped when it is used Without this patch_ a user who has created a credential in this way can update the access blob to remove or alter this metadata and escalate their privileges to be fully authorized for the trustor's_ application credential creator's_ or OAuth1 access token authorizor's privileges on the project This patch fixes the issue by simply disallowing updates to keystone-controlled metadata in the credential 2 Respect token roles when creating EC2 credentials Without this patch_ a trustee_ an application credential user_ or an OAuth1 access token holder could create an EC2 credential or an application credential using any roles the trustor_ application credential creator_ or access token authorizor had on the project_ regardless of whether the creator had delegated only a limited subset of roles This was because the trust_id attribute of the EC2 access blob was ignored_ and no metadata for the application credential or access token was recorded either This change ensures that the access delegation resource is recorded in the metadata of the EC2 credential when created and passed to the token provider when used for authentication so that the token provider can look up the correct roles for the request Conflicts (six removal in e2d83ae9_ pep8 fixes in e2d83ae9): keystone/api/credentialspy keystone/tests/unit/test_v3_application_credentialpy keystone/tests/unit/test_v3_credentialpy Conflicts due to flask reorg: keystone/api/_shared/EC2_S3_Resourcepy keystone/api/credentialspy keystone/api/userspy keystone/tests/unit/test_v3_credentialpy Moved the test_update_credential_non_owner unit test to CredentialSelfServiceTestCase since in this branch the default policies are not affected by #1872733 Change-Id: I39d0d705839fbe31ac518ac9a82959e108cb7c1d Closes-bug: #1872733 Closes-bug: #1872755 Closes-bug: #1872735 (cherry picked from commit 37e9907a176dad6843819b1bec4946c3aecc4548) (cherry picked from commit 2f2736ebb267c757ad77fcf25ee0aaeefab2a09d) (cherry picked from commit 27caafe3daa552663719954f2cd6713dd4493178) (cherry picked from commit bfba75fc3c5c8f119f74dbf31347e008824a2134),0.24108687043190002
1999,Bump keystone to apply security patches Change-Id: I6494b0121eb6f83fdc660f09df0d4462e42d2518,0.38611286878585815
2000,Bump keystone to apply security patches Change-Id: I7023bfdf4baf96147f3da869f394374509a07632,0.3877948820590973
2001,Add /var/run security contexts to host_infotxt An incorrect security context in /var/run can cause SELinux issue A listing of the /var/run directory with security contexts is added to host_infotxt to aid debugging Change-Id: I93b74c88d6250cbf5eec9304f057e3858d2fcf5b,0.09470955282449722
2002,Allowed to specify IDs for security groups Change-Id: Ic9c6785cf2297d05a0df798fb8fa5dae69613deb Closes-Bug: #1364659,0.2863771319389343
2003,Fix security group list when not defined for an instance If an instance has an empty security group list an exception is thrown due to iteration attempt of None To fix this_ this patch modifies get_instance_security_group to return an empty list instead of None Conflicts: nova/tests/api/openstack/compute/contrib/test_neutron_security_groupspy nova/tests/network/security_group/test_neutron_driverpy Change-Id: I7efb3c3a58d7e20501d126c6d194479ca1d14166 Closes-Bug: #1291489 (cherry picked from commit c32986966dfd034c3d706b2e9ab2820a2c3cfc3e),0.2940252125263214
2004,Updated docs with security group management feature Partially implements: blueprint cluster-secgroups Change-Id: I9bfc6dde157e5f438a030d134f8e067447d05116,0.3060508072376251
2005,Allow search security services by name too Manilaclient has functionality of discovering what was provided with identifing object param_ either its id or name But manilaclient handle only id's for security-service commands Changed APIs: - security-service-delete; - security-service-get; - security-service-update; - share-network-security-service-add; - share-network-security-service-remove; Change-Id: Iaf30c30b09a2a09b11c896f5a6c2bcb5fc28d64e Closes-Bug: #1346374,0.16158628463745117
2006,Don't allow security service to be updated if used When we attach security service to share network and create share server associated with this share network_ security service or share-network should not be updated as well as deleted For update should be available only 'name' and 'description' fields Add unit and tempest tests Change-Id: Ide82edea355030b281dc709f8545abfd0fcd13fb Closes-bug: #1357355,0.2733509838581085
2007,"Making section id names readable in security guide In the security guide_ the section id names are the chapter name with a random id number on the end This is harder to work with and not really necessary_ for example_ case-studies-system-documentation-idp44480 Replacing section id names with ""case-studies-system-documentation-alice-private-cloud"" Changing the ids at the section definitions throughout No references are made to these section ids within security guide and hence no changes needed there Change-Id: Ibaccd164332239dc9d701a74f5b84c2fd357feb6",0.21350570023059845
2008,Added support of security groups management Partially implements: blueprint cluster-secgroups Change-Id: Ic3f5e8db2fce2f594036b124bada2a567259a229,0.2881225347518921
2009,Fix security group list for non-admin Non-admin users couldn't list security groups due to the project lookup failure That shouldn't stop the listing Change-Id: I27f6ff4975b35d1de1c852c8d4e830b83c7dec75,0.28416305780410767
2010,Fix server add security group The group resource was being passed when only the name is needed Change-Id: Ia303804be4e336f9880205d931467cb831e812de,0.17854678630828857
2011,Adds ethertype to parameters for Networking API v20 security groups Change-Id: I51bbe9bfcd45d06f1c9962fffc2aa8161dc32d9f Closes-bug: 1357563,0.2352750450372696
2012,Improve install guide security content I improved security content in the installation guide as follows: 1) Renamed basic environment 'passwords' section to 'security' to generalize topic 2) Generalized existing content 3) Added content about administrative privilege requirements including potential interference with deployment automation tools Recommend backporting to Icehouse Change-Id: Ide9785728c7b52ee1dc59a533b3486b99ee11139 Closes-Bug: #1311426 backport: icehouse (cherry picked from commit 80ca377eb8c4d2a448f707cdb663d5e0f0db857e),0.34042245149612427
2013,Spec for adding ipset to security group Change-Id: I8b9a849c6a4612f6e043c70ca1269cdd6cdc0afb,0.28345850110054016
2014,Added ability to create security group automatically Added ability to ask Sahara to create security group for node group Feature is only implemented in vanilla plugin 121 so far Partially implements: blueprint cluster-secgroups Change-Id: I21d0196396bb966fe3d88f5445e98aebe90ad94b,0.23014043271541595
2015,Address some potential security issues in lockutils Adds a note to the lock_path help text explaining how to secure the target directory Also opens lock files in append mode so there is no possibility of overwriting a file due to a malicious symlink Change-Id: I77b72b20088fe66b573c23bd1fd98376c2b0f168,0.1360459178686142
2016,Improve install guide security content I improved security content in the installation guide as follows: 1) Renamed basic environment 'passwords' section to 'security' to generalize topic 2) Generalized existing content 3) Added content about administrative privilege requirements including potential interference with deployment automation tools Recommend backporting to Icehouse Change-Id: Ide9785728c7b52ee1dc59a533b3486b99ee11139 Closes-Bug: #1311426 backport: icehouse,0.3232668340206146
2017,Support ipset for security group Install ipset if the q-agt service is enabled Partially implements blueprint: add-ipset-to-security Change-Id: Ic0820a03e9823be39e26254e7c99fe2c4c811c8b,0.1812545359134674
2018,Forbid to attach security services with same type to share network Manila should not allow attach several security services with same type to a share network_ for example_ two LDAPs or two Active Directory services Closes-bug: #1358652 Change-Id: Id37e986e537941fe8f9086b8b150d6073c97d1ed,0.16147883236408234
2019,Add security group rules to tripleo-ci/default So that ssh and icmp work ;) Change-Id: I76ff74ead0040372a79a0e1632a1ea24e53f410e,0.11931242048740387
2020,Fix listing security group rules It was failing when there are too many security groups_ since we're hitting a RequestURITooLong exception Change-Id: If94b6a2ed6878efad1224e056ecf43e65e85e821,0.22762855887413025
2021,Allow sharing security groups as read-only This specification describes how to allow sharing security groups as read-only Change-Id: If2dcec379d4c874df97af12da44aec7060f0abc2 Related-Bug: #1875516,0.21393923461437225
2022,Fix security issues with EC2 credentials This change addresses several issues in the creation and use of EC2/S3 credentials with keystone tokens 1 Disable altering credential owner attributes or metadata Without this patch_ an authenticated user can create an EC2 credential for themself for a project they have a role on_ then update the credential to target a user and project completely unrelated to them In the worst case_ this could be the admin user and a project the admin user has a role assignment on A token granted for an altered credential like this would allow the user to masquerade as the victim user This patch ensures that when updating a credential_ the new form of the credential is one the acting user has access to: if the system admin user is changing the credential_ the new user ID or project ID could be anything_ but regular users may only change the credential to be one that they still own Relatedly_ when a user uses an application credential or a trust to create an EC2 credential_ keystone automatically adds the trust ID or application credential ID as metadata in the EC2 access blob so that it knows how the token can be scoped when it is used Without this patch_ a user who has created a credential in this way can update the access blob to remove or alter this metadata and escalate their privileges to be fully authorized for the trustor's_ application credential creator's_ or OAuth1 access token authorizor's privileges on the project This patch fixes the issue by simply disallowing updates to keystone-controlled metadata in the credential 2 Respect token roles when creating EC2 credentials Without this patch_ a trustee_ an application credential user_ or an OAuth1 access token holder could create an EC2 credential or an application credential using any roles the trustor_ application credential creator_ or access token authorizor had on the project_ regardless of whether the creator had delegated only a limited subset of roles This was because the trust_id attribute of the EC2 access blob was ignored_ and no metadata for the application credential or access token was recorded either This change ensures that the access delegation resource is recorded in the metadata of the EC2 credential when created and passed to the token provider when used for authentication so that the token provider can look up the correct roles for the request Conflicts (six removal in e2d83ae9_ pep8 fixes in e2d83ae9): keystone/api/credentialspy keystone/tests/unit/test_v3_application_credentialpy keystone/tests/unit/test_v3_credentialpy Change-Id: I39d0d705839fbe31ac518ac9a82959e108cb7c1d Closes-bug: #1872733 Closes-bug: #1872755 Closes-bug: #1872735 (cherry picked from commit 37e9907a176dad6843819b1bec4946c3aecc4548) (cherry picked from commit 2f2736ebb267c757ad77fcf25ee0aaeefab2a09d) (cherry picked from commit 27caafe3daa552663719954f2cd6713dd4493178),0.24108687043190002
2023,Added ability to specify security group for node group Extended API to support list of security groups in node groups and node group templates Changed db schema and provisioning engines (both direct and heat) accordingly Partially implements: blueprint cluster-secgroups Change-Id: I49d3551f6987552ff6398e8c87e22388f914f287,0.2688210904598236
2024,Adding network interfaces and security groups Unit tests for security groups are coming up later Change-Id: Ifaa3cb56644f85489c82a843f016db91a6ba7c2e,0.2602921724319458
2025,Refined Security Groups terminology article Improved the description; added more xrefs to the community docs Change-Id: I5fb8126f5bb07da58dd82973b5f2cdb71cd3238e,0.2778828740119934
2026,Modifies compute tests that do not use create_active_server to use default security groups Change-Id: Ib242f58a10e3ee1be3fdaf4d45ff65cf3e582054,0.13740456104278564
2027,Adds security groups into create server workflow * Adds security group parameter to create and rebuild client actions * Adds security group paramater to create_active_server behavior * Adds security group to compute models * Adds default_security_groups Change-Id: Id351eade2213435a4b52d9590da68f9b28af6927,0.13202133774757385
2028,Sort security group rules by protocol and port When adding new rules to a security group_ it is useful to have the rules sorted consistently across page reloads This patch ensures that the rules are sorted by protocol first_ then by port It is still possible to manually sort the table using the client side capabilities_ but by default the table is now sorted by protocol and port_ server side Change-Id: I36d29461a8437f5689425706a7faae3399c6bf23 Closes-bug: #1326132 (cherry picked from commit e8c1f60eae7e3a76fd271dd5f14c80d06dfe6ebd),0.24170567095279694
2029,"Fix security group modal header overflow If you go to Edit Instance > Security Group The two headers ""All Security Groups"" and ""Instance Security Groups"" overflow when translated Change-Id: I5acd0e4670a6595e6f38ba7f17371b6329ed5836 Closes-Bug:#1288402 (cherry picked from commit 0048dfc6a84c1e6c22c99d01a448b3ed8cf2de14)",0.22025048732757568
2030,Fix security group list when not defined for an instance If an instance has an empty security group list an exception is thrown due to iteration attempt of None To fix this_ this patch modifies get_instance_security_group to return an empty list instead of None Change-Id: I7efb3c3a58d7e20501d126c6d194479ca1d14166 Closes-Bug: #1291489 (cherry picked from commit c32986966dfd034c3d706b2e9ab2820a2c3cfc3e),0.2740636169910431
2031,Fixed Inline Editing for Security Step Change-Id: Ia44094d8321e61710fbbbdee2253a0073079677a,0.34369054436683655
2032,Fix security group race condition while creating rule Previously_ it was possible for someone to create a security group rule where the rule references another security group To do this nova would first create the security group rule and then look up the referenced group (group_id's) name in order to return that via the api During this time it's possible for someone to delete this security group rule and the referenced group before the call returned resulting in a 404 error being raised This patch addresses this issue by looking up the group name first and then creating the security group rule in order to avoid this from occuring Change-Id: If58ffa5629ba5166f260379ac47922974de31be0 Related-bug: 1262566,0.28096774220466614
2033,Check firewall on slaves to detect security holes In different deployment scenarios Puppet generates different firewall rules and potentially can add permit rule_ which will allow access to unused or secure ports/services We should check iptables for security holes on slaves: 1 listen on admin interface on some unused port (tcp or udp); 2 try to connect to that port from master node and send data; 3 check that connection attempt was blocked and data was not received Change-Id: I1f625a75f4febf372948c47a1c920b6aed885a4b Closes-bug: #1346265 (cherry picked from commit 0790465b4c4b5f7bde6a13a964fbaa7ced83648d),0.09625980257987976
2034,Check firewall on slaves to detect security holes In different deployment scenarios Puppet generates different firewall rules and potentially can add permit rule_ which will allow access to unused or secure ports/services We should check iptables for security holes on slaves Change-Id: I1f625a75f4febf372948c47a1c920b6aed885a4b Closes-bug: #1346265,0.12793192267417908
2035,"Fix security group modal header overflow If you go to Edit Instance > Security Group The two headers ""All Security Groups"" and ""Instance Security Groups"" overflow when translated Change-Id: I5acd0e4670a6595e6f38ba7f17371b6329ed5836 Closes-Bug:#1288402",0.18449881672859192
2036,Fixes Hyper-V agent security groups disabling Adds a check if the security groups have been disabled and removes the switch port's ACLs accordingly Change-Id: I20d716a3f182b8ea62da6b436b150aa9dafdb1c5 Closes-Bug: #1299156 (cherry picked from commit 6d49834976bc08d2b8f7939bc2a217f5cc81db47),0.1952161192893982
2037,Fixes Hyper-V agent security group ICMP rules Converts ICMP protocol to the equivalent protocol number Adds default ICMP reject rules Adds default ANY protocol rules if the rule does not contain any protocol Closes-Bug: #1299159 Change-Id: Iff51a58fdb532eda0fe7a63abf96004ee74bb073,0.23417317867279053
2038,Description is mandatory parameter when creating Security Group As per the bug_ description should not be a mandatory parameter as it creates inconsistency with other opestack items which has description as an optional parameter So in the fix_ the description argument has been made optional The old command was: nova secgroup-create <name> <description> Now new command will be: nova secgroup-create [--description <description>] <name> Change-Id: I2ded915be4a57f3c46e6cf5d1bf00e8c917cd0b9,0.33016711473464966
2039,Spec for security groups management in Sahara It is not acceptable to require default security group with all ports open Proposed solution will make Sahara much more flexible around security groups Change-Id: If39d1f314b0a079d510a451f4e7a51f6ed073d3f,0.1605522334575653
2040,Add link to management security domain to security guide Migration network section needs link to management security domain (just in case reference is needed)_ and then changing indeed to with as it's currently not a comprehensible sentence Change-Id: Iab1468bb15f823e4695e32b1b06a7e65d402ad85 Closes-Bug: #1344361,0.2193409502506256
2041,Fix security issues with EC2 credentials This change addresses several issues in the creation and use of EC2/S3 credentials with keystone tokens 1 Disable altering credential owner attributes or metadata Without this patch_ an authenticated user can create an EC2 credential for themself for a project they have a role on_ then update the credential to target a user and project completely unrelated to them In the worst case_ this could be the admin user and a project the admin user has a role assignment on A token granted for an altered credential like this would allow the user to masquerade as the victim user This patch ensures that when updating a credential_ the new form of the credential is one the acting user has access to: if the system admin user is changing the credential_ the new user ID or project ID could be anything_ but regular users may only change the credential to be one that they still own Relatedly_ when a user uses an application credential or a trust to create an EC2 credential_ keystone automatically adds the trust ID or application credential ID as metadata in the EC2 access blob so that it knows how the token can be scoped when it is used Without this patch_ a user who has created a credential in this way can update the access blob to remove or alter this metadata and escalate their privileges to be fully authorized for the trustor's_ application credential creator's_ or OAuth1 access token authorizor's privileges on the project This patch fixes the issue by simply disallowing updates to keystone-controlled metadata in the credential 2 Respect token roles when creating EC2 credentials Without this patch_ a trustee_ an application credential user_ or an OAuth1 access token holder could create an EC2 credential or an application credential using any roles the trustor_ application credential creator_ or access token authorizor had on the project_ regardless of whether the creator had delegated only a limited subset of roles This was because the trust_id attribute of the EC2 access blob was ignored_ and no metadata for the application credential or access token was recorded either This change ensures that the access delegation resource is recorded in the metadata of the EC2 credential when created and passed to the token provider when used for authentication so that the token provider can look up the correct roles for the request Conflicts (six removal in e2d83ae9_ pep8 fixes in e2d83ae9_ test helper in 52da4d0e12): keystone/api/credentialspy keystone/tests/unit/test_v3_application_credentialpy keystone/tests/unit/test_v3_credentialpy Change-Id: I39d0d705839fbe31ac518ac9a82959e108cb7c1d Closes-bug: #1872733 Closes-bug: #1872755 Closes-bug: #1872735 (cherry picked from commit 37e9907a176dad6843819b1bec4946c3aecc4548) (cherry picked from commit 2f2736ebb267c757ad77fcf25ee0aaeefab2a09d),0.24108687043190002
2042,Fix security issues with EC2 credentials This change addresses several issues in the creation and use of EC2/S3 credentials with keystone tokens 1 Disable altering credential owner attributes or metadata Without this patch_ an authenticated user can create an EC2 credential for themself for a project they have a role on_ then update the credential to target a user and project completely unrelated to them In the worst case_ this could be the admin user and a project the admin user has a role assignment on A token granted for an altered credential like this would allow the user to masquerade as the victim user This patch ensures that when updating a credential_ the new form of the credential is one the acting user has access to: if the system admin user is changing the credential_ the new user ID or project ID could be anything_ but regular users may only change the credential to be one that they still own Relatedly_ when a user uses an application credential or a trust to create an EC2 credential_ keystone automatically adds the trust ID or application credential ID as metadata in the EC2 access blob so that it knows how the token can be scoped when it is used Without this patch_ a user who has created a credential in this way can update the access blob to remove or alter this metadata and escalate their privileges to be fully authorized for the trustor's_ application credential creator's_ or OAuth1 access token authorizor's privileges on the project This patch fixes the issue by simply disallowing updates to keystone-controlled metadata in the credential 2 Respect token roles when creating EC2 credentials Without this patch_ a trustee_ an application credential user_ or an OAuth1 access token holder could create an EC2 credential or an application credential using any roles the trustor_ application credential creator_ or access token authorizor had on the project_ regardless of whether the creator had delegated only a limited subset of roles This was because the trust_id attribute of the EC2 access blob was ignored_ and no metadata for the application credential or access token was recorded either This change ensures that the access delegation resource is recorded in the metadata of the EC2 credential when created and passed to the token provider when used for authentication so that the token provider can look up the correct roles for the request Change-Id: I39d0d705839fbe31ac518ac9a82959e108cb7c1d Closes-bug: #1872733 Closes-bug: #1872755 Closes-bug: #1872735,0.24108687043190002
2043,Raise quotas for security group rules Currently we do have quotas for SG rules set to 100 While that's enough for IPv4 networking_ it insufficient for the IPv6 There are tests_ where a lot of security group rules are created_ which number on the IPv6 networks increases even more We propose to raise that number to 300 b00 Brave SG rules Change-Id: I3efd668d8a58706443426f14d77c119533b5dffb,0.18362344801425934
2044,Fix security issues with EC2 credentials This change addresses several issues in the creation and use of EC2/S3 credentials with keystone tokens 1 Disable altering credential owner attributes or metadata Without this patch_ an authenticated user can create an EC2 credential for themself for a project they have a role on_ then update the credential to target a user and project completely unrelated to them In the worst case_ this could be the admin user and a project the admin user has a role assignment on A token granted for an altered credential like this would allow the user to masquerade as the victim user This patch ensures that when updating a credential_ the new form of the credential is one the acting user has access to: if the system admin user is changing the credential_ the new user ID or project ID could be anything_ but regular users may only change the credential to be one that they still own Relatedly_ when a user uses an application credential or a trust to create an EC2 credential_ keystone automatically adds the trust ID or application credential ID as metadata in the EC2 access blob so that it knows how the token can be scoped when it is used Without this patch_ a user who has created a credential in this way can update the access blob to remove or alter this metadata and escalate their privileges to be fully authorized for the trustor's_ application credential creator's_ or OAuth1 access token authorizor's privileges on the project This patch fixes the issue by simply disallowing updates to keystone-controlled metadata in the credential 2 Respect token roles when creating EC2 credentials Without this patch_ a trustee_ an application credential user_ or an OAuth1 access token holder could create an EC2 credential or an application credential using any roles the trustor_ application credential creator_ or access token authorizor had on the project_ regardless of whether the creator had delegated only a limited subset of roles This was because the trust_id attribute of the EC2 access blob was ignored_ and no metadata for the application credential or access token was recorded either This change ensures that the access delegation resource is recorded in the metadata of the EC2 credential when created and passed to the token provider when used for authentication so that the token provider can look up the correct roles for the request Change-Id: I39d0d705839fbe31ac518ac9a82959e108cb7c1d Closes-bug: #1872733 Closes-bug: #1872755 Closes-bug: #1872735 (cherry picked from commit 37e9907a176dad6843819b1bec4946c3aecc4548),0.24108687043190002
2045,"Correct a awkward phrase of Security Guide Section: Invalid Login Attempts_ last paragraph of Chapter 18 of ""Identity in OpenStack Security Guide"" Change-Id: I1436aa751a669acd5eed50f323e170847aa1d7aa Closes-bug: #1342335",0.30991676449775696
2046,Fix grammatical error in security guide Change-Id: Ifb174d348386f1f6ef6d0746cdba68dcd9d9d3e8 Closes-Bug: #1342267,0.3560236394405365
2047,modified: ch_case-studies-identity-managementxml Fix for Bug: 1317215 Nonsencial sentence in Chapter 22 Case studies: Identity management in OpenStack Security Guide Change-Id: I23eb82a0ba2a075d887eceda6f19e4f9997b1c2a,0.2958908677101135
2048,"Make security rules with All translatable Use the python translation function on security rules which are not just acryonyms Also there is no reason for the security rules to use the word ""All"" in all caps Change-Id: Iaac4b01dfc096d589ac4a1e8c9ac772917b4942c Closes-Bug: #1334031",0.13564260303974152
2049,Convert security group tests to httpretty Change-Id: Icdc2c2c6f66a014c29241e262d21d50e39128105 blueprint: httpretty-testing,0.2694818079471588
2050,Update docs to reflect the changes in security group section in horizon Horizon has gone through multiple tab changes This patch changes the docs to reflect the recent changes in horizon related to security group section Change-Id: I1ba56aacb03506c480a1ab24992a50c210f07899 Closes-Bug: #1225172,0.38070839643478394
2051,Convert security group rules tests to httpretty Change-Id: I7b68712b05764661d3e7c3dcac7fce041e88e293 blueprint: httpretty-testing,0.22688373923301697
2052,Improve handling of security group updates Currently updates to security group rules or membership are handled by immediately triggering a call to refresh_firewall This call is quite expensive_ and it is often executed with a very high frequency With this patch_ the notification handler simply adds devices for which the firewall should be refreshed to a set_ which will then be processed in another routine The latter is supposed to be called in the main agent loop This patch for 'provider updates' simply sets a flag for refreshing the firewall for all devices In order to avoid breaking other agents leveraging the security group RPC mixin_ the reactive behaviour is still available_ and is still the default way of handling security group updates Patching into Havana as this fixes the issue of the agents flapping Partial-Bug: #1253993 Partially implements blueprint: neutron-tempest-parallel Cherry-picked from I219c6bdf63b0b5e945b655677f9e28fa591f03cd I1574544734865506ff5383404516cc9349c16ec4 Id9ae8aef0555109bd88600965adb2744ab924430 Change-Id: Idc682f19ebfef4c00b6bb510ebd7d77775f4bbca,0.2592281699180603
2053,Trigger provider security group update for RA For IPv6 subnets_ router RA rule is added to compute node to allow VM to accept RA from router interface on network node However_ currently this is only done when router port which sends RA is created *before* VM port is created This fix triggers provider security group rule update for IPv6 subnet when router interface port is created or updated Change-Id: I7d950f12909a0c2a82b129279e6249b9fac80112 Closes-Bug: 1290252,0.17134299874305725
2054,log and reraise error when failing to modify security group Horizon catches and propagates meaningful exceptions back to the user This code previously caught all exceptions and then raised Exception (with an unhelpful message)_ which Horizon propagated as an even less helpful message By reraising the original error_ we give Horizon a fighting chance of passing a useful error message to the user Change-Id: I38d9977d6d20dfeddbb77b1a7e63e74597bf7331,0.2056918740272522
2055,Fix creation of ICMP security group rule when using Neutron Update ICMP allow rule to use the value -1 for to_port and from_port parameters as ICMP protocol does not have port Change-Id: Idc76e156f07b99574b6b77dba803d5a4f823380b Closes-bug: #1336704,0.25182050466537476
2056,OFAgent: Improve handling of security group updates Port the following patch to OFAgent commit: 3046c4ae22b10f9e4fa83a47bfe089554d4a4681 https://reviewopenstackorg/#/c/63100/ Partial-Bug: 1293265 Change-Id: Iecdfee894ff2fd5f05f63f040dd70821af124737 (cherry picked from commit 6e46769594c856647b0f9ab0dddbe6dd9c9163a1),0.4338836073875427
2057,Wait to merge: Removes security guide from this repo When Security Guide is in openstack/security-guide_ this can merge Realize that https://reviewopenstackorg/#/c/102449/ will need to be applied if it hasn't already Change-Id: I2213a40da494a0d62c65e4a3d35074fab3e909f4,0.4790862202644348
2058,Copy of security guide from openstack-manuals This is a direct copy of the security guide as it stands today in the openstack-manuals repositry This commit will serve to move the guide into this repository Once this is complete_ we can remove the security guide from openstack-manuals Change-Id: I2be2db618b3bb9fc4b03ee97ca8d48f75cb2f507,0.3636679947376251
2059,"Make security rules with All translatable The security rule names that include the word ""All"" should be translatable I've included a SECURITY_GROUP_RULES value with the 3 translatable rules from local_settingspyexample so that we will actually have translations for those values Change-Id: Id21ac0e6ea328ab18f35f7711de356015db5f50a Closes-bug: #1334031",0.13795220851898193
2060,Exclude security group related quotas when the extension disabled When using neutron as network service and security group extension disabled_ the quotas update workflow will hit some error_ because 'security_group' and 'security_group_rule' are passed to the quotas update method for neutron This patch fixes the problem by excluding these two quotas when neutron security group extension is disabled Change-Id: I0011e1c0956d3248b748f109d5ab5e93ec55f7d3 Closes-bug: 1330632,0.24495406448841095
2061,Implement security groups and firewall filtering methods Implement security groups and firewall filtering related methods in the Nova Ironic Driver_ the methods implemented are: * refresh_security_group_rules() invoked when security group rules are updated * refresh_security_group_members() invoked when instances are added/removed to a security group * refresh_provider_fw_rules() invoked when a firewall rule is added or removed from the list of rules * refresh_instance_security_rules() invoked when an instance gets added to or removed from the security group the instance is a member of or if the group gains or looses a rule * ensure_filtering_rules_for_instance() used to ensure that an instance's filtering rules are enabled * unfilter_instance() to stop filtering the instance Change-Id: Ib464dc6df4b03c952d564fdd4185ffbab59a8bc8,0.10690756142139435
2062,Fixing wrong access to Mistral security context in engine Change-Id: I8b92c0a225f2db49d6deca3d06f70271156b7073,0.21182547509670258
2063,Add security group tests for the V3 API This patch adds security groups tests for the V3 API Also adds a test for NoUniqueMatch exception Change-Id: Ic9947eaed34be100c529f021432f0c388a7c3ddb Closes-Bug: #1250501,0.2758517265319824
2064,ensure default security group exists when filter by project_id now filtter security groups by tenant_id_ will auto ensure default security group_ but project_id not tenant_id is deprecated_ we are used to filtering by project_id Change-Id: I3f1a2698768e2d66811bb290a892a1b089dff4ed,0.15060867369174957
2065,"Check ""security_group_rule"" quota during security group creation The tracked resources quota check is done at the beginning of an API call to the Neutron server The API call contains a resource and an action over the resource In case of creation_ the server checks if the number of items requested fits in the existing quota In case of security group creation_ the tracked resource checked is ""security_group"" But ""SecurityGroupDbMixincreate_security_group"" method also creates several default rules for the new group and the quota for ""security_group_rule"" is not enforced This patch checks the number of security group rules being created (""delta"") and checks in the plugin method (not in the API method) if there is enough room for those new rules (tracked resource ""security_group_rule"") Change-Id: I0a9b91b09d6260ff96fdba2f0a455de53bbc1f00 Closes-Bug: #1858680 (cherry picked from commit 936bd67aa42b2e06241d309315b895c9c9c49dcc)",0.2739052176475525
2066,Test security group creation with insufficient rules quota As for each new security group there are 2 default rules created we need to make sure that security group will not be created if security group rules quota is insufficient for 2 additional rules Change-Id: Ie4dab7d27a6bc58899967220aa8e8f004dd91433,0.10970839858055115
2067,Sort security group rules table by port When adding new rules to a security group_ it is useful to have the rules sorted consistently across page reloads This patch ensures that the rules are sorted by port It is still be possible to manually sort the table using the client side capabilities_ but by default the table is now sorted by port server side Change-Id: I36d29461a8437f5689425706a7faae3399c6bf23 Closes-bug: #1326132,0.22493255138397217
2068,Fix security group rules addition for a tenant Change-Id: I8096c7ed0115eec84a8d5a0ea07ed2367f2372cd,0.2570657730102539
2069,Extension for Network Security Group Neutron offers virtual network management functionaries Because we can define any number of network very flexible_ so virtual network topologies tend to map security policy On the other hand_ we can specify security group per port basis In this blueprint_ we are allowing to specify security groups in network for better API usability Change-Id: I760f5d99d17edbdc4ebf9752869f9e1f3a8d3a21,0.1295996904373169
2070,Bugfix of bug causing security groups from allow_ssh to remain When running boot-runcommand-delete scenerio and something happend during this (for example ssh-timeout) vm was not deleted immidetly_ and thus security group could not be deleted Adding secgroup cleaning to nova cleanup after servers cleanup to ensure everything is properly deleted Change-Id: I84f7cc27f03c8c54fa40b2b115d49038dad21268,0.18688970804214478
2071,"Added security group rules for server Added a new resource ""server_security_group"" for adding the security rules to server Added the property ""security_groups"" for each servers Now able to ping the created server with its floating IP Change-Id: Ic801d9fc6c933f022cc0997a69a96fcc68057ba9 Implements: security group rule Closes-Bug: #1309082",0.08690902590751648
2072,Fix wrong URLs of default security group rules management 1 'os-security-group-rules' in the URLs should be 'os-security-group-default-rules'; 2 add guide for deleting default security group rule Change-Id: I11bf1d88182a5117da1d89696f03552c4131def6 Closes-bug: #1326950,0.306397408246994
2073,Corrected 'were' to 'are' in description of OSSN_ Security Guide: Chapter 09 Closes-Bug: #1328101 Change-Id: I033cbf7032a588a9fb6c4cd3089b957083edf93d,0.35849127173423767
2074,Fix wrong title of security group rules management subsection 'Delete a security group' should be 'Delete a security group rule' Closes-Bug: #1327541 Change-Id: Ieefcbafc47c338c92ff117b4d6be8196d2c18028,0.30711856484413147
2075,Fix security group race condition while listing and deleting rules Previously_ there was a race condition that could occur if one was listing a security group which contained a rule which referenced another security group as an additional api call is used to look up the security group's name which is returned (rather than id) via the API The problem occurs if this security group is deleted in which case a 404 was raised This patch fixes this issue by catching the 404 and ignoring the rule as its already deleted as there is a constrain enforced that you cannot delete a security group if another security group has a rule that references that security group Change-Id: I3855b8d3a1bd2f7c88901da071f9bd5581bd56e4 Closes-bug: 1262566,0.27386289834976196
2076,Fix default port of MS SQL in security group template Change-Id: I6ee7fb7d0491b64478d17d7bb9f7fb135a08072d Closes-Bug: #1250029,0.19217295944690704
2077,Fix security group race condition while listing and deleting rules Previously_ there was a race condition that could occur if one was listing a security group which contained a rule which referenced another security group as an additional api call is used to look up the security group's name which is returned (rather than id) via the API The problem occurs if this security group is deleted in which case a 404 was raised This patch fixes this issue by catching the 404 and ignoring the rule as its already deleted as there is a constraint enforced that you cannot delete a security group if another security group has a rule that references that security group Change-Id: I3855b8d3a1bd2f7c88901da071f9bd5581bd56e4 Closes-bug: 1262566,0.2768387794494629
2078,Relax security group rules cleanup Security groups rules are automatically deleted when we delete the security group so this is not really necessary_ besides that_ nova-network doesn't provide a way to get current status of a rule (a proof of concept here https://reviewopenstackorg/#/c/85725/) which means that we never know if it is really deleted Currently it works cause we don't really check the timeouts_ but a the next patch of this series - https://reviewopenstackorg/#/c/82709/ will and depends on this to work Change-Id: If82d1727b2c5f752e48a2da2c8a029e346f3593e,0.2096480280160904
2079,Verify delete security group response of V2 API This patch adds the JSON schema for response status of Nova security group delete API to block the backward incompatibility change in the future delete security group does not return the response body Response status of this API is 202 Partially implements blueprint nova-api-attribute-test Change-Id: I8ce635dfdb41cacaf433b7e14f0fe3b798ef839a,0.33714327216148376
2080,Support neutron service without security groups enabled Change-Id: I3237898aeb87db07cb65fe76319237f3f5a75643,0.296330988407135
2081,Remove Security Guide EPUB The EPUB is not getting updated and thus outdated It's also not easy to install on mobile devices Thus remove it Change-Id: Ia60754c6e03434d84d27c6e33752cecf28872c76,0.34401220083236694
2082,Add a git repo for security documentation This adds a new git repository for documentation created by the OpenStack Security Group (OSSG) This will be a common place for holding the OSSNs_ the Security Guide_ and potentially future documentation output from OSSG This work lives under the Documentation program See the launchpad bug for other details and discussion Change-Id: Ie72134e716ec800d8bc601167a8161a605a9cd5f Closes-bug: 1319895,0.3925795555114746
2083,Adds Security Guide roadmap - to be moved over when the security-guide directory moves Change-Id: I9e71959dfcb3c6dde773f6565ff7e24e7507a299,0.3668171763420105
2084,Add security group creation in service tests add creation of separate security group for service tests Also Increase timeout for migration vm functionality and add more logging to improve debug of this tests Change-Id: Ia310f57a98c4d4aa11138f76cd9e0913accfbebc Closes-Bug: #1320181 Related-Bug: #1317548,0.11229933053255081
2085,Fix test case in security groups In test_server_security_groups test case_ the return value of delete_security_group is not properly validated Change-Id: Ib967dda50898bdcadb2d02398429d2f7edd10121 Closes-Bug: #1318636,0.26003023982048035
2086,Edits on Security Guide Better follow conventions_ especially: * remove Latinism like via and ie * use variable lists * Add missing <filename> * wrap long lines Change-Id: I2a537df78ddf4fbeb127b058bf05caaf42441d5f,0.2737424373626709
2087,Fix security group list when not defined for an instance If an instance have an empty security group list and exception is thrown due to iteration attempt of None Add an empty list in this case_ show the client can receive the expected information Change-Id: I7efb3c3a58d7e20501d126c6d194479ca1d14166 Closes-Bug: #1291489,0.17229832708835602
2088,Discuss security impact of Memory Optimization Technologies for KVM and Xen Removed KSM from the list of 'security features' for hypervisor technology and added a discussion of KSM and TPS Change-Id: Iaedb90f84f74836ccce24a4a63402f429845635d Closes-Bug: #1311204,0.2719818949699402
2089,Fix KeyError if neutron security group is not TCP/UDP/ICMP and no ports Previously_ if a neutron security group rule was created that was not TCP/UDP/ICMP and did not contain a port_range_min/max retrieving it from nova-api would result in a KeyError in nova-api This patch resolves this issue Change-Id: I6284a7a8690aec9509b63f7cbd18812e09ef3fdd Closes-bug: #1294346 (cherry picked from commit 3ad414597043979b8d73c17c05e666cff33a9b88),0.32460153102874756
2090,Edits on security guide Change all titles to sentence style capitalization (some were already_ majority not) Adjust project and service name spelling Minor edits Change-Id: Ic8cc709b068d2273762f074daa5ac30ebe9aaf20 Partial-Bug: #1217503,0.3979892134666443
2091,Optimize querying for security groups In the check for all security groups on port belong to tenant_ add a filter to get security groups for the tenant which are in common with the security groups of the port Change-Id: I66f31755525fca37f9dbce6fb43e475791f82495 Closes-Bug: #1315097 (cherry picked from commit 89b01ca24ba95e36568352b4e5c7abf0cd04e4af),0.17684532701969147
2092,Optimize querying for security groups In the check for all security groups on port belong to tenant_ add a filter to get security groups for the tenant which are in common with the security groups of the port Change-Id: I66f31755525fca37f9dbce6fb43e475791f82495 Closes-Bug: #1315097 (cherry picked from commit 89b01ca24ba95e36568352b4e5c7abf0cd04e4af),0.17684532701969147
2093,Basic Security Groups implementation Change-Id: I6a7f9953206f28b2b1fa6223bcceab60ddaadb13 Closes-bug: #1308623,0.299313485622406
2094,Basic Security Groups implementation Change-Id: I6a7f9953206f28b2b1fa6223bcceab60ddaadb13 Closes-bug: #1308623,0.299313485622406
2095,In the check for all security groups on port belong to tenant_ add a filter to get security groups for the tenant which are in common with the security groups of the port Change-Id: I66f31755525fca37f9dbce6fb43e475791f82495 Closes-Bug: #1315097,0.1454593986272812
2096,Fix screen usage in Security Guide Cleanup usage of screens: * Replace with programlistings where appropriate * Add prompts Also_ fix some filename markup Partial-Bug: #1217503 Change-Id: I0b9b8a73d3449bd33cf7348b49cdc1d02f203c4f,0.2970822751522064
2097,Improved logs for add/remove security group rules Added more details - protocol and port information to AUDIT log messages on add/remove rule actions for security groups Change-Id: Ib446a63976dade90c51c13f30367a3ee17a739ea Closes-Bug: #1154303,0.2238074541091919
2098,"Fix format of table ""Additional Security Features"" In chapter ""40 Hypervisor Selection"" of the security-guide_ the table under the heading ""Additional Security Features"" used an inconsistent formatting: mix of upper-/lowercase ""X""_ additional whitespace_ and in one case an extra ""<address>"" tag Fixed Link to the current online version: http://docsopenstackorg/security-guide/content/ch051_vss-introhtml#ch051_vss-intro-idp401408 Change-Id: I9333ff78b9429a1429cca279c4aa71940f3ec3f5",0.3128639757633209
2099,added query for security group race Change-Id: I4abc818771ed3668d5df82a3b5c29ebfa54aad4a Related-Bug: #1262566,0.29785841703414917
2100,"Fix ""create security group rule"" sample Closes-Bug: #1252853 Change-Id: I39a22eb057afa72de5cdc3f98ff57262015bfbd8 author: diane fleming",0.29671311378479004
2101,OFAgent: Improve handling of security group updates Port the following patch to OFAgent commit: 3046c4ae22b10f9e4fa83a47bfe089554d4a4681 https://reviewopenstackorg/#/c/63100/ Partial-Bug: 1293265 Change-Id: Iecdfee894ff2fd5f05f63f040dd70821af124737,0.44255155324935913
2102,Drupal core 727 security update Resolve SA-CORE-2014-002 - Drupal core - Information Disclosure Change-Id: I6d86a4c1a1733e4c3ded8b368345b3eab1a0b57e,0.5021377801895142
2103,Checking security service is not used while deleting Added db method share_network_get_all_by_security_service that returns all share networks to which security service is assigned Added check to delete method in security service api that gets list of share networks that security service is assigned at and raises error if this list is not empty Closes-bug: 1304473 Change-Id: Ibb73f77095b035f33376aa1791448de3a1ed939b,0.19839854538440704
2104,Add security group configuration for Hyperv agent Hyperv agent of Neutron has supported security group Please refer to: https://reviewopenstackorg/#/c/74199/ Adding security group configuration for Hyperv agent to avoid Neutron Hyperv agent startup errors if no security group set in configuration file Change-Id: Ifccfc744729f4cde897e79ce5afd2e3bd5b292a2,0.25234419107437134
2105,Fixes Hyper-V agent security groups disabling Change-Id: I20d716a3f182b8ea62da6b436b150aa9dafdb1c5,0.2939850091934204
2106,Fix link in Security Guide The link was to a non-existant page_ now it points to the right section Change-Id: Ia256adf2a884cbbddb4760dc1ee123474ef59a4b Closes-Bug: #1307620,0.38278084993362427
2107,ml2-plugin: update security group option In Icehouse_ security group configuration is enabled from the plugin and should be enabled by a boolean value instead of a firewall_driver like before Patch in Icehouse: http://gitio/CxudOg Change-Id: I0d0ca2fb80d21a439c5e096dcd978e956e6662fd Signed-off-by: Emilien Macchi <emilienmacchi@enovancecom>,0.2604123651981354
2108,Fixes Hyper-V agent security group ICMP rules Converts ICMP protocol to the equivalent protocol number Adds default ICMP reject rules Adds default ANY protocol rules if the rule does not contain any protocol Closes-Bug: #1299159 Change-Id: Iff51a58fdb532eda0fe7a63abf96004ee74bb073,0.23417317867279053
2109,Add RBAC policy for ec2 API security groups calls The revoke_security_group_ingress_ revoke_security_group_ingress_ and delete_security_group calls in the ec2 API were not restricted by policy checks This prevented a deployer from restricting their usage via roles or other checks Checks have been added for these calls Closes-Bug: #1290537 Change-Id: I4bf681bedd68ed2216b429d34db735823e0a6189,0.18130964040756226
2110,Add RBAC policy for ec2 API security groups calls The revoke_security_group_ingress_ revoke_security_group_ingress_ and delete_security_group calls in the ec2 API were not restricted by policy checks This prevented a deployer from restricting their usage via roles or other checks Checks have been added for these calls Closes-Bug: #1290537 Change-Id: I4bf681bedd68ed2216b429d34db735823e0a6189,0.18130964040756226
2111,Add RBAC policy for ec2 API security groups calls The revoke_security_group_ingress_ revoke_security_group_ingress_ and delete_security_group calls in the ec2 API were not restricted by policy checks This prevented a deployer from restricting their usage via roles or other checks Checks have been added for these calls Closes-Bug: #1290537 Change-Id: I4bf681bedd68ed2216b429d34db735823e0a6189,0.18130964040756226
2112,Remove security group egress rules The egress security group rules were too restrictive_ blocking necessary traffic_ including cloud-init metadata Fixes https://bugzillaredhatcom/show_bugcgi?id=1080638 Change-Id: Ia11f4a81d56d76418530dab6b09478648a1cfbfd,0.20258623361587524
2113,Moved security hardening HowTos from Config Ref to Cloud Admin Moved procedures and theory over to the admin guide Also moved node recovery into its own file Edited trusted-flavor procedure with minor edits on rest Change-Id: I060d79271130d49b9c6b37638943e2f85ffae5cd Partial-Bug: #290687,0.3859850764274597
2114,Added type key into security service list view Change-Id: I9f2805749d088659a8801a653f2902557922e482,0.3062402904033661
2115,Added type field to security services index list Current index has only 'name'_ 'id' and 'status'_ and it will be very useful to have additional key - 'type' Change-Id: I647a923ed59aa971e15669d7c9239967c815ea09,0.21460871398448944
2116,Fix create call for security group rules Reasons: - create call expect missing conf attributes Changes: - Pulling protocol_ ports from the request body Change-Id: Ic1440f735b6cf2b8b4f29c5ab9f48bcb427ca9e6 Closes-Bug: #1298760,0.13451102375984192
2117,Fix create call for security group rules Reasons: - create call expect extra unused attributes Changes: - updating security group rule create shell command Change-Id: Ic1440f735b6cf2b8b4f29c5ab9f48bcb427ca9e6 Closes-Bug: #1298749,0.15108038485050201
2118,Adding section for security impact The best way to improve security throughout OpenStack is to be more aware of the security impact that design decisions have I think that adding a section that focuses on security will help encourage people to think of this during the design process This idea originated in an email thread on the openstack-security mailing list: http://listsopenstackorg/pipermail/openstack-security/2014-March/001351html Change-Id: I7945f7c99387aedabbce057130f3589831f77f1c,0.23860539495944977
2119,Fail if non-existent security group referenced When using AWS::EC2::SecurityGroup resources with nova-network (not Neutron)_ if a SourceSecurityGroupName was specified in a rule but the name did not correspond to an extant security group it would be silently ignored This change ensures that any such error in the template will cause creation of the security group to fail Fixes-bug: #1291091 Change-Id: I9344451c83f4184ef46d4e9906b94abda08836df,0.23981323838233948
2120,Fix inconsistent quota usage for security group The quota usage for security group do not decrease when the security group is deleted by admin Change-Id: If82ee4edeca934c7be360e4129baa12b1c9a4da1 Closes-bug: #1260575,0.26103445887565613
2121,Added test case for nova security group Create a security group with space char between name along with leading and trailing white spaces Change-Id: I2a2664458e8505b3eef027435850de0b3df29019 Blueprint: testcases-expansion-icehouse,0.2320617139339447
2122,"Verify security_groups attributes through Nova ""list security groups"" API This patch adds checks whether a response of Nova ""list security groups"" API includes the attributes to block the backward incompatibility change in the future The response body of v2 API is the below: { ""security_groups"": [ { ""id"": 17_ ""name"": ""default""_ ""tenant_id"": ""f5e60a2a87ed4a02ae1ab388bdb10cb5""_ ""rules"": []_ ""description"": ""default"" } ] } Partially implements blueprint nova-api-attribute-test Change-Id: Ibb2cc07e6d723e836b554f08168757aa93f61890",0.2843531370162964
2123,Fixes Hyper-V agent security groups enable issue Fixes the weight of the applied allow rules by ignoring the weight of the reject rules Fixes the override allow rules issue by fixing the ACL filtering condition Change-Id: I38ddd7142d0fa45f308460153d29580f276ce07e Closes-Bug: #1294368,0.24204328656196594
2124,Use neutron security groups in BigSwitch plugin Configures the Big Switch third-party plugin to use neutron security groups instead of nova security groups Change-Id: I6bc3046ff0e70b8288a7c3f3d6f975376adc081a Implements: blueprint bigswitch-neutron-security,0.16301678121089935
2125,Fix KeyError is neutron security group is not TCP/UDP/ICMP and no ports Previously_ if a neutron security group rule was created that was not TCP/UDP/ICMP and did not contain a port_range_min/max retriving it from nova-api would result in a KeyError This patch resolves this issue Change-Id: I6284a7a8690aec9509b63f7cbd18812e09ef3fdd Closes-bug: #1294346,0.28778076171875
2126,Fixes Neutron Security Rules for Mcollective Communication Previously_ neutron security rules were incorrectly specified to allow ActiveMQ TCP ports This was not previously observed since a single OpenStack Compute Host was used to run Broker and Node instances Additionally_ duplicate entries for ActiveMQ TCP port 8161 were specified This patch removes the duplicate entries and changes the TCP port number from ActiveMQ to Mcollective (61613) Change-Id: Ia35267a4485bba4aab36b9a629993ab94f42ad11,0.30240172147750854
2127,Changes Neutron Security Group Ports to Integers Previously_ neutron security group tcp/udp port numbers were defined as strings This was not an issue when testing with trunk but is an issue when testing with 20141b2 20141b2 expects the parameters to be defined as integers not strings When the tcp/udp ports are defined as integers_ the security group rules work with trunk as well as 20141b2 Change-Id: If7e5af163993b4cad3f31583ea73e9e856ab0ccb,0.2817672789096832
2128,"Incorrect terminology: ""layered security protection profile"" shoud be ""labeled security protection profile"" Change-Id: I2e8eae57bd72da25a9aca1839f74ceac7162563f",0.2840261459350586
2129,NSX: Propagate name updates for security profiles All the way to the controller Change-Id: I4740f632eeafdd165dbd0208e37acc85ff883925 Closes-bug: #1285845,0.21502795815467834
2130,Add security group deletion to the cleanup util Add security group deletion code to the stress cleanup utility Change-Id: I39b70da4000da1a72fff7b3384831673eb7e06f7,0.15753236413002014
2131,Make nova-network use conductor for security groups refresh This makes nova-network use the existing conductor interface for triggering security groups member refreshes Related to blueprint nova-network-objects Change-Id: Ieca163d67cd005534acb225df83457d755295af9 Related-bug: 1290568,0.2830162048339844
2132,Missing security decorators added Change-Id: I651b486ea642b7d903e2c6119b455be9f285606e,0.3459306061267853
2133,Remove sudo usage from Security Guide Remove sudo usage and adjust prompts as needed Also fix some programlisting markup Change-Id: Ic2ba237a8e04f878ef62b91be864fbaf6e6b6916,0.2668576240539551
2134,Tighten up security group port settings for broker and node Separate security groups were created for broker and node hosts Firewall rules follow documentation: https://accessredhatcom/site/documentation/en-US/OpenShift_Enterprise\ /2/html/Deployment_Guide/Network_Accesshtml Change-Id: If54f9b636e13679372bd566c8cc8dc6a08e4c7d2,0.22195440530776978
2135,"Test to update neutron security group Adding update_security_group functionality to existingmethod ""test_create_show_delete_security_group"" in test_security_groupspy Verifying if name and description of security group are updated Also using updater method from network_client_basepy for 'update_security_group' function call Change-Id: I4a8b4e9d7cecf2c760b4c26d61a97cfafac25461",0.25970929861068726
2136,fix typo in OpenStack Security Guide Change-Id: If896899f1a028f271d12ae08a772a0f7bf2a6292 Closes-Bug: #1288030,0.40878838300704956
2137,Adds Hyper-V Security Groups implementation Implements the security groups API in the Hyper-V agent Change-Id: I7556001557cd013c10b7f883dbf371afa8d09626 Implements: blueprint hyperv-security-groups,0.27493950724601746
2138,Add security context for each incommint request This patch adds a new class for security context This class is used to store important authorization information for incomming request Pecan allows to have hooks for processing requests This patch adds a new hook which extracts information from keystone auth_token_ creates a new class for security context and adds this security contects as a part of request accesible via requestsecurity_context Change-Id: I42539c06b6dc325172e90c32dabc3bd5476a628f Implements: blueprint rbac-filtering,0.12459754943847656
2139,Move db migration of ml2 security groups to havana ml2 plugin is a havana feature Currently securitygroups table are created in chain of migration after havana release It causes db migration failure when migratino from havana to current head because securitygroups table is attempted to be created although it was already created by create_all() Closes-bug: #1271231 Change-Id: If450bd95de7a5fdfdb2219cfbf7eb0c1323044bb,0.10547631978988647
2140,Add security group rules for Couchbase Closes-Bug: #1287037 Change-Id: I6529930e91cfa709bd87aa0ae97b286ec65d239c,0.18469005823135376
2141,Fix security groups wadl Change-Id: Ib0867af2e0824b2d74c3ba4e1ec3ac59e27be274,0.2183925360441208
2142,Fix security group wadl Change-Id: I5e93cad83a8a2777054ed029c059cd835f750993 author: Diane fleming,0.27308064699172974
2143,Restrict the length of the Security Group name input There is an allowed maximum length for security group name field_ but in current code_ it doesn't check or restrict that from UI side_ ie user will be able to type in more than what is allowed After form submission_ it will fail but there is no clear message telling user what caused failure After adding the code to restrict the max length of the security group name field_ user will not be able to input more than what is allowed_ thus this error will be prevented from UI Change-Id: I0f560e78e67a0259343f1a2c820270506653b254 Closes-Bug: #1279472,0.15633642673492432
2144,Fix format errors in nova security group rule list * port range was throwing exception for None to/from ports * ip_range didn't always have cidr causing error * ip_protocol None at times and looked bad Closes-Bug #1256935 Change-Id: I451a0f038a3e9646bca3f278c5d6f6d7e3097a83,0.3022189736366272
2145,DB Mappings for NSX security groups This patch introduces DB mappings between neutron security groups and NSX security profiles_ thus not requiring anymore the Neutron router ID to be equal to the NSX one This change is needed for enabling asynchronous operations in the NSX plugin Related to blueprint nvp-async-backend-communication Change-Id: I3b28d535c93cd2bfc776aabe0d99be18fce4454d,0.27795588970184326
2146,Rename Security Groups related methods for VMware NSX plugin Second to last step for the renaming/refactoring of nvplib and related modules This is about security groups Partial-implements blueprint nicira-plugin-renaming Change-Id: I0099bf25be77fdec90d515c890b728a477409ef9,0.19623319804668427
2147,add constant fo security service add constant variable for resource 'service/security' Change-Id: I29a47920a6718a6695a9ca2187fcbe92bcf46ac9,0.2307140976190567
2148,Calculate default security group into quota usage Create the related quota usage when creating the default security group for user Change-Id: Ide1de160814a5937f71e07f3ab10ce2bba8886f1 Closes-bug: 1271381,0.1420041173696518
2149,Drupal 726 security update Update Drupal core to 726 and following modules: Entity API 7x-12 -> 7x-13 Leaflet 7x-10-beta3 -> 7x-11 Organic groups 7x-23 -> 7x-24 Change-Id: I8f79f81ceaec5d892414866d11956bc58a4f954e,0.4220040440559387
2150,Removes duplicated security for instances entry This patch removes a duplicated section within the training guides for setting up security and access for instances This was reported in LP#1278310 Change-Id: Ibdf92ff8e1d46f8539d335a70e3700f16ef73284 Closes-Bug: #1278310,0.279849648475647
2151,Use lowercase section name in Neutron ML2 security group config All other security group configs in Neutron are lower-case and it should be consistent Change-Id: I683333c1e186446a69172446cca6d9b952673ed4 Closes-Bug: #1279862,0.29907095432281494
2152,Pick up security group RPC API changes The MAC address is now included with along with security group member IPs_ as per this change [1] We have to update the networking-hyperv sg driver_ which currently an IP string instead of a tuple [1] I2e3aa7c400d7bb17cc117b65faaa160b41013dde Change-Id: I35a6318ed31e02c1986d65860cc0ddb9d744de8d (cherry picked from commit 11be493f4458e695f5a5e4c8db833c3206cf4b44),0.2650715708732605
2153,Pick up security group RPC API changes The MAC address is now included with along with security group member IPs_ as per this change [1] We have to update the networking-hyperv sg driver_ which now currently an IP string instead of a tuple [1] I2e3aa7c400d7bb17cc117b65faaa160b41013dde Change-Id: I35a6318ed31e02c1986d65860cc0ddb9d744de8d,0.2340724766254425
2154,Improve handling of security group updates Currently updates to security group rules or memebership are handled by immediately triggering a call to refresh_firewall This call is quite expensive_ and it is often executed with a very high frequency With this patch_ the notification handler simply adds devices for which the firewall should be refreshed to a set_ which will then be processed in another routine which is supposed to be called in the main agent loop This patch for 'provider updates' simply sets a flag for refreshing the firewall for all devices In order to avoid breaking other agents leveraging the security group RPC mixin_ the reactive behaviour is still available_ and is still the default way of handling security group updates Partial-Bug: #1253993 Partially implements blueprint: neutron-tempest-parallel Change-Id: I1574544734865506ff5383404516cc9349c16ec4,0.2953948378562927
2155,Fix Security Group Rule creation examples Resolves Bug #1277719 Change-Id: I2ed4193d4401da9014161e7b58d833a630a51fd8,0.28720587491989136
2156,Configure security group when using ML2 plugin Since the ML2 plugin can concurrently support different L2 agents (or other mechanisms) with different configurations_ Neutron developpers recommend setting firewall_driver flag in ml2 configuration Change-Id: I62d0d1b2aac88a11e5f3e80e98953c71cfc98629 Closes-bug: #1262678 Signed-off-by: Emilien Macchi <emilienmacchi@enovancecom>,0.1557987630367279
2157,Don't pass empty security groups in port creation Skip the security_groups argument when the list is empty_ as it can break some neutron extensions not supporting security groups Change-Id: I970af48953d91182401f67f2483add51485a6f48 Closes-Bug: #1271112,0.24417470395565033
2158,Fix xml response for create/update security service Changed xml template for create/update security service from SecurityServiceTemplates to SecurityServiceTemplate Closes bug 1269829 Change-Id: I07f2847b8897cfbc2ee3e1952709925c3c056774,0.32656288146972656
2159,Add 'password' field to the security service Change-Id: I8a6d146645b33d7baff52902b7187b09cdbdf63a,0.23114240169525146
2160,"Add more terms to Security Guide Glossary Add the missing ""Acccess control item"" and also add new entry for DAC Change-Id: Ib2103c1410d6f2c38e89cf5bf5c2130f0786934e Closes-Bug: #1269452",0.25196728110313416
2161,Create security group rule with additional args This patch adds a case to verify creating security group rule with additional args works Change-Id: Ie50ac9f9260514dd093b8a5e81b5a2fe9c03437c,0.20602335035800934
2162,Fix icmp security group rule creation Previously invalid icmp rules were created which lead to incorrect duplicate detection When valid rules are created duplicates are correctly detected so rally does not attempt to crate the same rule twice Change-Id: Ia1262f3595b679e267ff1a9cb7cfe9f31e02c2b8 Closes-Bug: #1268687,0.17824916541576385
2163,Configure security group when using ML2 plugin Since the ML2 plugin can concurrently support different L2 agents (or other mechanisms) with different configurations_ Neutron developpers recommend setting firewall_driver flag in ml2 configuration Change-Id: I62d0d1b2aac88a11e5f3e80e98953c71cfc98629 Closes-bug: #1262678 Signed-off-by: Emilien Macchi <emilienmacchi@enovancecom> (cherry picked from commit 59cf3eb0a22c220509ec80c345bbf064f85374ad),0.1653919517993927
2164,Filter wadl on security before profiling Some security attrs can be lost when going to path format Change-Id: Ic92602a20239ff72c06e8e563445c7062161a6d8,0.13782726228237152
2165,Add security groups tables for ML2 plugin via migration Copy the migration from revision 3cb5d900c5de Change-Id: Ie0f6f14d69e896727715ecce573b81275c7869dc Fixes-Bug: #1263304,0.16063150763511658
2166,Python SDK: keypairs & security groups How to use the Python SDK to work with keypairs and security groups Change-Id: I1a129cc37e841f5b123c446b66d0f4c6817f2485,0.12453354895114899
2167,Fix invalid port range in security group rule create An earlier commit introduced a change that creates security groups In the rules for tcp and udp_ ports 1-65536 are allowed This is incorrect_ it should be 1-65535 This patch corrects this error Bug: 1264635 Change-Id: I83a7471ebf6d3d3bfeff6b16a051880d876370b1,0.3032084107398987
2168,Document security group when using ML2 plugin Since the ML2 plugin can concurrently support different L2 agents (or other mechanisms) with different configurations_ Neutron developpers recommend setting firewall_driver flag in ml2 configuration Change-Id: I7f97128a955ded99400e25a5ef9a990260df3bf7 Closes-bug: #1262678 backport: havana Signed-off-by: Emilien Macchi <emilienmacchi@enovancecom> (cherry picked from commit 4c5d9ba37bb2cebedb05aabab3452a5e0005f985),0.16420572996139526
2169,Document security group when using ML2 plugin Since the ML2 plugin can concurrently support different L2 agents (or other mechanisms) with different configurations_ Neutron developpers recommend setting firewall_driver flag in ml2 configuration Change-Id: I7f97128a955ded99400e25a5ef9a990260df3bf7 Closes-bug: #1262678 backport: havana Signed-off-by: Emilien Macchi <emilienmacchi@enovancecom>,0.1616310477256775
2170,Added command for security group Change-Id: I351eadc237946d48b3f2c4a13a8aa5ad43babffb Closes-Bug: #1261575,0.27971601486206055
2171,Fix unable to add allow all IPv4/6 security group rule Previously_ if one tried to add a rule to allow all ingress ipv4 neutron would respond that the rule was already part of the security group This happened as the filter for querying existing rules uses a wildcard for remote_group_id thus returning a false match This patch addresses this issue Change-Id: I0320013a3869d25fb424995354721929465d2848 Closes-bug: #1252806 (cherry picked from commit 9335ffd7c3eaad0d66d7d19e7760ae12476a5ea2),0.30468976497650146
2172,Add testcases for security groups Adds tests for those GET API functions that accept params List_security_groups Nova API Skip security groups list by 'all_tenants' search filter test if neutron is enabled because neutron do not support 'all_tenants' search filter Change-Id: I5867acd03c3d184911281c673ce804455f269f57 Partial-Bug: #1086590,0.18753226101398468
2173,"Typo in Security Guide Neutron Flow image There was a typo in the Neutron flow image in the security guide document Lists one of the flows as a ""Tentant API"" rather than ""Tenant API"" I modified the png image and pushed as part of this commit http://docsopenstackorg/security-guide/content/ch033_securing-neutron-serviceshtml Change-Id: I1ec822972f25fd62cc9a5077975f7b556db10664 backport: havana Closes-Bug: 1253832 (cherry picked from commit a712006543421fe866eb9e6a9d3475ca336a003f)",0.4313602149486542
2174,"Typo in Security Guide Neutron Flow image There was a typo in the Neutron flow image in the security guide document Lists one of the flows as a ""Tentant API"" rather than ""Tenant API"" I modified the png image and pushed as part of this commit http://docsopenstackorg/security-guide/content/ch033_securing-neutron-serviceshtml Change-Id: I1ec822972f25fd62cc9a5077975f7b556db10664 backport: havana Closes-Bug: 1253832",0.42394405603408813
2175,Fix unable to add allow all IPv4/6 security group rule Previously_ if one tried to add a rule to allow all ingress ipv4 neutron would respond that the rule was already part of the security group This happened as the filter for querying existing rules uses a wildcard for remote_group_id thus returning a false match This patch addresses this issue Change-Id: I0320013a3869d25fb424995354721929465d2848 Closes-bug: #1252806 (cherry picked from commit 9335ffd7c3eaad0d66d7d19e7760ae12476a5ea2),0.30468976497650146
2176,Fixed domain security rules * Added UDP:53 Change-Id: Ia8fa50d669ab2c312dd16ede8b03adebdacdf619,0.1576644480228424
2177,Raise better exception if duplicate security groups Fixes bug 1161472 Change-Id: I285bedbb2e0b3f4cd24cfa3a9b17131ad0200afa,0.26301950216293335
2178,Added Active Directory security rules TCP port 53 is now open for internal traffic within the environment (restricted by env's subnet CIDR) Change-Id: I22198b1f84c4ec35c658482b73b14b4ad3aa1f61 Closes-bug: #1259472,0.10245705395936966
2179,Fix reference in Security Guide This is the first paragraph of the chapter_ the reference is to the previous one Change-Id: I31f4841ddbb1277b9e4161ee76b06ea4581ff2e2 Closes-Bug: #1253794,0.3761135935783386
2180,Fix unable to add allow all IPv4/6 security group rule Previously_ if one tried to add a rule to allow all ingress ipv4 neutron would respond that the rule was already part of the security group This was occuring as the query filter to the db would wildcard remote_group_id thus the default rule which allowed all IPv4 traffic to members of the same group was being matched (which wasn't a match) This patch addresses this issue Change-Id: I0320013a3869d25fb424995354721929465d2848 Closes-bug: #1252806,0.30127280950546265
2181,Added Doc Convention to Security Guide (In progress) Change-Id: I8310331f48399310d1a5d7af88bd91fba20ea89c Partial-Bug: #1121866,0.3541788160800934
2182,add some negative tests for security group: - test_create_default_security_group - test_create_sg_rules_with_non_existent_sg Change-Id: Ica468bc0c41845050505a636a2add47b586fcac3,0.15666981041431427
2183,Add security groups and security group rules extensions Closes-Bug: #1128531 Change-Id: I81bac979e38e04074c92ba477ee69db44b6cfa9d Author: Diane Fleming,0.2670556902885437
2184,Rename metering to Telemetry in Security guide Change-Id: I585cb3d2eec31c8fa501e883cd9f3a25e6c4ba34,0.22651752829551697
2185,Fix default port of MS SQL in security group template Change-Id: Id20538faa81b730be90b115c6c8c119aeb5a08ee Closes-Bug: #1250029 (cherry picked from commit 038b5b80208a8b1837e5a2e0efd16676a842c59a),0.24036985635757446
2186,Rebind security groups only when they're updated Update the security port bindings for a port only when they actually differ from the stored value This will also avoid sending port_update notifications to the agent even if nothing actually changes in the port configuration Closes-Bug: #1255183 Partial blueprint: neutron-tempest-parallel Change-Id: I00c29dc97c46478433fdf08069a884bb78e5cd0a,0.23263272643089294
2187,Fix capitalization in Security Guide Change-Id: I861da5aa8cf4eba2c785f6bdc9979e4994624dd6 Closes-Bug: #1253834,0.3416443169116974
2188,Update security group to match dashboard Fixes bug #1253796 Change-Id: I6f264b4c0b0b3dbad222dc6a9d4888ab2e53f747,0.3964495062828064
2189,Added security groups Change-Id: Id13a0348747368d7bea9178b0414b9780a728653,0.2953547537326813
2190,Fixed AD/SMB security group assignment Change-Id: I6f85a2f0dcb54f3ab15e578f650ab2a52ce47dac,0.2034142017364502
2191,Fixed default security group for Windows services Change-Id: Ia0ab5a388b1da8fb8285cc2a31037cd361206afb,0.268717885017395
2192,Fix headings in Security Guide Partial-Bug: #1250515 author: diane fleming Change-Id: I38aad628ec24475a25cba151a2d056a0f60a8a95 backport: none,0.4151337146759033
2193,Print security groups as a human readable list Convert the security group list into a list that is more suitable for printing Change-Id: I411d9256145986fad7659a9377494e29a6d70ced,0.12453199923038483
2194,Fix default port of MS SQL in security group template Change-Id: Id20538faa81b730be90b115c6c8c119aeb5a08ee Closes-Bug: #1250029,0.1960267573595047
2195,Make metadata server use objects for Instance and Security Groups This makes the metadata service fetch an Instance object to do its work_ and use the SecurityGroupList object to avoid calling directly to conductor's API for those two things Related to blueprint compute-manager-objects Change-Id: Ia12f48227eb2380f5da93313cd4045577d8857c9,0.2015385627746582
2196,Make virt/firewall use objects for Security Groups and Rules This makes the virt/firewall module use SecurityGroup and SecurityGroupRule objects instead of relying on virtapi and conductor for these operations Related to blueprint compute-manager-objects Related to blueprint virt-objects Change-Id: I39cb9422cb15e6222f5009f64706f1528035f42d,0.1496437042951584
2197,Fix bug in Security Group association to Instance * Refactor of security groups to TaskManager left out an assignment that is required for the security_group to be attached to an intance fixes bug 1245767 Change-Id: I161d50b2ddb50dbf25eb67e10414425f098b9979,0.3151412308216095
2198,Respect security for generic controllers Change-Id: I80cdc4609cb1e977018721db3e37d1d0e217bde2,0.24087847769260406
2199,Document security group properties AWS::EC2::SecurityGroup Change-Id: I92e602159efc3e877d084827ab5cbf9cdd4cabdf Closes-bug: #1224149,0.2652757465839386
2200,Resolve issue with security groups Change-Id: If5964c98b5a0f4cc6e408ab040597968f722096c,0.28534621000289917
2201,Fixed cleanup for security groups Change-Id: I79d57bba4b7f3d3abc422fc3b8800b4412327321,0.39622852206230164
2202,Add security group to large_ops test There have been some issues with performance around security groups in the past Lets make sure they don't exist We gate on test_large_ops as part of gate-tempest-devstack-vm-large-ops Change-Id: Ib655deab9fc12df969b47552d7d8edc999c0d06a,0.19754090905189514
2203,Bug#1231243- Added project security groups/rules information Added dashboard and CLI pages for managing project security groups and rules New pages added into existing 'manage projects' pages as xi:includes Change-Id: Ic7ae98fc3d2e09e81de61e100f76de1065f775ff Partial-Bug: #1231243,0.31410133838653564
2204,Retrieve security group quotas from Neutron if enabled Secuirty group quota information in Project overview charts_ Admin defaults panel_ and Admin create/update project is retrieved from Neutron secuirty group is enabled Neutron security group is enbled when Neutron is used Neutron security group extension is supported by a backend plugin Also removes the logic to remove quotas of floating IP and fixed IP when neutron is enabled in dashboards/admin/defaults/tabspy quotasget_default_quota_data() already handles it properly and this logic is no longer required Closes-Bug: #1212600 Change-Id: I59f069931fad519ca4ec135b92df0040ec8fc230,0.22053542733192444
2205,Ensure that security group agent is bound prior to accessing When the Neutron agents start and the security group agent callbacks are not registered there may be exceptions Fixes bug: #1232758 Change-Id: I4c1ff96b8acfcee4c84a73c9400040c96f8418a9,0.2345869541168213
2206,Fixes Bug 1157993 Add add/remove security group actions for server Change-Id: I54c6c06fbddd5836a00252442fb7766922658496,0.34338659048080444
2207,Fixes Bug 1157993 Add add/remove security group actions for server Change-Id: I8f90dc8d76a6d57ef99d22d4ad4b03a044eb1d3c,0.33523571491241455
2208,Fixes Bug 1157993 Update for add/remove security groups to server Change-Id: I3792a5857675cebc16aa505c4acb108e80fa5109,0.39758265018463135
2209,Change hard coded numbers to constants in security group tests Security groups tests in Neutron contain a lot of hard coded HTTP return codes and protocol numbers These should be changed to use constants Change-Id: Ibecff3821c54f12848a05648f35381a0c73a0896 Fixes: Bug 1218928,0.3038746416568756
2210,Determine security group API dynamically This commit removes enable_security_group from local_settingspy and determines which security group API should be used (nova or neutron) Closes-Bug: #1227804 As described in bug 1203413_ there is a case where Nova security group with Neutron driver causes a problem The type of 'name' attribute in add_security_group_to_instance and remove_security_group_from_instance depends on the backend_ integer for nova security group driver and UUID for quantum security group driver to make it work as expected enable_security_group config parameter produces a situation where Nova security group with Neutron driver We can avoid this situation by removing this parameter when using Horizon Change-Id: I713c6ad166e142929f0a708e93a8fedb0de48640,0.22270306944847107
2211,Fix SecurityGroupsOutputTest v3 security group tests SecurityGroupsOutputTest was testing with security_group_api set to neturon instead of nova In addition_ this patch fixes the tests to match the v2 tests which tested more then the name matching 'fake' Fixes bug: 1229515 Change-Id: I5b1de35add3b8a131b9077c1c9396ae70d2faefa,0.29313549399375916
2212,Fix security group entrypoints Change-Id: I0590dde67b1121523d03742ce57093f2c5bacc72,0.3020135760307312
2213,Do not apply security groups to logical ports Security groups rules were applied to logical ports and this caused Floating IP not to work correctly Correct some typo Change-Id: I174e60f8eb8a4d00b71fffc127e2d2d36836835d Closes-Bug: #1221336,0.17667119204998016
2214,Added Default Murano Security group (workaround for MRN-630) A new security group (called MuranoDefaultSecurityGroup) added This group has tcp ports 22 an 3389 open_ as well as icmp enabled All murano-deployed instances are added to this group SQLServer instances additionally are added to MsSqlSecurityGroup Change-Id: I7cec5a44d95ae9e24a631a13504859125c01bbb5,0.11851533502340317
2215,Fix links for cloud-admin-guide and security guide Change-Id: I54b0d768fe17c6cb32e5552087743837f6a94692,0.38551533222198486
2216,Update URL of Security Guide The guide is not publishing to trunk anymore_ fix URLs Change-Id: I25a26279057530ec14bddab1598e87c31b530adc,0.38093477487564087
2217,Remove /trunk/ from URL for High Availibility and Security Guides Change-Id: Id6297abbf967bb6671d44c7864cf712b200e94c9,0.2606225609779358
2218,"modifies error message in adding security rule Because the information on the type of input data is outputted in ""validate_ip_protocol"" method_ I removed the information on the type and modified error message Closes-Bug: #1224210 Change-Id: I697d38ce7da8ff403a391747264eb59db30dd545",0.20461836457252502
2219,Update Security Guide paths Update path for security guide to follow rename Change-Id: I494c5c0bf5ef932995a0304967eb533878257559,0.35811373591423035
2220,OpenStack Security Guide glossary Change-Id: I3c60cb33dc0d27b7cd4ce794c592fb2e182028ad,0.32394635677337646
2221,Add HSTS and cookie security to dashboard example config Adds reccomended settings from https://bugslaunchpadnet/ossn/+bug/1191050 https://bugslaunchpadnet/ossn/+bug/1191051 http://docsopenstackorg/developer/horizon/topics/deploymenthtml#secure-site-recommendations to the configuration instructions for HTTPS Change-Id: I1b41b3bee0d884ca3d29a1f2667e5b55070131cb Closes-Bug: #1210409,0.2677217721939087
2222,"Support Security Group Name Prefix Customization As of now_ if CONFtrove_security_groups_support == True_ then a Security Group is created for every new Instance_ following the naming scheme of: ""SecGroup_<Instance's UUID>"" Nicira NVP for Quantum enforces a Security Group naming limitation of 40 chars maximum Given the UUID's length_ this only leaves 2 characters for the prefix_ eg 'SG' vs 'SecGroup' Even in lieu of restrictions_ it's not inconceivable that a vendor/user might want to customize the naming scheme of their Security Groups to align with other cloud providers_ etc Change-Id: I1043e15c71607cabe2fd6f72f64705e80cd2cde1 Closes-Bug: #1218589",0.1894480586051941
2223,Associate security group with default rule based on Trove config with instance: * Config-based parameters for turn on/off rule addition * Adding specific config values responsible for security group rule Change-Id: I254aca213ae40326ed6e9c00bc35d63ff0805c9f Fixes: bug #1176095,0.1288665533065796
2224,Make security groups associated with Neutron port work The security group names are now translated to UUIDs which is required when using the python API The lookup has been improved to find existing security groups not part of the stack as well Fixes bug #1179481 Change-Id: I4f86bade87f89b867d12822c5f80aa5b075b7fbb,0.3185250163078308
2225,Add interface for listing security groups of an instance This is already available in nova but not exposed via client * novaclient/v1_1/serverspy: New interface to list security groups of an instance * novaclient/v1_1/shellpy: New sub command list-secgroup * novaclient/tests/v1_1/fakespy_ novaclient/tests/v1_1/test_serverspy_ novaclient/tests/v1_1/test_shellpy: Add corresponding tests Change-Id: I505bcffdbb15b84bfd73cae5ef5a8fb9c69bd7b9,0.12403715401887894
2226,Add schema for security group rule This applies to the SecurityGroupEgress and SecurityGroupIngress properties of the AWS::EC2::SecurityGroup resources Change-Id: I339227190db42707560f00cc825bc791d2bde5ce Fixes: bug #1214333,0.27665504813194275
2227,Add update method of security group name and description make it possible to edit the name and description of common security groups_ we can not rename the default Change-Id: I62ec1edc310fd5b3ffc2ad232e64c7090c1d38e4 Fixes: bug #918393,0.2834235727787018
2228,Add preface for security guide So far_ the history was not shown for this manual and there was no formal preface Add a preface that just display the revision history Change-Id: I6ad31990db80be68c66fb65fbdff3948bba63e17,0.26245611906051636
2229,Support for SourceSecurityGroupId and SourceSecurityGroupName properties This patch covers both for the Nova and Neutron security groups Change-Id: Ic12512dfb4375ccccbe1282bb48b80cde16ceb9d Fixes: bug #1193415,0.4418479800224304
2230,"Cleanup: Add common ""create security rule"" methods There are many ""create security rule"" methods in each scenario test_ their behavior are almost same They creates security rule which is loginable/reachable to a server with ssh/ping For code-cleanup_ this patch adds two common methods The first is for adding the rule to the specified security group The second is for adding the rule to ""default"" group Change-Id: I4e2ebd099b7373948c82abf86615a85db055c7c5",0.24687008559703827
2231,Skip more security group tests until bug 1182384 is fixed This patch builds on change I3f0d21c23661f556354c321476ba559d4925dccd which skipped a couple of tests that are failing in nova if neutron is configured The previous patch missed a couple of other tests that fail for the same bug This patch skips those other failing tests for the same bug Related-Bug: #1182384 Change-Id: I4f191f21232f9e58ad09456261fb6247d64f22b5,0.3928423821926117
2232,Fix Instance objects with empty security groups This makes sure that a DB instance with an empty list of security groups does not result in an object with an unset attribute_ thus triggering a lazy load on access (and ultimately an exception) Related to blueprint compute-api-objects Change-Id: Ib33b05853e9d067cbac5d3e87824a68e9935b822,0.18178632855415344
2233,Make fake_instance handle security groups This makes the fake_db_instance() helper create model-like security group objects in the returned instance if a list of names is specified This is required to test anything that uses security groups on the instance Related to blueprint compute-api-objects Change-Id: I4a7d91c939af8c0dc4e0b3e29c477a859d85fd3e,0.06199643760919571
2234,[MP2P] Amend default security group post migration Ensure the expression captures both migrated ports and newly created ports Change-Id: I0664d7aee37430f4d1c31aac408b2528430e6ab7,0.14827990531921387
2235,[MP2P] Amend default security group post migration Ensure the expression captures both migrated ports and newly created ports Change-Id: I0664d7aee37430f4d1c31aac408b2528430e6ab7,0.14827990531921387
2236,[MP2P] Amend default security group post migration Ensure the expression captures both migrated ports and newly created ports Change-Id: I0664d7aee37430f4d1c31aac408b2528430e6ab7,0.14827990531921387
2237,[MP2P] Amend default security group post migration Ensure the expression captures both migrated ports and newly created ports Change-Id: I0664d7aee37430f4d1c31aac408b2528430e6ab7,0.14827990531921387
2238,Fix incorrect PDF link in security book web page Change-Id: Idc526ae91914631a74f40c5bfdfcd3d30fab9db9,0.30666813254356384
2239,Check whether the security group id is integer Fixed Bug 1206847 Change-Id: I2194d6538a5c5475b876ee026b5d625be2df076f,0.29490429162979126
2240,Add security groups to the server POST request examples Update the server POST request examples (both JSON and XML) so that it creates a server that belongs to the sg1 security group Change-Id: I4879aa817b3675fc3e5e3fb04ee696f1f0ff15b4,0.17546379566192627
2241,Avoid performing extra query for fetching port security binding Bug 1201957 Add a relationship performing eager load in Port and Network models_ thus preventing the 'extend' function from performing an extra database query Also fixes a comment in securitygroups_dbpy Change-Id: If0f0277191884aab4dcb1ee36826df7f7d66a8fa,0.1727563440799713
2242,Add security group commands * Add security group: create_ delete_ list_ set_ show * Add server: add secgroup_ remove secgroup * Add security group rule: create_ delete_ list * Adds RangeAction() to handle option arguments of either a single number or a range of numbers: '--port 25' or '--port 1024:65535' Blueprint: nova-client Change-Id: Iad2de1b273ba29197709fc4c6a1036b4ae99725f,0.11895615607500076
2243,Set horizon configuration for security groups Fix bug #1206271 Change-Id: I33a530265be1e5ab9181e605eb4b7c3bf1fdf9c4,0.2943490445613861
2244,Moved security groups tests into security_groups package * Moved test_security_group_of_servers into security_groups package so that it is only run with other security groups tests Change-Id: I449b5bdce3dc7bd25815e89159b630413f97bb19,0.36301398277282715
2245,Allow ::/0 for IPv6 security group rules Nova fails to create a security group rule if ::/0 is used as value for the cidr field Fixes: LP bug #1199943 Cherry picked from https://reviewopenstackorg/36556 Change-Id: Ifce53dbc9f0740337921491aa752900892f47052 Signed-off-by: Rosario Di Somma <rosariodisomma@dreamhostcom>,0.15992507338523865
2246,Use default cidr to avoid exception when editing quantum security rules $ quantum security-group-rule-create --direction ingress --protocol TCP --port-range-min 80 --port-range-max 80 web After creating security group rule with command above_ An exception is thrown when editing the rules for groups web Fixes: bug #1165095 Change-Id: If32992622ebc20559dde911455b241937eb59ae6 (cherry picked from commit 706560f6d230334d645ce97301631baaa5c56095),0.14252805709838867
2247,Added tests for security group rules 1 Test to create and delete security group rule 2 Test to add security group to server/ Change-Id: I611cb93eb9b47b657949b5966468103712a7cea2,0.21338295936584473
2248,Modifies Security Guide for final Lulu print capability: edit pomxml to make the PDF crown quarto page size without a front cover edit indexhtml landing page for security guide so people can buy it Change-Id: Ied9be78fcfce4ccfae2a5d4e4d284d0d34b2947b,0.13408376276493073
2249,Nova fails to create a security group rule if ::/0 is used as value for the cidr field Fixes: bug #1199943 Change-Id: Ifce53dbc9f0740337921491aa752900892f47052 Signed-off-by: Rosario Di Somma <rosariodisomma@dreamhostcom>,0.18776081502437592
2250,Makes pomxml file for Security Guide on par with Ops Guide Means chapter numbering changes from previous Change-Id: I12fedcf8e899bca4e160bdc8e7385804dce79d8b,0.2030549794435501
2251,Removes pagebreak processing instructions that broke the Security Guide build Change-Id: Ia7662220e375054471da3912393ae3d77f94547e,0.33175361156463623
2252,Retrigger Security Guide build_ rename bookxml to make like others fix bug 1201625 Change-Id: I89d8bdae8ffe478a4741eeb9c21b2e50f425d480,0.2890251874923706
2253,add link to the pdf version of the book add link to the html version of the book add link from doc front page to security guide Change-Id: If38a5048693150351dd296d54952febc98105fd3,0.1775377243757248
2254,"Neutron Security Group native support blueprint quantum-security-group Rule table view * Add direction and ethertype columns (which are specific to Neutron) It may be better to hide ""Direction"" and ""Ether Type"" columns unless Quantum security group is enabled * Merge ip_protocol/from_port/to_port into one column for better view * Use ""::/0"" for IPv6 ANY instead of ""0000/0"" * Rename ""Source"" column to ""Remote"" (The naming ""source"" does not fit egress rules) * Display security group name in the title of rule detail view Rule creation form * New arguments 'direction' and 'ethertype' in security_group_rule_create() * Set the default value of 'direction' to 'ingress' in formshandle() * Rename 'ip_protocol' to 'rule_menu' and 'source' to 'remote' Note that rule_menu is retrieved from ruleip_protocol in the unit tests since they are tests for custom TCP/UDP/ICMP rules Network abstraction layer for security group management * Move security group methods to apinetwork * Add Neutron security group API implementation * Move base classes for network abstraction to a separate module (api/network_basepy) to avoid circulated import between apinetwork and apinova/apineutron Add a configuration parameter to control Neutron security group support * Neutron security group support is enabled when Neutron is enabled and enable_security_group in OPENSTACK_NEUTRON_NETWORK in settings is True * Not all neutron plugins support security group_ so we need a way to control neutron security group is enabled or not * It can be determined by supported extension list from Neutron and it is a possible future work Move get_int_or_uuid to openstack_dashboard/utils/filters * get_int_or_uuid is now used in security_group implementation as well as floating IP logics * In addition the depth of the directory tree becomes longer and it is hard to fit the import line in 80 chars It is a good chance to move it to a common directory Add __repr__ to API**Wrapper to make it easier to debug Limitations: Neutron supports per-port security group security groups can be associated with a port instead of an instace and each port can have a different set of security groups It is not a scope of this BP and is a future work Change-Id: I5410e88043a364596037b9ebcc566cd50b317614",0.15057812631130219
2255,Add bios for security guide authors Remove the light hearted nicknames for each author and replace with bios Leaves the book with a more polished and professional feel Change-Id: Ica885881460da8eea1b507617d0201085ca8b931,0.15721240639686584
2256,Fix Jenkins job that's failing for Security Guide Looks like it's 1 trying to pick up on the grizzly branch and 2 trying to get the pomxml from the wrong place Not sure how to fix 1 but this fixes 2 There's no copy of the Security Guide in the stable/grizzly branch of openstack-manuals Fix bug 1197632 Change-Id: I694d23ed96b43aaa9b12406f217f74975b1b06ac,0.36286771297454834
2257,Configure a heat security group for testing ssh This test was relying on the default security group allowing port 22 access_ which is not a default configuration This change adds a dedicated security group to allow the ssh connection Change-Id: Ie3b0439b80ab29451f17f63f36cf8aab29f80740,0.16215991973876953
2258,Port security groups extension to v3 API Part 2 This patch contains the changes required to adapt the security groups extension and the corresponding unittests to the v3 framework In v3_ the management of security groups will be handled by the networking service API However_ the dis/association of security groups with instances still needs to be handled by Nova This change removes the security group management code and ports the dis/association code to v3 Partially implements blueprint nova-v3-api Change-Id: I617eee5660447bc61518b89eed73ce394f7435a2,0.27519893646240234
2259,Port security groups extension to v3 API Part 1 This changeset only copies the v2 implementation file into the appropriate v3 directory unchanged The copy as-is will not be loaded by either the v2 or v3 extension loaders The second changeset will then make the changes required for it to work as a v3 extension This is being done in order to make reviewing of extension porting easier as gerrit will display only what is actually changed for v3 rather than entirely new files Partially implements blueprint nova-v3-api Change-Id: I9cf1fb168283f9c76bac622d20719ac1bf7eb648,0.24984025955200195
2260,Adds new openstack Security Guide build job Change-Id: I7cda80339dd3d36337e27b807a52d45a7a29e51a,0.37911152839660645
2261,Basic cleanup for security guide pdf This is the result of a pass over the guide to fix some of the conversion errors and other minor page layout issues in the pdf generation from the new docbook source I also added company affiliation for the authors list Fixes: bug #1199516 Change-Id: I5035d790e29ee17d83f3b4966aa08917278a6870,0.30965617299079895
2262,Initial drop of the OpenStack Security Guide in docbook form Change-Id: Ic536a07e242fcc583c938a68f0beee0601189c5c Fixes: bug #1197579,0.3326050043106079
2263,Web landing page for new OpenStack Security Guide - Currently only includes link to epub file - Will update / uncomment when pdf / lulu is setup Fixes: bug #1196797 Change-Id: Ib9f82e043a462020193d66b3c77f93baeda3e14f,0.3018513023853302
2264,Updating API docs: Adding instance id to the security group extension API Fixes bug 1190410 Change-Id: I7f4fb6145e62733e9e674a710dd7b67c7708938b,0.26889169216156006
2265,Adding instance id to the security group extension API - Secgroup list now show their corresponding instances - Secgroup get also show its corresponding instance Fixes bug 1190410 Change-Id: Ifb7b1c9be741fca221267243b86ce0d91b994015,0.175287663936615
2266,Add unique contraints for security groups - Add uniqie contraint (project_id_ name_ deleted) for security_groups - Define new SecurityGroupExists exception - Drop security_group_exists() in favor of catching SecurityGroupExists exception for security_group_create() Change-Id: Id9a1427587cc9250942d0abd9eafc69861352d9b,0.11270429193973541
2267,Skip security group code when there is no network This patch adds a simple check to the nova/quantum API that immediately returns an empty list if there are no configured networks available Fixes bug 1191044 Change-Id: I34ac4dd56c71f99c7ed9ff632d6dc7036d91008d (cherry picked from commit 8f3b3db9b04bb5ff7b9486dc6fc211745b983855),0.19931648671627045
2268,1 Added list-security-group and add-security-group methods to server client 2 Refactored security group request classes 3 Added delete-security-group-rule method to security group rule client Change-Id: Ie0c4e6525b6f4066a8e31b4f1028e5baa94118b4,0.19915422797203064
2269,handle 'not found' exceptions from security group api drivers The SecurityGroupAPI has semantics to raise 'not found' exceptions when a security group isn't found During a server create request_ a driver (eg quantum driver) may raise HTTPNotFound and left unhandled_ the create request returns 'not found' Because server create is a compound request_ in order to return 'bad request' but keep SecurityGroupAPI semantics intact_ we can handle the 'not found' exceptions from drivers and raise the matching nova exception in those cases Fixes bug 1183347 Change-Id: I7177183154b4c41037623f443cf9958ac457a020,0.1521274298429489
2270,Fix XML security group rule client The client ignored cidr and group_id It also did not handle None values for several of the parameters Fixed both_ refactored the rule creation method Fixes: bug #1191856 Change-Id: I0aa28bc50e9991d0381f0b0d7e3edb05f8e90591,0.23170411586761475
2271,Added support for security group rules api 1 Create model and client 2 Added unit tests 3 Added integration tests Change-Id: I26af15fac975a3b3266e404fab08defd49795e23,0.18967559933662415
2272,Add update method of security group name and description make it possible to edit the name and description of common security groups_ we can not rename the default Change-Id: I559f2fa09c1f205d3bbe7352fc169152e6b38586 Fixes: bug #918393,0.28934234380722046
2273,Handle security group quota exceeded gracefully Handle the security group quota exceeded more gracefully so a traceback is not generated in the log files when this error occurs This does not change the API as the HTTP status code returned remains the same Fixes bug 1182859 Change-Id: Id3ac513048751759f01b328482b4f02e26ff66ee,0.2234218716621399
2274,Renaming security group URL API - Renaming API to match openstack Fix bug # 1187181 Change-Id: I0462a2805a7329689bacf594ecd00cb911651004,0.31475475430488586
2275,Renaming security group URL API - Renaming API to match openstack Fix bug # 1187181 Change-Id: I00d63c6fb40391de78d4a517fe9ff11e486f75a8,0.31107932329177856
2276,Add security group rule templates Add a variety of common port mappings in a dropdown to help users add security rules Change-Id: If7422c21eae56580f0fc2403cb08ba25655a73a4 Implements: blueprint security-group-rule-templates,0.12816423177719116
2277,add firewall driver if we use quantum security group fixes bug/1179820 we must set firewall driver if we want to use quantum security group because quantum will disable security group if we do not change the default firewall driver Currently devstack will not change the default firewall driver if we just running quantum server on a node which will cause nova unable to security group information Change-Id: Ie274325decbf252630a237ed3d6ee3136eb259fe,0.20351535081863403
2278,get_instance_security_groups() fails if no name on security group The following patch fixes a bug in get_instance_security_groups() where it tries to access security_groups['id'] but security_groups is a string This patch also removes some stubs that were not needed in a few unit test Fixes bug 1182738 Change-Id: Ia64db2e40d4a0e163344b4234112dbde71b1e132 (cherry picked from commit 5d40fb635b1abac3828245124e392a4c9af52f60),0.3060743510723114
2279,100% test coverage for security groups and rules This patch achieves full test coverage for security_group and security_group_rules by: - Fixing the arguments used in test_invalid_parameters_create - Testing the __str__ and delete methods of SecurityGroupRule - Adding a test for the ___str__ method of SecurityGroup Change-Id: I9cfbc68761f158754aa4b339238d29cc587c91e1,0.2699100375175476
2280,Add update method of security group name and description make it possible to edit the name and description of common security groups_ we can not rename the default Fixes: bug #918393 Change-Id: Id6e02cd1054452889282b3ff4fb04b2071980cc8,0.31358054280281067
2281,Use default cidr to avoid exception when editing quantum security rules $ quantum security-group-rule-create --direction ingress --protocol TCP --port-range-min 80 --port-range-max 80 web After creating security group rule with command above_ An exception is thrown when editing the rules for groups web Fixes: bug #1165095 Change-Id: If32992622ebc20559dde911455b241937eb59ae6,0.11704155057668686
2282,Fail validation when security groups and interfaces conflict The 'SecurityGroups' property of the instance is not taken into account by Nova when the 'NetworkInterfaces' property is also defined Instead the security groups should be applied to the network interface resource(s) This issue has already raised a couple of invalid bugs on Launchpad Change-Id: I5ae2ba356518d391893c2a479c5952b13b6e8d55,0.22184553742408752
2283,get_instance_security_groups() fails if no name on security group The following patch fixes a bug in get_instance_security_groups() where it tries to access security_groups['id'] but security_groups is a string This patch also removes some stubs that were not needed in a few unit test Fixes bug 1182738 Change-Id: Ia64db2e40d4a0e163344b4234112dbde71b1e132,0.30411380529403687
2284,Use UUIDs for Quantum security groups Quantum security groups are referenced by ID and supports duplicate names_ so having the ID available helps to avoid searching for it when needed Change-Id: Idff9245b9848083029dd47fb2253a64b0c5de523,0.13021035492420197
2285,Fix networking and nova security group config Per bug 1183721 the defaults have nova do the configuration_ and should be changed for OpenStack Networking Change-Id: Ie9093f6372df013016235ee8569946c0688125c2,0.2653409242630005
2286,Add update method of security group name and description make it possible to edit the name and description of security groups Fixes: bug #918393 Change-Id: I7b9dd3f9ad2f59aee1b37e06350ce8f5e3a40f64,0.29568061232566833
2287,Add update method of security group name and description make it possible to edit the name and description of common security groups_ we can not rename the default security group Fixes: bug #918393 Change-Id: I7003c47e054f032572adbb901be4dbc61839b695,0.30341836810112
2288,Cleanup nova subcommands for security groups and rules The Changes include: - Sanity check for from_port_ to_port_ and IP protocol when adding a security rule - Print one more column 'Id' for security groups - If there are multiple security groups with the same name_ the group can't be deleted unless an ID is specified However_ there is no code to search and delete security group by ID So_ _get_secgroup() will get group by ID if the input is like a UUID If not found_ then get group by name - Some corresponding changes for help messages - Test case changes after adding sanity check Change-Id: Ibd82d8404bdd64e4bca2f8b25756bfaff7b28194 Signed-off-by: Shane Wang <shanewang@intelcom>,0.22589734196662903
2289,get_security_groups now creates default security group If one called get_security_groups() previously the default security group would not be created until the tenant created a network This exposed a bug when an admin creates a shared network and a tenant tried to boot a vm on it without having any networks Fixes bug 1171997 Change-Id: I899203424c03353a1ee6567c9ddbaecd7dc25001,0.18288064002990723
2290,Allow admin to delete default security groups Previously there was no way to delete a default security groups which isn't ideal if you want to clean up after deleting a tenant This patch allows default security groups to be deleted by the admin Fixes bug 1175393 Change-Id: I2214c7dabf0f2ec960ce10ebbbcdc513bc73664c,0.23253953456878662
2291,Fix quantum security group driver to accept none for from/to_port The quantum security group driver did not accept none values for from_port/to_port which the nova security group api supports This patch allows None values to be passed in for those params and adds a unit test In addition the from/to_port responses would be different if using quantum instead of nova This patch fixes that and adds unit tests Fixes bug 1176027 Change-Id: Id57e253c9dd1787ee25fc5cbb562743692d7abe4 (cherry picked from commit 78e2e2128992527407f99743340692ef3be75210),0.2781572937965393
2292,Adding test_security_groups_exceed_limit and test_security_groups_rules_exceed_limit A negative test which verifies that creating security groups and rules cannot exeed limits Change-Id: I5c49eb16750bce5dcaad4481e48ee3400cab4ce4,0.17409460246562958
2293,Fix quantum security group driver to accept none for from/to_port The quantum security group driver did not accept none values for from_port/to_port which the nova security group api supports This patch allows None values to be passed in for those params and adds a unit test Fixes bug 1176027 Change-Id: Id57e253c9dd1787ee25fc5cbb562743692d7abe4,0.22581039369106293
2294,get_security_groups now creates default security group If one called get_security_groups() previously the default security group would not be created until the tenant created a network This exposed a bug when an admin creates a shared network and a tenant tried to boot a vm on it without having any networks Fixes bug 1171997 Change-Id: I899203424c03353a1ee6567c9ddbaecd7dc25001,0.18288064002990723
2295,Perform a joined query for ports and security group associations bug 1174111 Instead of loading security group associations with a separate query each time a port is loaded from the database_ perform the load operation with a join using a joined sqlalchemy relationship Also_ this patch removes the need for invoking the mixin method 'extend_port_dict_security_group' from the plugin code Change-Id: I40b22281d45ff4f4bf8149211883799a9051c1a0,0.17133817076683044
2296,Allow admin to delete default security groups Previously there was no way to delete a default security groups which isn't ideal if you want to clean up after deleting a tenant This patch allows default security groups to be deleted by the admin Fixes bug 1175393 Change-Id: I2214c7dabf0f2ec960ce10ebbbcdc513bc73664c,0.23253953456878662
2297,NSX|P: Fix port security update for network Change-Id: Id576ea0bc2e9c3dff1f1ba683ba26f1e30dded44,0.30748802423477173
2298,NSX|P: Fix port security update for network Change-Id: Id576ea0bc2e9c3dff1f1ba683ba26f1e30dded44,0.30748802423477173
2299,NSX|P: Fix port security update for network Change-Id: Id576ea0bc2e9c3dff1f1ba683ba26f1e30dded44,0.30748802423477173
2300,Query quantum once for instance's security groups This patch adds the method get_instance_security_group_bindings() which returns all the instance_id's and security groups for a given tenant This method is then used to avoid querying quantum for it's security groups when using GET /v2/<project_id>/servers/detail Fixes bug 1161518 Conflicts: nova/tests/api/openstack/compute/contrib/test_security_groupspy Change-Id: Ia28d5573c264f0316ab9fb257ca8e7ae35679883,0.19900009036064148
2301,Add missing security group quota settings to quantumconf Fixes bug 1164154 Change-Id: I32d1952fcc11559cc01c0dbde11de558b2a0b1fb,0.21657726168632507
2302,Initial add of security tests * Added basic create/delete security group test * Corrected name of keypairs test class Change-Id: I7f5e09a4ff50b1fcb463e4bba3df4971f8c2253a,0.25156697630882263
2303,Add basic client support for security groups Change-Id: I3b0a41f124c021892bed83d4d70c7637b467870f,0.23011060059070587
2304,Update api-doc with Security Groups related API information Added Security Groups and Security Group Rules as entities and related API calls to the Reddwarf API Docs Change-Id: I87c03e221086ce320626b827b28dfc3f52401ffe,0.2457529604434967
2305,Add missing security group quota settings to quantumconf Fixes bug 1164154 Change-Id: I32d1952fcc11559cc01c0dbde11de558b2a0b1fb,0.21657726168632507
2306,Skip security groups w/ no protocol When using Nova w/ the new Quantum security groups driver security groups can exist which have no protocol Theses entries cause ERROR: 'NoneType' object has no attribute 'upper' when you try to delete other (editable) security groups This patch updates novaclient so that it skips over entries with no protocol when determining which security group to delete This fixes novaclient so that deleting *any* security group works when the new quantum security group driver is enabled Fixes LP Bug #1162622 Change-Id: Ida07b6429eae988a9a64535381082a500f31a521,0.25470006465911865
2307,Query quantum once for instances security groups This patch adds the method get_instance_security_group_bindings() which returns all the instance_id's and security groups for a given tenant This method is then used to avoid querying quantum for it's security groups when using GET /v2/<project_id>/servers/detail Fixes bug 1161518 This patch also fixes another bug when using the quantum driver where instance_sgs would be assigned to all the instances when nova list was called which resulted in all the instances appearing that they were part of the same security group A unit test was added using different security groups and multiple instances to prevent such regrestion Change-Id: Ia28d5573c264f0316ab9fb257ca8e7ae35679883,0.18023645877838135
2308,quantum security group driver nova list shows same group When using the quantum security group driver nova list shows the same security group for all instances This patch fixes this and corrects the unit test that was hinding this bug Fixes bug 1162077 Change-Id: I7a10f81af1bb6c93f634dc0de27841afe0f1f0ea,0.21341730654239655
2309,quantum security group driver nova list shows same group When using the quantum security group driver nova list shows the same security group for all instances This patch fixes this and corrects the unit test that was hiding this bug This also adds a unit test to check that the default security group is added to the response when not specified Fixes bug 1162077 Change-Id: I7a10f81af1bb6c93f634dc0de27841afe0f1f0ea,0.2249038815498352
2310,"Added support for Security Groups via a new extension - Added migrate changes for new database artifacts - Added models for Security Groups and Security Group Rules - Definition and addition of Controllers for API - Views for Security Groups and Security Group rules - Extended taskmanager to use newly created Security Group on instance creation_ and to clean it up on deletion if extension is enabled - Added new flag to conf to enable ""reddwarf_security_groups_support"" - Integration tests Implements blueprint: security-groups Change-Id: I44053359c12e53a9e549bd334e628ecd249d8ba0",0.18269215524196625
2311,Fix adding security groups to an existing instance Commit 4c34f5f1e8c66e4a865cf7996b283509feb91b71 introduced a regression making it impossible to add a security group to an existing instance In the javascript membership module_ make sure new members are still assigned the default role even if the role dropdown is not displayed (as is the case for the instance security group add/remove view) Fixes bug 1158037 Change-Id: I986f7296e97a08d5e9141fe0739d4e028e066fc1 (cherry picked from commit 64c0ddfa7a5189d4523a31d78cd97dc1ea2151a1),0.3541257381439209
2312,Fix adding security groups to an existing instance Commit 4c34f5f1e8c66e4a865cf7996b283509feb91b71 introduced a regression making it impossible to add a security group to an existing instance In the javascript membership module_ make sure new members are still assigned the default role even if the role dropdown is not displayed (as is the case for the instance security group add/remove view) Fixes bug 1158037 Change-Id: I986f7296e97a08d5e9141fe0739d4e028e066fc1,0.329985648393631
2313,Updated TYPE_MAP for security group rules Updated TYPE_MAP for security group rules so that from_port and to_port are correctly identified as ints for XML Fixed bug:1160238 Change-Id: I432c7f01fc16c476d6452a4ac4e219dbfa6d0388,0.2038573920726776
2314,update enable_ping_and_ssh example to include quantum security groups Fixes bug 1158527 Change-Id: Ic7d74ea90ab85a9531821e9e20a990e9a50da375,0.3103489875793457
2315,Support Quantum security group Added Q_USE_SECGROUP flag for quantum security group Change-Id: Ifd155798912247d85a9765ef73a2186b929237b4,0.2567470073699951
2316,Client Side Changes for Security Groups Support - Added new secgroups command with the following options - list - get - add_rule - delete_rule - Added corresponding calls into the REST API Implements blueprint: security-groups Change-Id: Ie6d4bc2ce31dc18f172e92efa46ccdeea3e0a22a,0.20013466477394104
2317,Handle None protocol in security group rule table Default Quantum security groups come in with a protocol of None via nova Horizon chokes when it tries to uppercase what it expects to be a unicode string Replace None with 'Any' when displaying the value Fixes bug 1156922 Change-Id: I94a534e829ecdbe75f785eb8fc750260aacd6dfc,0.2178487330675125
2318,Add a test to list the security group rules * Create two rules for the security group * List the rules_ there are created in the security group Fixes bug 1145626 Change-Id: I04924651cf904a9346f6ed31308a60d4c8a17f74,0.19762924313545227
2319,Update port-create with how to add security group(s) to port Fixes bug 1098363 Change-Id: I04efb9c0f1493944eab3365a737ba09e88c5a365,0.30620336532592773
2320,Fix security groups (need to be accessed as attributes) bug 1134193 Thanks Lukas Barton for the patch in the bug Signed-off-by: Angus Salkeld <asalkeld@redhatcom> Change-Id: I448ba76fcf47d4e02775ff8eca38897eb399a3cc,0.28185534477233887
2321,Add explicit egress rules to nvp security profile The following commit 7e26074b changed the previous behavior of quantum security groups by explicitly adding egress rules to the security profile When these rules are removed the vm is no longer able to send traffic out This patch adds these rules for NVP One thing to note in the patch is that now a bunk rule of IPv4 127001/32 is added to each security profile The reason for this is by default NVP security profiles allow all egress traffic until a rule is added and then it just lets traffic matching those rules out Adding this bunk rule achieves this behavior that quantum now uses Fixes bug 1150378 Change-Id: I005880fcf39d539ae99be428d75c43cc0b39a7b6,0.17275866866111755
2322,Notify creation or deletion of dhcp port for security group fixes bug 1103840 Change-Id: I8031bc607a874871a8081575bce1526b3453aff6,0.27186936140060425
2323,Remove security group handler info from doc Since we are not upstreaming the nova security group handler that proxies security group calls from nova to quantum this part of the doc should be removed The nova security group proxy which proxies security group commands directly to quantum without having to go through the nova database will replace the functionality Fixes bug 1088304 Change-Id: If95bc2c6a656ed4bd1bf64f2f799c379f6ee4bca,0.33275702595710754
2324,Add support for security group quotas Fixes bug 1149286 Change-Id: I7db9416c00296dfefdbf8fef880154c05fa2445a,0.27272534370422363
2325,Implement rules_exist method for quantum security group driver Originally I thought the quantum security group driver should not enforce rules exist on the nova-api side and instead it should just forward the request to quantum which would return the error That said there is no extra cost to doing this on the nova-api side as nova-api already queries for the group before adding the rule In addition_ rules_exists() is used in revoke_security_group_ingress() for the ec2 compat APIs so this needs to be implemented This patch moves create_security_group_rule() and rule_exists() from nova/compute/apipy to nova/network/security_group/security_group_basepy as the same code can be leveraged in both places Fixes bug 1136345 Change-Id: I444ffc2b53b30ed496b6e3250433d14f316e594d,0.1779364049434662
2326,Make ip_protocol parameter in security groups rules case insensitive Added convert ip_protocol to uppercase Added tests Fixes: #1052725 Change-Id: I966ddad0800556b1cc848003d07d4a897ce1b9c1,0.2151646912097931
2327,Allow admin to edit project quotas for security groups and rules Fixes bug 1078092 Change-Id: I1018f07f740b7e27e14fb00bac4c3cce177469e2,0.22372077405452728
2328,Remove external_id and security group proxy code This can be merged after the blueprint nova-quantum-security-group-proxy merges since that removes the need for this code Implements blueprint remove-external-id-and-security-group-proxy Change-Id: I62f8d7d4161f8a1308ae80029effaa46b6d661a3,0.26142945885658264
2329,Prevent default security group deletion This patch adds a check to confirm that a security group name is not among a list of 'special' group names before proceeding with security group deletion Change-Id: I5656e01b4ed3fd9c22abe6a731edaef7203d97c4 Fixes: 1131830,0.2765171229839325
2330,Add missing ec2 security group quantum mixin Fixes bug 1131441 Change-Id: Ifc25e1a9eb113cd28a5a5ed9d277480c262cd7f3,0.2963608205318451
2331,Add Nova quantum security group proxy Implements blueprint nova-quantum-security-group-proxy Change-Id: I21d70f1dc8e61d6412d14e30ab2aa1a83a711de2,0.2704133987426758
2332,Refactor nova security groups to allow to them to be more plugable Change-Id: Ib183515a0418203c8bcc88176e3a1498d7333300,0.19418653845787048
2333,Add support Quantum Security Groups for Ryu plugin fix bug #1124965 This patch add support security-groups extension to Ryu plugin Change-Id: I569ab1e48517f28a5103175fd04e848f82eb2a3c,0.24723407626152039
2334,"Default sg rules for the Security Group ""Default"" Added in the API os-security-group-default-rules This allows create_ delete_ list_ and get (of individual rules) for rules that will be pre-populated into the Security Group ""default"" that is populated in all projects on creation These rules will not be applied retroactively_ as it is designed to allow the creation of a ""reasonable"" base-line set of sg rules The new rules live in a separate table that mirrors the relevant structures of the security_group_rules table Related to bp default-rules-for-default-security-group DocImpact Change-Id: I7ab51e68aff562bb869538197a0eca158fc3220c",0.19218486547470093
2335,"Fixes a race condition on updating security group rules during instance creation During creating the instance_ compute manager makes an rpc call to ""allocate_for_instance"" from the network manager_ which will in turn end up making a rpc cast to each compute_manager with an instance in the group(s) than need to be refreshed calling refresh_instance_security_rules When an instance is being created is in a group that has a rule referring to itself_ that chain will end up trying to refresh the rules for the instance which is still being created That call will find its way down to do_refresh_instance_rules() in libvirt/firewall - which will in turn try to get network_info from the global ""network_infos"" in firewall But the entry in network_infos for this instance might not of been added yet_ as that only happens when the create of the instance calls ""prepare_instance_filter which comes later in the sequence as part of driverspawn The fix here adds a synchronisation lock to the incomming refresh call so that it is blocked until any in-progress thread on the instance is finished Change-Id: I550e286aa4777b011633550109e18e03d63a4bbb",0.11792290955781937
2336,"Support add/remove security groups to instance Changes the edit instance dialog into a workflow_ and adds a step ""Edit security groups"" that reuses the admin:project add/remove user dialog Changes: - Allow ""roles"" dropdown to be hidden - Moved project members template into horizon/common - Moved workflowspy to workflows/create_instancepy so I could add a workflows/update_instancepy - Moved hardcoded UI text from js to template/workflow definition - Made filter-fields use placeholder attributes - Fixed the #add_remove being added to the URL bar when adding/removing members - Fixes the project members modal getting stuck displaying the lists from the first invocation of the modal and never updating (try clicking ""modify users"" for different projects) Implements blueprint add-security-group-to-instance Change-Id: If2939e05c92ac50bfc3c6f0112bdfc1785d9fb4e",0.19712737202644348
2337,Improved security group rule editing Splits rule editing and rule creation out so that rather than being on one modal form (which is dismissed after taking any action on the rules) they are instead contained in their own security group detail view_ with create/delete as their own discrete forms/actions which return to that same view This also reworks the form to be more explicit and user-friendly in terms of the various options provided_ making it more responsive_ and making it better documented Incidentally fixes some problems in the documentation Implements blueprint security-group-rules Change-Id: I866dd4fe0c74148140422aab9172be4f496689a9,0.17866913974285126
2338,Support iptables-based security group in NEC plugin blueprint nec-security-group This commit also refactors RPC API and callbacks in the plugin and agent to support security group RPC Change-Id: I09d69ca3aff43e0468bbd5df6367de767af27acc,0.1740822196006775
2339,"Adds API Access information to Access & Security panel What this does: * Makes the Access & Security panel use tabs for each of the tables instead of trying to shove them all inline * Adds an ""API Access"" tab to the above set of tabs * Combines the features of the API Endpoints table_ the EC2 Credentials download and the OpenRC file download into the API Access tab mentioned above * Uses the service ""type"" instead of ""name"" in the Endpoints table to be nicer about service API abstraction Fixes bug 1065671 and fixes bug 1120627 Change-Id: Iccc65b32d37dc97a96538443cf8c5c08fcea7250",0.16883429884910583
2340,Add default pod security policies This commit adds default pod security policies We need this pod security plugin Starting pod security plugin without any policies will result in all pods being denied These default policies prevent the user from putting the system into an unusable state if they accidentally enable pod security policies without adding policies first Story: 2007351 Task: 38897 Change-Id: Iac49f81ef44e6cb82ff884717888dfc1a7cd2a45 Signed-off-by: Jerry Sun <jerrysun@windrivercom>,0.252219557762146
2341,Add new default roles in security group policies This adds new defaults roles in security group API policies - GET rules are made granular and default to System or project reader - add/remove sec grps policies are default to system admin or project member Also add tests to simulates the future where we drop the deprecation fall back in the policy by overriding the rules with a version where there are no deprecated rule options Operators can do the same by adding overrides in their policy files that match the default but stop the rule deprecation fallback from happening Partial implement blueprint policy-defaults-refresh Change-Id: I83783aa3384d3b667729bbdd4a13fb014176ec75,0.27999135851860046
2342,Update how to remove security group from port in quantum This patch corrects the documentation for how security groups are now removed from ports in quantum Change-Id: I850ffe00d893165a4ddc7adcbefc59a41153a4e7,0.3509276211261749
2343,Implements quantum security groups support on OVS plugin implements bp quantum-security-groups-iptables-ovs - Adding [SECURITYGROUP] firewall_driver to the conf - Adding NoopFirewallDriver - Adding OVSHybridIptablesFirewallDriver - Refactoring security group code to support OVS plugin Change-Id: I7aabc296265afc47d938121543ace57cce6cc521,0.1325395405292511
2344,Allow ability to remove security groups from ports This commit adds the option --no-security-groups to port-update in order to remove security groups from a port Fixes bug 1112089 Change-Id: I43a5cc2c8b443f2d34fffe66b442925a5ae312ac,0.3059156537055969
2345,Add NVP Security group support Implement blueprint security-groups-nvp Change-Id: Idfa7a756c7a2845e9aa9e7de4c7bceeec94b036f,0.18919876217842102
2346,Make protocol and ethertype case insensitive for security groups Fixes bug 1104495 Change-Id: I0d93f5e849ebe0be72fff8c1d82f5825540df338,0.26433831453323364
2347,Add NVP port security implementation Implements blueprint nvp-port-security-extension Change-Id: I9f09424b963acb4f4847d11e9a98432094f8c164,0.21032112836837769
2348,Make get_security_groups() return security group rules In nova_ get_security_groups() returns the security groups and their security group rules In order to implement the security group proxy it needs to return this data to nova This can be done using multiple requests from nova-api to quantum ie: get_security_groups()_ then get_security_group() for each group to obtain the rules If one has a lot of security groups this will generate a lot of requests Adding this change allows all the security groups and their rules to be returned in one shot Fix bug 1105399 Change-Id: Ib685960311221ac4e5fe0913c7e00e15ab74accb,0.22468984127044678
2349,Adds port security api extension and base class Implements blueprint port-security-api-base-class This patch also updates the _create_network/port in the unit tests so that it does not remove false values from arg_list Fixes bug 1097527 Change-Id: I22b55b0ed56c830995ffb491176c801c697abe6f,0.3053855299949646
2350,"Object write/read ACL and few security testcases Adds six tests cases to ""test_object_servicespy"" and one test case to ""test_account_servicespy"" and these are few security test cases and which also contains three tests cases to check the object read/write ACL This submission also contains required class modifications in account_clientpy and object_clientpy Basepy of /tests/object_storage has also been modified accordingly to use the same in respective test scripts Change-Id: I88abc7979e8b1ab76e4de41827cc8069fd844dbb Implements: blueprint add-swift-security-tests",0.1311078667640686
2351,Display security group name in security-group-rule-list It is useful to display security group name rather than its id for security_group_id and source_group_id Also add '--no-nameconv' option to disable conversion from security group id to its name When security-group-rule-list is executed by admin user it is likely more than one groups have same name This option is useful for such cases Change-Id: I7fd0f1fb26fce8ed24e0f710666866607e681bc8,0.2231370210647583
2352,Handle existing security group rules in volume exercise Change-Id: I0aa3bc0c6179f92a12c1e9bbace61597778ffa1f,0.11068786680698395
2353,add migration support for lb security groups This is a companion change for the security group models Change-Id: If8a75004ddb4e20fb8491529ac7098828edb5c7d,0.17614895105361938
2354,Iptables secuirty group implementation for LinuxBridge Implements bp quantum-security-groups-iptables - Added firewall driver - Added iptables based firewall driver - Implemented security groups for rpc support mixin classes Change-Id: I974d2f1cae75ce4a55c2b5d820a0b42ff5661309,0.07319700717926025
2355,Add security groups configuration to allow accesses to VMs Fixes bug 1082990 This commit contains minor clean up of command line options and tunes column width of some tables to make it easier to read Change-Id: I9269a1ceaa04ff8a58c3e40d7442ad00b4286c44,0.24577748775482178
2356,Added conf support for security groups Modified the way novacomputeapiAPI loads the security group API Previously it would accept a named-parameter and if that was None_ default to SecurityGroupAPI It still accepts a named-parameter but if that is None_ then it will attempt to load the API from CONF_ and then default to SecurityGroupAPI The basic use-case should not be altered by these changes Implements: blueprint nova-securitygroups-expansion Change-Id: Ib252a0755f320289c3c7cb6518d55e63d3392789,0.2007034718990326
2357,Fixed the security group port binding should be automatically deleted when delete_port Added the CASCADE setting for the security group port binding database model Also removed unused variables and imports Fixes: bug #1080887 Change-Id: Id1af121b6ee57b794cb515a0b0c26b9a6310fbc4,0.19117030501365662
2358,Adds support for security group/rules quotas Updates novaclient's quota and quota_class handlers to support the security_groups and security_group_rules quotas that are now in Nova Fixes LP Bug #1084682 Change-Id: I04d90681d535124d7d497e06e8c1ea4f2cb8f4f4,0.21622666716575623
2359,Documenation for Security Groups Change-Id: I2c766fabf3f0e1b08dfce101b34a69bebeace5bc,0.30696314573287964
2360,Fix exception when security group rule already exists Fixes bug 1082842 Change-Id: I5f51c3637903ff817fb47af82419c453094eb5be,0.28863203525543213
2361,Add security impact email notifications Fixes bug #1070577 Make the notify_impact script generic so that it can handle different types of notifications Then add a SecurityImpact notification Change-Id: Id4bbf7db29e36dde783328e31685079e79d0b1e9 Reviewed-on: https://reviewopenstackorg/14856 Reviewed-by: James E Blair <corvus@inaugustcom> Reviewed-by: Jeremy Stanley <fungi@yuggothorg> Approved: Jeremy Stanley <fungi@yuggothorg> Tested-by: Jenkins,0.25537818670272827
2362,Move security groups and firewall ops to VirtAPI This patch moves the following network security-related methods to VirtAPI: security_group_get_by_instance() security_group_rule_get_by_security_group() provider_fw_rule_get_all() In order to make this change_ the _provider_rules() method of the FirewallDriver was changed from being a staticmethod to a regular instance method All uses of it were in the context of an actual instance_ so I saw no reason to keep it static_ which would have complicated the use of the VirtAPI methods Change-Id: I260c96b6aa4bbab694b74087f704b6405360b0bf,0.17991037666797638
2363,Add fullstack tests for stateless security groups Change-Id: I0ecb52ef78a2fc264d1d5d29366c56ecf4503bb7,0.23294992744922638
2364,improve text around vif-plugging and security filters Change-Id: I2488c7af5cb5748b1de84a86edf148faecbc2104,0.08752258867025375
2365,Quantum Security Groups API Implements blueprint quantum-security-groups API In addition the the convention that if a URI has a '-' in it_ it's replaced with a '_' For example: POST security-groups will convert the body to {'security_group': } Change-Id: I2c5219ed1d44a43ce1bf03d49df9f5c1af23352b,0.15428897738456726
2366,Deleting security group does not mark rules as deleted Adds query to also delete rules for parent_group_id Fixes bug 1056380 Change-Id: I3d041b49703bf298a80d2ebe19c1298eecf2d98d,0.21001404523849487
2367,ip_protocol for ec2 security groups fix for bug 1057196 -Enforce restrictions on IP protocol in AuthorizeSecurityGroupIngress call This value may only be: 'tcp'_ 'udp'_ 'icmp'_ '6'_ '17' or '1' -Ensure that ip protocol returned from DescribeSecurityGroups is in lower case_ in case security group was set improperly in previous versions -Update EC2APIError in nova/exceptionpy to remove the HTTP error code from the message The HTTP error code is inserted in novaapiec2faultsFault Inserting the code in the EC2APIError causes the HTTP code to appear twice in the message -Update unit tests to expect new error message when invalid protocol is entered -Fixing pep8 issues Change-Id: Iffe0f38abde327288e6a3960a72ad6a273f78aca,0.34674492478370667
2368,ip_protocol to lower case fix for bug 1057196 Make the ip_protocol for security group lower case This is needed for ec2 compatibility Change-Id: Iffe0f38abde327288e6a3960a72ad6a273f78aca,0.27313703298568726
2369,Deleting security group does not mark rules as deleted Changes filter to use parent_group_id instead of group_id Fixes bug 1056380 Change-Id: I3d041b49703bf298a80d2ebe19c1298eecf2d98d,0.24105392396450043
2370,All security groups not returned to admins by default Fixes bug 1046054 Previously security groups relating to all tenants were returned when requested by an admin user Now only those groups related to the current tenant are returned by default To recover the old behaviour_ the all_tenants search option may be specified via the native API with: /v2/<project_id>/os-security-groups?all_tenants=1 or via the EC2 API with: Action=DescribeSecurityGroups&Filter1Name=all-tenants&Filter1Value1=1 Note that the latter is slightly ultra vires with respect to the EC2 API spec_ in the sense that this filter is in addition to the standard set Since we don't pay attention to many of these standard filters as yet_ this stepping slightly off-piste is deemed worth it Change-Id: I6157e408394d04096d21747d665e3b3aa6aa55de,0.25134775042533875
2371,Add security groups extension to API samples test Change-Id: Ie7635cacf96e0bafbd412ff40d7912aa0da4677d Signed-off-by: Matthew Treinish <treinish@linuxvnetibmcom>,0.20784002542495728
2372,add command for Add icmp tcp/22 to default security group Change-Id: Ic4aa7a310638dc42d77a78a521344a6c1c804191,0.21015673875808716
2373,fix issues with Nova security groups and Quantum bug #1039400 - make quantumv2/apipy fetch actual DHCP server address_ which is needed by firewall layer (otherwise_ the gateway IP is incorrectly used and all DHCP traffic is dropped) - add missing call from quantumv2/apipy to the security groups API when a VM is allocated/deallocated - Add a vif-driver that is a hybrid of the existing Open vswitch + linux bridge drivers_ which allows OVS quantum plugins to be compatible with iptables based filtering_ in particular_ nova security groups Change-Id: I7cf5cf09583202a12785b616d18db3ee4bbffee0,0.20727744698524475
2374,Clean up security groups in exercises * fix problem with deleting security groups too early in floating_ipssh and eucash * create and clean up security groups * cosmetic cleanups Change-Id: Ie45e03f889c540ec83f27a02b10e787060c5d4d7,0.25089913606643677
2375,Avoid leaking security group quota reservations Fixes bug #1043765 If you attempt to create a security group where one already exists using that name_ a security groups quota reservation is leaked Fix by ensuring the reservation is rolled back in all failure cases Add a check to the tests to ensure that a reservation isn't leaked in any of our sad path tests for security group creation Change-Id: I22d6e4a0452d3ac7a23056b0a4aee6f7dd135e30,0.2467309832572937
2376,Fixes LP Bug# 930482 - Test for security -tenanid by pass Change-Id: Idd6b6d0b7086ddf7682cfa6ac94daf5020a9eb82,0.2968882918357849
2377,Correct checking existence of security group rule Fixes bug #900031 Change-Id: I4194610ce53d1c74bd99b6878339da6e0b6a3a73,0.324302613735199
2378,Making security group refresh more specific Fixes bug 1029495 The trigger_members_refresh method in computeapipy specifies a group id in the call to refresh_security_group_members This is just the last group id seen and ignores the fact that a refresh may impact members of multiple groups This is masked by the fact that on the host the group id is ignored and all instances have their security rules refreshed regardless of if they are part of the changed group or not This change modifies the logic surrounding refreshes so we send a refresh request for each instance which is affected by a security group change_ this ensures we aren't spending time refreshing unaffected instances and also removes the possibility of refreshing an instance multiple times if it is a member of more than one group Change-Id: Iec98e9aed818fdc4ecc88c8dcdd4ee5fa9386e00,0.2612316608428955
2379,Moves security group functionality into extension partially implements blueprint disable-server-extensions This patch adds an output extension for security group output and modifies Duplicated security group funcrtionality was removed from the createserverext extension_ it is now a duplicate of the servers endpoint The boot_from_volume extension was also changed to inherit the servers functionality so that security_groups will continue to work The block_device_mapping code will be modified in a subsequent patch Tests were added for new functionality_ and existing tests were modified slightly The disk_config extension was modified to be a bit more lenient so the data for it doesn't need to be mocked out in other tests Change-Id: I59bd985d68b85ce6926cde85fbc38cfad4e75f4c,0.2732051908969879
2380,Fix up protocol case handling for security groups Fix bug 985184 When creating security group rules_ any case for the protocol was accepted as input_ such as TCP_ Tcp_ tcp_ etc_ and was stored in the database as specified However_ unless specified as all lowercase_ the code to apply the rules would break and result in some rules not being applied (cherry picked from commit ff06c7c885dc94ed7c828e8cdbb8b5d850a7e654) Change-Id: I36af1db29c2bd97627d614df21b5da07db29a8ab,0.21709299087524414
2381,Allow security group rules to have their own group as a source Fixes bug 1012457 Change-Id: I8f9dc6904ba4b19302551fae7455fdf41b50442e,0.23250913619995117
2382,Ensure 413 response for security group over-quota Fixes LP 1021748 Instead of raising the relevant webobexc exception directly_ we now follow the usual pattern of mapping in the FaultWrapper middleware from an internal exception type to the corresponding HTTP error Change-Id: Ifb43685e4f9b0b5bd53e74747d1f87aa5e119fb5,0.22306624054908752
2383,Add support for modification of instance Security Group Change-Id: Ie4196281a34a83316425eada871865e4a33fab5d,0.23167243599891663
2384,Introduce scope_types in security groups policy oslopolicy introduced the scope_type feature which can control the access level at system-level and project-level - https://docsopenstackorg/oslopolicy/latest/user/usagehtml#setting-scope - http://specsopenstackorg/openstack/keystone-specs/specs/keystone/queens/system-scopehtml Appropriate scope_type for nova case: - https://specsopenstackorg/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refreshhtml#scope This commit introduce scope_type for security groups API policies as: - ['system'_ 'project'] for security groups policy Also adds the test case with scope_type enabled and verify we pass and fail the policy check with expected context Partial implement blueprint policy-defaults-refresh Change-Id: Idf504dee1280017f3a39ad7d9c71110476fe9b45,0.19603875279426575
2385,Enable back mac spoofing and disabled port security tests We can enable back the mac spoofing test because [1] has been merged [2] Because of [1] we can now rollback [3] to make port security tests with disabled security works [1] https://bugzillaredhatcom/show_bugcgi?id=1805709 [2] https://patchworkozlabsorg/patch/1258152 [3] https://reviewopendevorg/#/c/708852/ Change-Id: I008f3ce08346520b415f6db41419a69d472350a9,0.2341972440481186
2386,Add test coverage of existing security groups policies Current tests do not have good test coverage of existing policies Either tests for policies do not exist or if they exist then they do not cover the actual negative and positive testing For Example_ if any policy with default rule as admin only then test should verify: - policy check pass with context having admin or server owner - policy check fail with context having non-admin and not server owner As discussed in policy-defaults-refresh_ to change the policies with new default roles and scope_type_ we need to have the enough testing coverage of existing policy behavior When we will add the scope_type in policies or new default roles_ then these test coverage will be extended to adopt the new changes and also make sure we do not break the existing behavior This commit covers the testing coverage of existing security groups policies Partial implement blueprint policy-defaults-refresh Change-Id: I212a91dc4b6c2eed9c6522d56ae672618311d346,0.2188151776790619
2387,Fixes bug #1016042 - New tests for security groups Change-Id: Ic0695db8f4f254b78c569b5bcaa053465e9f38bc,0.342631459236145
2388,Added iptables_manager ( based on openstack/linux_netpy ) This module will be the base library to implement security groups and generic firewall It is an independent iptables module_ made to be easy to package if used by agents and also inside quantum Using quantumagentlinuxutils Added support to root_helper Change-Id: Iaa29322477fc2e753b52dc4f01e7c4a561110638,0.15555043518543243
2389,Handle missing server when getting security groups Fix bug 1010486 Treat InstanceNotFound as a 404 when querying the security groups of server that does not exist Also removes old exception translation_ ApiError no longer exists and NotAuthorized shouldn't need handling at this level Change-Id: Iaeada84dbadc232968f792c6f4855bf61cc5a5ae,0.22604477405548096
2390,Dedupe native and EC2 security group APIs Reduce the code duplication in the native openstack and EC2 APIs related to security groups_ by factoring commonality into a new internal SecurityGroupAPI Change-Id: Ifb92bf5d0f07d5713818a3eee6175ef03e8c0b7c,0.2481282651424408
2391,Prevent erroneous log message when accessing security rules Fixes bug 1009797 Change-Id: Ic8f627610b235c5d71a210800b3318619715106e,0.22229459881782532
2392,Fix up protocol case handling for security groups Fix bug 985184 When creating security group rules_ any case for the protocol was accepted as input_ such as TCP_ Tcp_ tcp_ etc_ and was stored in the database as specified However_ unless specified as all lowercase_ the code to apply the rules would break and result in some rules not being applied (cherry picked from commit ff06c7c885dc94ed7c828e8cdbb8b5d850a7e654) Change-Id: If737104f492aacd3688f04d78eb9bc993ffa33fc,0.2135934680700302
2393,Fix up protocol case handling for security groups Fix bug 985184 When creating security group rules_ any case for the protocol was accepted as input_ such as TCP_ Tcp_ tcp_ etc_ and was stored in the database as specified However_ unless specified as all lowercase_ the code to apply the rules would break and result in some rules not being applied Change-Id: I6c723d371579eb37a94bd484d39beeb773668ed4,0.20582158863544464
2394,Fixing security group create success message Fixes bug: 1009260 Change-Id: I2eb546450f24ffa44334c02f6a1b96c7502a6ee9,0.3315863013267517
2395,Allow [:print:] characters for security group names Fixes bug #1000673 Change-Id: Id1b23d6a0f8d328f65b66f947e8937fa1914a5db,0.233833909034729
2396,Fixes lp978896 -- Session fixation security fix Rotates session tokens on logout_ and properly clears sessions to prevent data leakage Change-Id: Id11054e852b8c8a386756e9de980cb5eff64f228,0.24552372097969055
2397,Fixes lp978896 -- Session fixation security fix Rotates session tokens on logout_ and properly clears sessions to prevent data leakage Change-Id: I52d03576d07b1e023a7730857156d0da1887b1df,0.24219639599323273
2398,Implement quotas for security groups Fixes LP Bug #969545 for Diablo Change-Id: Ibc02256b6debd29c56307320acc48e9cfae85ba9,0.2074590027332306
2399,Implement quotas for security groups Fixes LP Bug #969545 for Essex Change-Id: I3c6a34b43f0e997b45d5e0f97faadd6720bf7752,0.19323991239070892
2400,Implement security group quotas Fixes LP Bug #969545 Change-Id: I60d4300aa04597e2d8b0eea31ab0303b0b3c48f9,0.20088648796081543
2401,Fix bug #907643 : security group docs are incorrect Change-Id: I315b43aa58e84bbee76032c921a2650e4537541e,0.4446004629135132
2402,Adding security groups to api site documentation Change-Id: Idb9607cfc613007f6148bd5b94a088622651b68b,0.25906261801719666
2403,Tweak security port validation for ICMP Horizon allows for ICMP to be type:code Type and code can be from -1 to 255 API refers to both EC2 and Nova APIs This patch attempts to resolve: 1 API code throws exceptations when 0 is passed for either field 2 API code validates type:code like from->to range type and code are independent 3 Update unit tests for this new set of operations A side effect is that the following are allowed type:code -1:X X:-1 The code assumes that -1 is a wildcard for the field bug 956967 Change-Id: Ieb6989815afc6986b72e0efc7611c2cc353ab5d8,0.2398257851600647
2404,Re-instate security group delete test case While fixing lp#956366_ we realized that it's fine to delete a security group referenced by an ingress rule of another security group because the ingress rule gets deleted Re-instate the test for this specific case_ but test that the ingress rule gets deleted rather than an exception being thrown Change-Id: I81ad16431f5f8f13561dfcb320213366e1e8864e,0.1974037140607834
2405,fix label name for add rule in security group to be consistent Change-Id: I087c4742485f5bf90bc1373dea4850bb7d03c596,0.2632024884223938
2406,Tweak security port validation for ICMP Horizon allows for ICMP to be type:code Type and code can be from -1 to 255 API refers to both EC2 and Nova APIs This patch attempts to resolve: 1 API code throws exceptations when 0 is passed for either field 2 API code validates type:code like from->to range type and code are independent 3 Update unit tests for this new set of operations A side effect is that the following are allowed type:code -1:X X:-1 The code assumes that -1 is a wildcard for the field bug 956967 Change-Id: Ieb6989815afc6986b72e0efc7611c2cc353ab5d8,0.2398257851600647
2407,Re-instate security group delete test case While fixing lp#956366_ we realized that it's fine to delete a security group referenced by an ingress rule of another security group because the ingress rule gets deleted Re-instate the test for this specific case_ but test that the ingress rule gets deleted rather than an exception being thrown Change-Id: I81ad16431f5f8f13561dfcb320213366e1e8864e,0.1974037140607834
2408,db api: Remove check for security groups reference security_group_in_use() should only be checking that a security group is associated with running instances_ not that other groups are referencing it in their rules With this check in place_ it becomes impossible to delete self-referential security groups Fixes bug 956366 Change-Id: I31f49c655b044dbaf0fb66dfaadb876c9dc3d167,0.17007042467594147
2409,add source group rule interface in security groups edit * fixes bug 860780 * continues from abandoned https://reviewopenstackorg/3268 * implements UI https://nebulanotableappcom/posts/391efe1b94711ec4527b6f72a61e789b6a4a54b7 Change-Id: I77af442ea4c0408556bfed8c2d1669b860219f66,0.25294029712677
2410,Show security groups for instance in overview detail * partial fix for bug 897090 Change-Id: If64ec14ba4cf6b081a7a99aa7ccee0aef70efa35,0.31450581550598145
2411,Fix an issue with authorizing ICMP via EC2 API Fix bug 946472 This patch fixes an issue in the EC2 API When the API is used to authorize ICMP for a security group_ it will now assume wildcards (-1:-1) for the type:code if they are not specified at all Change-Id: I4c87c5f5f4ccee60c6c16da4e659d73ab3f4a34f,0.26889270544052124
2412,Show proper warning message if security group rule is incomplete * fixes bug 944472 Change-Id: I1a275385547f09dc317ba213767f80036b3bca7c,0.27412891387939453
2413,Return proper error message when adding security group with no params * fixes bug 944469 Change-Id: I03ba89de135a2d7e2e9f6359ec652b069e55d089,0.25764229893684387
2414,Fixes bug 902352 – New tests for security groups Change-Id: Id74c968afcac1546c90e9abceb7bbaade2d11d4e,0.34537678956985474
2415,Validates CIDR for security group rule input Fixes bug 917983 Change-Id: I57558ba4e3e3c7b0cc9f460a0a7522e4b4f0cfc7,0.30356234312057495
2416,Don't delete security group in use from OS API Fix bug 938853 This patch adds a check to the OpenStack API so that a security group still in use can not be deleted This same check just recently went in for the EC2 API Change-Id: I75dc47c5f5d227b94c45ba8a0f00c37bd63f09fc,0.27412837743759155
2417,Wait for VM to stop before deleting security group Related to bug 938853 The patch for this bug prevents deleting security groups through the OpenStack API if they are still in use This patch for devstack updates the floating_ips exercise script to wait until the VM has stopped before deleting the security group Change-Id: If42f85934c2b92d4d001c419cabb09e2e3dc1aae,0.19203801453113556
2418,Help texts and dynamic label change for entering security group rules ICMP rules have different meanings for the from_port and to_port fields Fixes bug 933636 Change-Id: I745846a0fb054eb03efae102b40428889baed48f,0.20780815184116364
2419,"Don't allow EC2 removal of security group in use Fix bug 817872 This patch modifies the behavior of removing security groups via the EC2 API to better match the EC2 API spec The EC2 documentation says that a group that is still in use can not be removed A new function has been added to the db API to find out whether a particular security group is still in use ""In use"" is defined as applied to an active instance_ or applied to another group that has not been deleted Unit tests have been updated to ensure that an error is raised when these conditions are hit Change-Id: I5b3fdf1da213b04084fe266c1a6ed92e01cf1e19",0.2167816460132599
2420,Delete security group after terminating instance This patch slightly modifies the order of operations in the euca exercise script It moves the deletion of the security group to the end_ after the instance has been terminated The reason this change must be made is because of this change proposed to nova: https://reviewopenstackorg/#change_4154 Without this change_ when exercisesh is run against this patch_ the euca exercises will fail when the security group is deleted Moving it to the end should make it pass_ as the security group will no longer be in use Change-Id: I9095a02c42173ed1837ec20b38d5ef00fe4474ec,0.263092964887619
2421,"Fix bug 933147 Security group trigger notifications Add a lightweight mechanism to allow security group trigger notifications to be propagated from novacomputeapi to quantum security group handlers Add a global flag: ""security_group_handler"" to allow for runtime selection of security group handler class Change-Id: I8a3768c26c97020071ad4e52d3a22d8898e72e9f",0.26996123790740967
2422,Simple way of returning per-server security groups Bug #909207 Change-Id: I7d111222210eaf3abfbae5bc7cccb6e823affc45,0.22372934222221375
2423,Set port security for all allocated ips Fixes LP929018 Change-Id: Iab56cb815381eb4832358053bde8ddc70f9c4ef6,0.224884495139122
2424,Correct checking existence of security group rule Fixes bug #900031 Change-Id: I4194610ce53d1c74bd99b6878339da6e0b6a3a73,0.324302613735199
2425,[WIP] Implement Security Context for Airflow_Worker This adds the container security context to set readOnlyRootFilesystem to true Depends-on: https://reviewopendevorg/#/c/708948/2 Change-Id: I4c7e7dba26d6bdfd0032a31469fd1777ae06cfec,0.07543501257896423
2426,bug915695 security groups client - to list Change-Id: I7f9ab59557c8cb20e7e67468925e4666dd981541,0.2987876236438751
2427,Add support for port security to QuantumManager If enabled_ QuantumManager will now pass in the allowed_address_pairs that some quantum plugins understand in order to enforce port security on a given port Any plugins that don't understand the extra fields will just ignore them Change-Id: I640658036789b319ecefbb5e7dcdcf6b4f4ab34e,0.09039820730686188
2428,Converts all of Access & Security to use new panels_ modals_ views_ etc Fixes bug 905376 Fixes bug 905399 Change-Id: Ib93a5b9d09c9b98b0a6365f7d468efb05e28e676,0.22578933835029602
2429,Verify security group parameters Introduced various sanity checks before adding security group rule into the database The checks have been implemented both in EC2 and openstack extension code Implemented the suggestions made in first patch by Brian Fixed the unit tests in security groups Fixed pep8 issues in security group unit tests Fixes bug 869979 (cherry picked from commit 1a12349c056b52b488591abb1671ad94a6db6526) Change-Id: I2ac28666e90e7bdeacb7b1c2676c0719cfb9e441,0.25789955258369446
2430,Bumping Django version to 131 for security fixes Change-Id: I14b9323eee61110aec34d4e265a66e9890d97d61,0.44036442041397095
2431,Converting security groups to check boxes Bug 884486 Change-Id: I8b654c854b4c18dc6e28039eecbc8e97447a66bb,0.2168761044740677
2432,Fixing the edit security group rules form bug 898862 Change-Id: I8273dee3d49d655073a7a0818150b1ba960bcca4,0.2846807837486267
2433,Merging Floating Ips_ Keypairs_ and Security Groups into a single panel Change-Id: Ia5b755f2e89a121fc67ca0ddb1a173e3ea97a889,0.22421418130397797
2434,Fixes LP Bug#860862 - Security creds still shown This removes the X-Image-Meta-Location entirely from GET /images/<ID> and HEAD /images/<ID> Previous fix only removed from GET /images and GET /images/detail Doh (cherry picked from commit 25e2ba4e6a60956cfd7f8ca9457698fd0f4d3747) Change-Id: Ib6c124e196688a77a3a0090bf9174a1daffb78bb,0.3245334327220917
2435,Removes multiple selections from security groups in launch form Change-Id: Ibcfa54c3d0354d0a9f2def2fb3ee446790cc3d52,0.16894954442977905
2436,Verify security group parameters Introduced various sanity checks before adding security group rule into the database The checks have been implemented both in EC2 and openstack extension code Fixes bug 869979 Change-Id: I2ac28666e90e7bdeacb7b1c2676c0719cfb9e441,0.21939358115196228
2437,Support server uuids with security groups Change-Id: I15dd5a5e26b2d22fa3def75fa950f1155e6911ac,0.2301400601863861
2438,Fixes LP Bug#860862 - Security creds still shown This removes the X-Image-Meta-Location entirely from GET /images/<ID> and HEAD /images/<ID> Previous fix only removed from GET /images and GET /images/detail Doh Change-Id: Ib6c124e196688a77a3a0090bf9174a1daffb78bb,0.27687007188796997
2439,[WIP] Implement Security Context for Divingbell Change-Id: Ibc93ccac6d6015faff3491211f5f8cb752a0328f,0.2352244257926941
2440,Apply security context to tiller in Armada pod Allows container security context to be applied to the tiller container inside the Armada API pod_ for example_ to allow the container to run as a different user Change-Id: I38eb32f54ca4c0a20c1c63fca2f4927ced6e9e81,0.055753011256456375
2441,Mark security group fullstack tests as stable It has been some time since we marked the security group tests in fullstack as unstable Now that mark is impeding the fullstack tests for stateless security groups It's time to revisit if the unstable mark is still needed Change-Id: Ib1ef0763496aa536ba80f1c34c64d8a6c313fd0b Needed-By: https://reviewopendevorg/710252 Related-bug: #1779328,0.32101595401763916
2442,Improve metadata server performance with large security groups Don't include the rules in the SG fetch in the metadata server_ since we don't need them there_ and with >1000 rules_ it starts to get really slow_ especially in Pike and later Closes-Bug: #1851430 Co-Authored-By: Doug Wiegley <dougwig@parksideio> Co-Authored-By: Matt Riedemann <mriedemos@gmailcom> Conflicts: nova/tests/unit/network/security_group/test_neutron_driverpy NOTE(mriedem): The conflict is due to not having change I31c9ea8628c6f3985f8e9118d9687bbfb8789b68 in Pike Change-Id: I7de14456d04370c842b4c35597dca3a628a826a2 (cherry picked from commit eaf16fdde59a14fb38df669b21a911a0c2d2576f) (cherry picked from commit 418af2d865809cfa907678f883dae07f4f31baa2) (cherry picked from commit fec95a2e4f763e15193504483383f918feb3e636) (cherry picked from commit 38b2f68a17533e839819e654825613aefd4effd4) (cherry picked from commit 00d438adb325610a04af9f8f18cdb1c622df5418),0.24836954474449158
2443,Add bulk creation of rules for Security Group With new method _bulk_create in OpenStackSDK_ now it is possible to use it for API methods_ which supports creating multiple instances in single call Neutron supports couple of resources to be created at once In this change we propose to add multiple rules creation for a single security group Change-Id: I5855a6faa706adeaf738a797af0048985bffe65f,0.1848718225955963
2444,Followup patch for security dashboard clean steps This patch addresses all the remaining comments on the security dashboard clean steps for ilo driver Change-Id: Id454642439d09fa8edd7bab9259dfc4ba9b55a01,0.2762841582298279
2445,Don't send empty remote_address_group_id for security groups We are seeing an error raised by older Neutron's 400: Client Error for url: <cloud>/v20/security-group-rules_ Unrecognized attribute(s) 'remote_address_group_id' This field was added unconditionally with I50374c339ab7685a6e74f25f9521b8810c532e13 but_ per above_ appears to cause problems for older Neutron instances To work around this_ remove the argument from the body when blank by overriding the _prepare_request function of SecurityGroupRule Two tests where this are used are updated; one checks the body is not sent when None and the other is modified to send a remote_address_group_id value to validate the other path Story: #2008577 Task: #41729 Change-Id: I25dabfde27b843df1c91c7fc37a1fe8d207b8010,0.26996201276779175
2446,NSX|V: Fix security groups rules creation When updating a section_ exising icmp echo request/reply rules cannot have icmp code field Change-Id: I31141eb7a05ff508acb3cea12d7bdd7d8695d9e1,0.1868276447057724
2447,Run fullstack security group test always serially Security groups are based on iptables in many cases and can interfere between other tests So it means that if some other test will manipulate with iptables on host during SG related test is run_ this SG related test may fail without any obvious reason So lets try to run those test serially to be sure that no other agents will manipulate iptables/openflow rules in same time Change-Id: I4d19f2a457e004306fdf40980a943073f1b8704a Closes-Bug: #1779328,0.13025397062301636
2448,Unblock security group update with same stateful data Change-Id: I46d80a2a4f114a6775827ab3caa61dee9f5f1361 Blueprint: stateless-security-groups,0.32725679874420166
2449,Adding new test of security group rules quota increased The test is checking that it is possible to create new security group rules after increasing the quota parameter Change-Id: Ie961293215c48883c962debe888b0bca418e3eb9,0.1651444137096405
2450,Support for stateless security groups Add support for stateful attribute of security groups_ allowing a user to create security groups with stateful false Change-Id: I380b2ab0fa4f81f676711d97138c6097c4790cd7 Blueprint: stateless-security-groups,0.23602181673049927
2451,Mini-mirror: Add pod/container security context pods are running into crashloopbackoff state so changing it to false Change-Id: I7edad3b2a8b0962ef5421e941dfaf7c680bc951c,0.37914982438087463
2452,[WIP] Support for stateless security groups Partially Closes-Bug: #1753466 Change-Id: Iae39a89b762786e4f05aa61aa0db634941806d41,0.2822651267051697
2453,ovn: Remove remote security group rule workaround The issue has been resolved Change-Id: I01a7d9cd995686ea1e3d204f2ee5e55a9650a035,0.22538580000400543
2454,Add list security group rules API test This test checks that regular user can see all SG rules which belongs to his tenant OR belongs to security group owned by his tenant This test also ensures that SG rules from different tenants and Security Groups are not visible for regular user Depends-On: https://reviewopendevorg/681910 Change-Id: Ic2e97ab8162d10e507ef83b9af0840e7311f0587 Related-Bug: #1824248,0.199765145778656
2455,Disable security group quotas in NetworkSecGroupTest This will prevent from receiving an unexpected QuotaLimit exception Change-Id: Idb6375c87c1aac704896bef47d3d50b8c2d55a54 Closes-Bug: #1864471,0.07743507623672485
2456,Increase default security group quota up to 250 Change-Id: Ia4bdc53a0d7d537360afc67a1bd61cc3a0eb6da1 Closes-Bug: #1864471,0.2661406099796295
2457,Add port-range remote_group security group testcase This patch adds tests for checking remote security groups with port-ranges Change-Id: I8d70fd4ba1835280abd26d5ba0777a44d80e591b Related-Bug: #1844116,0.21842044591903687
2458,pod security policies updates Minor Usability Enhancement to Default Pod Security Policies Signed-off-by: Ron Stone <ronaldstone@windrivercom> Change-Id: I82d31f412c47bfecf4601169400bf090ceda636c,0.23322230577468872
2459,"Remove outdated security tool development section The security SIG hasn't maintained the two projects listed under the ""Security tool development"" section in quite a while This change removes the section entirely since the information it has is no longer relevant to the security SIG Change-Id: I49aee997751b2b4f7ca6e879883a85c56087c0a1",0.43458712100982666
2460,apiserver-webhook: Add pod/container security context This updates the apiserver-webhook chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: If61b6f9189a36f069efa80ef1a31b35328a92f1a,0.1457671821117401
2461,"Implement Security Compiance option for password This feature adds a ""password-security-compliance"" option to the charm to enable setting of keys in the ""[security_compliance]"" section of the keystoneconf file This section was added in the Newton release_ and so this feature supports this from the Newton release Change-Id: If7c54fae73188284bd9b03a53626cdf52158b994 Closes-Bug: #1776688",0.15119606256484985
2462,Negative tests for security group quota 1 Try to create security group when the amount of already created security groups is higher than quota 2 Try to set inappropriate value for security group quota Change-Id: Ia27c6d4f71246210f3f0959e70181c4319751e7d,0.16629046201705933
2463,"Check ""security_group_rule"" quota during security group creation The tracked resources quota check is done at the beginning of an API call to the Neutron server The API call contains a resource and an action over the resource In case of creation_ the server checks if the number of items requested fits in the existing quota In case of security group creation_ the tracked resource checked is ""security_group"" But ""SecurityGroupDbMixincreate_security_group"" method also creates several default rules for the new group and the quota for ""security_group_rule"" is not enforced This patch checks the number of security group rules being created (""delta"") and checks in the plugin method (not in the API method) if there is enough room for those new rules (tracked resource ""security_group_rule"") Change-Id: I0a9b91b09d6260ff96fdba2f0a455de53bbc1f00 Closes-Bug: #1858680 (cherry picked from commit 936bd67aa42b2e06241d309315b895c9c9c49dcc)",0.2739052176475525
2464,Security: System security option includes nospectre_v1 Most of the v1 mitigation is baked into the kernel and not optional The swapgs barriers are_ however_ optional They have a negative performance impact so we disable them by using the nospectre_v1 kernel bootarg Partial-Bug: 1860193 Depends-On: https://reviewopendevorg/#/c/705300 Signed-off-by: Jim Somerville <JimSomerville@windrivercom> (cherry picked from commit b7c6c2a1681a057a7c3a2a9b1700cb2d92f18627) Change-Id: Ifbeaa0ac8b60addc5aefd63578ed4facebbd9b22,0.212278351187706
2465,Security: Add nospectre_v1 to the security params Most of the v1 mitigation is baked into the kernel and not optional The swapgs barriers are_ however_ optional They have a negative performance impact so we disable them by using the nospectre_v1 kernel bootarg Partial-Bug: 1860193 Depends-On: https://reviewopendevorg/#/c/705300 Signed-off-by: Jim Somerville <JimSomerville@windrivercom> (cherry picked from commit 950670ac1f0bfaa43e29eeb3ffda71a94de66520) Change-Id: I8472e7fc4fbf5b3e01b56b79eba7feda315d29cf,0.2124628871679306
2466,"Check ""security_group_rule"" quota during security group creation The tracked resources quota check is done at the beginning of an API call to the Neutron server The API call contains a resource and an action over the resource In case of creation_ the server checks if the number of items requested fit in the existing quota In case of security group creation_ the tracked resource checked is ""security_group"" But ""SecurityGroupDbMixincreate_security_group"" method also creates several default rules for the new group and the quota for ""security_group_rule"" is not enforced This patch checks the number of security group rules being created (""delta"") and checks in the plugin method (not in the API method) if there is enough room for those new rules (tracked resource ""security_group_rule"") Change-Id: I0a9b91b09d6260ff96fdba2f0a455de53bbc1f00 Closes-Bug: #1858680",0.2768251895904541
2467,Security: System security option is now spectre_meltdown_low Most of the v1 mitigation is baked into the kernel and not optional The swapgs barriers are_ however_ optional They have a negative performance impact so we disable them by using the nospectre_v1 kernel bootarg This leaves the system security option spectre_meltdown_v1 too confusing_ so we have renamed it Partial-Bug: 1860193 Depends-On: https://reviewopendevorg/#/c/704406 Change-Id: I6281166c53b13124800b4061ebe08f85d5175d6a Signed-off-by: Jim Somerville <JimSomerville@windrivercom>,0.28340861201286316
2468,Security: Add nospectre_v1 to the security params Most of the v1 mitigation is baked into the kernel and not optional The swapgs barriers are_ however_ optional They have a negative performance impact so we disable them by using the nospectre_v1 kernel bootarg Partial-Bug: 1860193 Depends-On: https://reviewopendevorg/#/c/704406 Change-Id: Iaa11ba3f430fc064ebda679cf290474d3be413da Signed-off-by: Jim Somerville <JimSomerville@windrivercom>,0.209684818983078
2469,Positive tests for security group quota Added positive tests for security group quota according to RHOSP7-3467 polarion test case Change-Id: I833e5d5e67ef7555c9e6a54613b7324310079b0b,0.22444561123847961
2470,Tiller-deploy: Add pod/container security context This updates the tiller chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I08694e58d057c04f7ba30ded5dca1207ceaac5e2,0.16261044144630432
2471,Refactor Launch Instance dialog Security Groups table Security Groups table in Angular Launch Instance wizard is refactored using <hz-dynamic-table> This adds table pagination and makes the code more readable Change-Id: Iaff9e1f3c834a2bdb5823249de632ce472811a7d,0.14364635944366455
2472,[DNM] Checking performance after disabling security Change-Id: If6f0bc02db6932aa8f367e38cc82df85063eaf87,0.24932289123535156
2473,Improve metadata server performance with large security groups Don't include the rules in the SG fetch in the metadata server_ since we don't need them there_ and with >1000 rules_ it starts to get really slow_ especially in Pike and later Closes-Bug: #1851430 Co-Authored-By: Doug Wiegley <dougwig@parksideio> Co-Authored-By: Matt Riedemann <mriedemos@gmailcom> Change-Id: I7de14456d04370c842b4c35597dca3a628a826a2 (cherry picked from commit eaf16fdde59a14fb38df669b21a911a0c2d2576f) (cherry picked from commit 418af2d865809cfa907678f883dae07f4f31baa2) (cherry picked from commit fec95a2e4f763e15193504483383f918feb3e636) (cherry picked from commit 38b2f68a17533e839819e654825613aefd4effd4),0.20463013648986816
2474,Cache security group driver Change I0932c652fb455fe10239215a93e183ea947234e3 from Mitaka was a performance improvement to cache the loaded security group driver since the API calls get_openstack_security_group_driver a lot That performance fix was regressed with change Ia4a8d9954bf456253101b936f8b4ff513aaa73b2 in Newton This caches the loaded security group driver once again This is pretty similar to the original change except simpler since we don't have to account for the skip_policy_check flag Change-Id: Icacc763f19db6dc90e72af32e17d480775ad5edf Closes-Bug: #1825018 (cherry picked from commit 0461921d9e5313c3e92b039b90f713ed961e20c8) (cherry picked from commit 3ea6a7f79b0ad8a12c8ccfdeda838784c7922e63) (cherry picked from commit 99048af872743638b3628555e96351e00bf1eb7e),0.29234254360198975
2475,"Revert ""Cache default security group IDs in memory"" This reverts commit 433deed0b72d3e7dbee5fc9e241f7d6c46bbfa96 Reason for revert: https://bugslaunchpadnet/neutron/+bug/1923470 Change-Id: I7d6d884936916602fb21a6f268250c823d415e6b Closes-Bug: #1923470",0.40648382902145386
2476,Improve metadata server performance with large security groups Don't include the rules in the SG fetch in the metadata server_ since we don't need them there_ and with >1000 rules_ it starts to get really slow_ especially in Pike and later Closes-Bug: #1851430 Co-Authored-By: Doug Wiegley <dougwig@parksideio> Co-Authored-By: Matt Riedemann <mriedemos@gmailcom> Change-Id: I7de14456d04370c842b4c35597dca3a628a826a2 (cherry picked from commit eaf16fdde59a14fb38df669b21a911a0c2d2576f) (cherry picked from commit 418af2d865809cfa907678f883dae07f4f31baa2) (cherry picked from commit fec95a2e4f763e15193504483383f918feb3e636),0.20777322351932526
2477,objects: Add TODOs to remove security group-related objects These only applied to nova-network and can be safely removed now Change-Id: I2bcc579ae047a65233855b8f976d5d2c99ff7bae Signed-off-by: Stephen Finucane <sfinucan@redhatcom>,0.30355656147003174
2478,"Introduce bandit security linter Cyborg now does not have a code security check_ which may connive at possible security issues For example_ shell-related operations for drivers may be insecure Current ""sudo lspci -nnn -D"" in huawei ascend driver code[0] is insecure_ but there is no any job/test that can check the potential security issues So this patch introduces bandit as a code security check [0]:https://githubcom/openstack/cyborg/blob/master/cyborg/accelerator/drivers/aichip/huawei/ascendpy#L69 Change-Id: Ia1f9acbbd176180cb5fe97b1a2eee5f98a95dea6",0.1931176483631134
2479,Support for adding raw service entries in security policy rules Change-Id: I8f885c7905417d6b6a7c88b304c92d0d4b37f085,0.1951044499874115
2480,Add 'unknown' to the address list if the port's port security is disabled When a port's port security is disabled then the port should be allowed to use any mac address And for this to work_ OVN expects 'unknown' address to be added into the Logical_Switch_Portaddresses column This patch adds this 'unknown' address if the port security is disabled Change-Id: I5f25f4d4b2acccada3ab2944e9cfd2461149ef3e Closes-bug: #1815270 Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmailcom> (cherry picked from commit ef5e9d31ecb12c194a344a46d578b1584e7fb49f),0.2477959394454956
2481,Add 'unknown' to the address list if the port's port security is disabled When a port's port security is disabled then the port should be allowed to use any mac address And for this to work_ OVN expects 'unknown' address to be added into the Logical_Switch_Portaddresses column This patch adds this 'unknown' address if the port security is disabled Change-Id: I5f25f4d4b2acccada3ab2944e9cfd2461149ef3e Closes-bug: #1815270 Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmailcom> (cherry picked from commit ef5e9d31ecb12c194a344a46d578b1584e7fb49f),0.2477959394454956
2482,nova-net: Remove nova-network security group driver This is another self-explanatory change We remove the driver along with related tests Some additional API tests need to be fixed since these were using the nova-network security group driver Change-Id: Ia05215b2e7168563c54b78263625125537b7234c Signed-off-by: Stephen Finucane <sfinucan@redhatcom>,0.2550433278083801
2483,Improve metadata server performance with large security groups Don't include the rules in the SG fetch in the metadata server_ since we don't need them there_ and with >1000 rules_ it starts to get really slow_ especially in Pike and later Closes-Bug: #1851430 Co-Authored-By: Doug Wiegley <dougwig@parksideio> Co-Authored-By: Matt Riedemann <mriedemos@gmailcom> Change-Id: I7de14456d04370c842b4c35597dca3a628a826a2 (cherry picked from commit eaf16fdde59a14fb38df669b21a911a0c2d2576f) (cherry picked from commit 418af2d865809cfa907678f883dae07f4f31baa2),0.2109116017818451
2484,Cache security group driver Change I0932c652fb455fe10239215a93e183ea947234e3 from Mitaka was a performance improvement to cache the loaded security group driver since the API calls get_openstack_security_group_driver a lot That performance fix was regressed with change Ia4a8d9954bf456253101b936f8b4ff513aaa73b2 in Newton This caches the loaded security group driver once again This is pretty similar to the original change except simpler since we don't have to account for the skip_policy_check flag Change-Id: Icacc763f19db6dc90e72af32e17d480775ad5edf Closes-Bug: #1825018 (cherry picked from commit 0461921d9e5313c3e92b039b90f713ed961e20c8) (cherry picked from commit 3ea6a7f79b0ad8a12c8ccfdeda838784c7922e63),0.28642797470092773
2485,Cache security group driver Change I0932c652fb455fe10239215a93e183ea947234e3 from Mitaka was a performance improvement to cache the loaded security group driver since the API calls get_openstack_security_group_driver a lot That performance fix was regressed with change Ia4a8d9954bf456253101b936f8b4ff513aaa73b2 in Newton This caches the loaded security group driver once again This is pretty similar to the original change except simpler since we don't have to account for the skip_policy_check flag Change-Id: Icacc763f19db6dc90e72af32e17d480775ad5edf Closes-Bug: #1825018 (cherry picked from commit 0461921d9e5313c3e92b039b90f713ed961e20c8),0.2769124209880829
2486,nova-net: Drop nova-network-base security group tests A future change will drop the actual security group driver For now_ just focus on merging the two disparate test cases_ which is easier said than done Change-Id: Idd0b741760601aaccca4adfc5101c3539ba9ec09 Signed-off-by: Stephen Finucane <sfinucan@redhatcom>,0.23670759797096252
2487,Move security site to AFS publishing Move from promoting to staticoo for the security site to publish via promote to AFS Change-Id: I18404d8fa79566de1bee1ac5760b8a440e885df8,0.21480165421962738
2488,Cache security group driver Change I0932c652fb455fe10239215a93e183ea947234e3 from Mitaka was a performance improvement to cache the loaded security group driver since the API calls get_openstack_security_group_driver a lot That performance fix was regressed with change Ia4a8d9954bf456253101b936f8b4ff513aaa73b2 in Newton This caches the loaded security group driver once again This is pretty similar to the original change except simpler since we don't have to account for the skip_policy_check flag Change-Id: Icacc763f19db6dc90e72af32e17d480775ad5edf Closes-Bug: #1825018,0.26000675559043884
2489,[nsx_v3] Register security group resources at startup This will avoid an error from the quota manager while trying to create security group rules for the default security group Change-Id: I85a46931a96f90a084af10e85f9155c8ed850195,0.13250091671943665
2490,Cache default security group IDs in memory Getting default SG for a project is quite a frequent operation that happens for example on each port create/update events Since default SG id does not change often for a project/tenant (if at all) it makes sense to cache it in memory to avoid DB access each time Change-Id: I2493eb65ddd548435cf846e1ae7ac65ce8bc14a4,0.10570122301578522
2491,Implement Security Context for Nova Implement container security context for the following Nova resources: - Nova server deployment Change-Id: Ide4f413d4b27bfbffd4e941ff4f87aefe5a319a8,0.2393471896648407
2492,Mini-mirror: Add pod/container security context This updates the Mini-mirror chart to include the pod security context on the pod template Change-Id: Id987f3bb38e257c74db8254096743a61514f3397,0.3988274335861206
2493,Implement Security Context for Neutron Implement container security context for the following Nova resources: - Neutron metadata_agent - Neutron ovs_agent Change-Id: If8246450f8ebd62a0c5999f832ec59796355ee78,0.2773885726928711
2494,Calicoctl-utility: Add pod/container security context This updates the calicoctl-utility chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I5fa54165f0409ca56dd8aafeda028a7398122c4b,0.13017886877059937
2495,Ceph-utility: Add pod/container security context This updates the ceph-utility chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I412c88bf3441260ea8e353e6a6f783af88b44575,0.1935519278049469
2496,Compute-utility: Add pod/container security context This updates the compute-utility chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I769b75a54e4b384fb6756176026bd6f1228220c3,0.18832442164421082
2497,Etcdctl-utility: Add pod/container security context This updates the etcdctl-utility chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: Ifebf03f7ccdd6515eb0bc757c1e727d68ee5a4ea,0.14866530895233154
2498,Openstack-utility: Add pod/container security context This updates the openstack-utility chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: Ie9ce49bfa69b7e835b113340d908f96429039d94,0.22721894085407257
2499,Postgresql-utility: Add pod/container security context This updates the postgresql-utility chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I84664883aaefd8bef679222a7c943f66eb93bad7,0.15316519141197205
2500,Mysqlclient-utility: Add pod/container security context This updates the Mysqlclient-utility chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I9c434f83cd9f03013f6ab9e3279da35a6d9d3893,0.08047306537628174
2501,Update security group rule if port range is all ports A security group rule where port_range_min:port_range_max is 1:65535 is specifying all ports_ but it is not optimal for backends to try and implement this potentially large rule Since it is essentially the entire port range_ change min:max to be None_ making the rule specify the entire protocol instead Change-Id: Iff22e2fc84d679e20a5a04b8516750c6ea949078 Closes-bug: #1848213,0.18825316429138184
2502,Improve metadata server performance with large security groups Don't include the rules in the SG fetch in the metadata server_ since we don't need them there_ and with >1000 rules_ it starts to get really slow_ especially in Pike and later Closes-Bug: #1851430 Co-Authored-By: Doug Wiegley <dougwig@parksideio> Co-Authored-By: Matt Riedemann <mriedemos@gmailcom> Change-Id: I7de14456d04370c842b4c35597dca3a628a826a2 (cherry picked from commit eaf16fdde59a14fb38df669b21a911a0c2d2576f),0.20838090777397156
2503,nova-net: Remove unused '*_default_rules' security group DB APIs With the API removed_ nothing is using these anymore Remove them Change-Id: Id303edc0e3b4af5647ce171b7763e094d1aa244c Signed-off-by: Stephen Finucane <sfinucan@redhatcom>,0.17901496589183807
2504,Implement Security Context for Armada Implement readOnlyRootFilesystem:true for init container - Armada server deployment Change-Id: Ifbc48bef07eab97c015b65a1941a526fc6a28c6d,0.11448167264461517
2505,NSX|P: Use transactions for security groups and rules creation Change-Id: I470b2a349fb46c7af3e450db240d9cdca2f6b70c,0.19116154313087463
2506,NSX|P: Use transactions for security groups and rules creation Change-Id: I470b2a349fb46c7af3e450db240d9cdca2f6b70c,0.19116154313087463
2507,Improve metadata server performance with large security groups Don't include the rules in the SG fetch in the metadata server_ since we don't need them there_ and with >1000 rules_ it starts to get really slow_ especially in Pike and later Change-Id: I7de14456d04370c842b4c35597dca3a628a826a2,0.1477225422859192
2508,Fixing provider security group cases In with nsxv3 nsxp client was called Reverting chnage Change-Id: I9e21353adf87e34afc0a62dded6a1c181fcf7d9c,0.2641162872314453
2509,Implement Security Context for Haproxy Implement readOnlyRootFilesystem:true for init container Change-Id: I736b0ffd349379d6ceb6ca599021fcbe9eb54923,0.11457539349794388
2510,NSXP: place project id in security rule tag Depends-on: I6b8e3b3a11879263cfcc723ec03d6cefdc910f97 Change-Id: I9d3f9238c3f08d704ca495e5059f57b279c93271,0.22585228085517883
2511,Proxy: Add pod/container security context This updates the proxy chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I4e6d2836aa9d548118937b6b176e06fbc4a8c7ee,0.17262768745422363
2512,Remove redundant call to get/create default security group In the instance_create DB API method_ it ensures the (legacy) default security group gets created for the specified project_id if it does not already exist If the security group does not exist_ it is created in a separate transaction Later in the instance_create method_ it reads the default security group back that it wrote earlier (via the same ensure default security group code) But since it was written in a separate transaction_ the current transaction will not be able to see it and will get back 0 rows So_ it creates a duplicate default security group record if project_id=NULL (which it will be_ if running nova-manage db online_data_migrations_ which uses an anonymous RequestContext with project_id=NULL) This succeeds despite the unique constraint on project_id because in MySQL_ unique constraints are only enforced on non-NULL values [1] To avoid creation of a duplicate default security group for project_id=NULL_ we can use the default security group object that was returned from the first security_group_ensure_default call earlier in instance_create method and remove the second_ redundant call This also breaks out the security groups setup code from a nested method as it was causing confusion during code review and is not being used for any particular purpose Inspection of the original commit where it was added in 2012 [2] did not contain any comments about the nested method and it appeared to either be a way to organize the code or a way to reuse the 'models' module name as a local variable name Closes-Bug: #1824435 [1] https://devmysqlcom/doc/refman/80/en/create-indexhtml#create-index-unique [2] https://reviewopendevorg/#/c/8973/2/nova/db/sqlalchemy/apipy@1339 Change-Id: Idb205ab5b16bbf96965418cd544016fa9cc92de9 (cherry picked from commit 6ea945e3b126879a86fe78d9c0537f5d258cf91a) (cherry picked from commit 416290f1938631a95aaaf92a41f455ebf75b0732),0.1693505346775055
2513,Apiserver: Add pod/container security context This updates the apiserver chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I76d80c4cbf40d1e3e518a3d2969c86f4d5c8c3f4,0.1615307778120041
2514,Scheduler: Add pod/container security context This updates the scheduler chart to include the pod security context on the pod template This also adds the container security context to set readOnlyRootFilesystem flag to true Change-Id: I11d8d8188cb94a39ca1891844e9c282dbbda56f9,0.1495494246482849
2515,Adding missing readOnlyRootFilesystem flag for container security context Change-Id: Ibc8e259dabad9a162f43df0b7eb4d94e3f3e5c9b,0.18169669806957245
2516,Fix BMC security config It was only enabled for SD530_ extend the support for non-D2 platform servers Change-Id: I3dfa02b1eef4baedc12e0e031278c7bc49627e4e,0.18380655348300934
2517,Remove redundant call to get/create default security group In the instance_create DB API method_ it ensures the (legacy) default security group gets created for the specified project_id if it does not already exist If the security group does not exist_ it is created in a separate transaction Later in the instance_create method_ it reads the default security group back that it wrote earlier (via the same ensure default security group code) But since it was written in a separate transaction_ the current transaction will not be able to see it and will get back 0 rows So_ it creates a duplicate default security group record if project_id=NULL (which it will be_ if running nova-manage db online_data_migrations_ which uses an anonymous RequestContext with project_id=NULL) This succeeds despite the unique constraint on project_id because in MySQL_ unique constraints are only enforced on non-NULL values [1] To avoid creation of a duplicate default security group for project_id=NULL_ we can use the default security group object that was returned from the first security_group_ensure_default call earlier in instance_create method and remove the second_ redundant call This also breaks out the security groups setup code from a nested method as it was causing confusion during code review and is not being used for any particular purpose Inspection of the original commit where it was added in 2012 [2] did not contain any comments about the nested method and it appeared to either be a way to organize the code or a way to reuse the 'models' module name as a local variable name Closes-Bug: #1824435 [1] https://devmysqlcom/doc/refman/80/en/create-indexhtml#create-index-unique [2] https://reviewopendevorg/#/c/8973/2/nova/db/sqlalchemy/apipy@1339 Change-Id: Idb205ab5b16bbf96965418cd544016fa9cc92de9 (cherry picked from commit 6ea945e3b126879a86fe78d9c0537f5d258cf91a),0.1693505346775055
2518,ovn: Update release note with new detail on security groups Change-Id: I8d8baaf020c9133de3e8b5d310351fdc06459e82,0.49984684586524963
2519,fixtures: Add support for security groups We're going to want to use this for realistic API samples The samples we're using here were taken from a DevStack deployment based on pre-RC1 Train code so they should be fairly reflective of what you'd see in a real deployment Note that we also fix bugs seen with the mocks for 'create_port' and 'list_networks' neutron API functions For the former_ we weren't properly merging the request port details meaning we weren't setting some fields on the port_ most significantly 'device_id' For the latter_ it turns out it's possible to filter using a list of values and we weren't handling that Both are resolved now Change-Id: I3c94b61fc323fefbd1c8790c4a2f60cada29e86f Signed-off-by: Stephen Finucane <sfinucan@redhatcom>,0.22513383626937866
2520,Add contributors to Security project For PL/TL elections we need to be able to identify contributors to project teams As there are a few teams without repositories assigned to them we are utilizing the projectsyaml file to store the contributor data We are using the same methid as the OpenStack community so we can leverage the scripts they have to prepare for elections Notes from the community call about the topic: https://etherpadopenstackorg/p/stx-status This patch adds contributors for the Security team Source of information: https://wikiopenstackorg/wiki/StarlingX/Security Change-Id: I6aa7a474417655f6251717a1a5d707c41ad77154 Signed-off-by: Ildiko Vancsa <ildikovancsa@gmailcom>,0.31360501050949097
2521,Use a separate transaction to read default security group In the instance_create DB API method_ it ensures the (legacy) default security group gets created for the specified project_id if it does not already exist If the security group does not exist_ it is created in a separate transaction Later in the instance_create method_ it reads the default security group back that it wrote earlier (via the same ensure default security group code) But since it was written in a separate transaction_ the current transaction will not be able to see it and will get back 0 rows So_ it creates a duplicate default security group record if project_id=NULL (which it will be_ if running nova-manage db online_data_migrations_ which uses an anonymous RequestContext with project_id=NULL) This succeeds despite the unique constraint on project_id because in MySQL_ unique constraints are only enforced on non-NULL values [1] To avoid creation of a duplicate default security group for project_id=NULL_ we can use a separate transaction when we read back the default group_ by calling the same method: security_group_ensure_default used earlier in the instance_create method Closes-Bug: #1824435 [1] https://devmysqlcom/doc/refman/80/en/create-indexhtml#create-index-unique Change-Id: Idb205ab5b16bbf96965418cd544016fa9cc92de9,0.08472922444343567
2522,Override security suite for Debian image builds Diskimage-builder defaults to a assuming the Debian security archive's suite name will be something like stretch/updates or buster/updates but ours are just stretch and buster without any second subcomponent_ so override this to an empty string instead Depends-On: https://reviewopendevorg/688816 Change-Id: I34488e55c1b9bfe4c253c4d51346966fa69f1170,0.49628615379333496
2523,Add security suite name override in debian-minimal Add option to set the suite subpath after the release name for the security mirror URL independently in the debian-minimal element_ since this can differ between mirrors Change-Id: I4cc8f54fba012986423e30e19bff276208b8ad62,0.6070043444633484
2524,"Fix typo in security docs around is_admin rule The security docs give an example of how to enable admins to show passwords via the API_ but the policy guidance is wrong There is no ""is_admin"" _role__ it is instead a _rule_ Change-Id: Ic14ebc04f01bece1460f6244ec2dd88c8dd00b0e",0.27829980850219727
2525,Add security dashboard clean steps to ilo drivers This commit adds new clean steps security_parameters_update_ update_minimum_password_length and update_auth_failure_logging_threshold to allow users to edit following security parameters - ``Password_Complexity``_ ``RequiredLoginForiLORBSU``_ ``RequireHostAuthentication``_ ``MinPasswordLength``_ ``IPMI/DCMI_Over_LAN``_ ``Authentication_failure_Logging``_ and ``Secure_Boot`` Story: 2008024 Task: 40736 Change-Id: I0dd9a83ee23c6b846eda3ff171ab7b3138b22fa7,0.2212618887424469
2526,[nsx_v3] Register security group resources at startup This will avoid an error from the quota manager while trying to create security group rules for the default security group Change-Id: I85a46931a96f90a084af10e85f9155c8ed850195,0.13250091671943665
2527,[nsx_v3] Register security group resources at startup This will avoid an error from the quota manager while trying to create security group rules for the default security group Change-Id: I85a46931a96f90a084af10e85f9155c8ed850195,0.13250091671943665
2528,[nsx_v3] Register security group resources at startup This will avoid an error from the quota manager while trying to create security group rules for the default security group Change-Id: I85a46931a96f90a084af10e85f9155c8ed850195,0.13250091671943665
2529,Horizon – API Handling – HTTP Security Headers Not Present Added new X-Content-Type-Options: nosniff header to make sure the browser does not try to detect a different Content-Type than what is actually sent (can lead to XSS) Added new X-Frame-Options: sameorigin header to protect against drag and drop clickjacking attacks in older browsers Added new Content-Security-Policy: script-src self for implementation Added new HTTP Security header X-XSS-Protection:1 mode=block to sanitize the page_ when a XSS attack is detected_ the browser will prevent rendering of the page Change-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e,0.23876981437206268
2530,[Nova] Fix a bug introduced in implementing security context for nova In daemonset-computeyaml_ it uses a wrong application name Change-Id: I614dc9d52d6dd7b346aa0b3f5e0012686de93ced Signed-off-by: zhipengl <zhipengsliu@intelcom>,0.2552580237388611
2531,Temporary overwrite of the infra mirror for debian security repo Change-Id: I7c41f560251e16256a5d109fddedee189eb12664 (cherry picked from commit 26a329d79f111090e17fb868e550a580bbd304af),0.7656173706054688
2532,Temporary overwrite of the infra mirror for debian security repo Change-Id: I7c41f560251e16256a5d109fddedee189eb12664,0.7501311898231506
2533,Fix listing security groups when no rules When listing security groups in the dashboard and one or more security groups had no rules it failed because python throws a KeyError This commit changes the neutron API wrapper in horizon to ensure ensure rule information in SG always exists Closes-Bug: #1840465 Co-Authored-By: Tobias Urdin <tobiasurdin@binerose> Change-Id: I6e05a7dc6b6655514ee2bff6bd327da86f13900a (cherry picked from commit cdb191ec83f86dffade56be07ca53077d7c78b14) (cherry picked from commit 205c4465cdf8112779e8eb5f1618dcfc1b11e305),0.3293238580226898
2534,Adding Ghada Khalil candidacy for security PL Change-Id: Id0072fdff74e401ba81c8e63c64af890b3853114,0.2219567596912384
2535,api-ref: Fix security groups parameters The security groups parameters are optional in the response of the following APIs - GET /servers/detail - GET /servers/{server_id} So fix it Change-Id: Icc2315fd8b8c085de9d560de6ddf4c05aaaf6acb Closes-Bug: #1846656,0.2719888985157013
2536,tests: Correctly mock out security groups in NeutronFixture This will always return something when running so properly mock things This requires some minor modifications to tests Change-Id: Ibbee7fd11c1aa254e399d302adbae69126e98262 Signed-off-by: Stephen Finucane <sfinucan@redhatcom>,0.21868197619915009
2537,Temporary overwrite of the infra mirror for debian security repo Depends-On: https://reviewopendevorg/686825 Change-Id: I23163676420498bb3fd3d0e411554ca34dfbe318,0.7516026496887207
2538,Temporary overwrite of the infra mirror for debian security repo Change-Id: I23163676420498bb3fd3d0e411554ca34dfbe318,0.7516986131668091
2539,NSX|V: Configurable backend security group name Adding a configuration for the format of the NSX security group created by openstack The parameter is nsx_sg_name_format under the nsxv section_ and the default format is '%(name)s (%(id)s)' (as it was before) Change-Id: I2081bdd3ca18ee62c178ae83baf5ed2cc87bc1da,0.19498160481452942
2540,NSX|V: Configurable backend security group name Adding a configuration for the format of the NSX security group created by openstack The parameter is nsx_sg_name_format under the nsxv section_ and the default format is '%(name)s (%(id)s)' (as it was before) Change-Id: I2081bdd3ca18ee62c178ae83baf5ed2cc87bc1da,0.19498160481452942
2541,Fix urgent amphora two-way auth security bug The value of gunicorn's option 'cert_reqs` for client-cert requirement does not take a boolean_ but rather `sslCERT_REQUIRED` which is `2` Change-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992,0.2506680488586426
2542,Fix urgent amphora two-way auth security bug The value of gunicorn's option 'cert_reqs` for client-cert requirement does not take a boolean_ but rather `sslCERT_REQUIRED` which is `2` Change-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992,0.2506680488586426
2543,Fix urgent amphora two-way auth security bug The value of gunicorn's option 'cert_reqs` for client-cert requirement does not take a boolean_ but rather `sslCERT_REQUIRED` which is `2` Change-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992,0.2506680488586426
2544,Fix urgent amphora two-way auth security bug The value of gunicorn's option 'cert_reqs` for client-cert requirement does not take a boolean_ but rather `sslCERT_REQUIRED` which is `2` Change-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992,0.2506680488586426
2545,Fix urgent amphora two-way auth security bug The value of gunicorn's option 'cert_reqs` for client-cert requirement does not take a boolean_ but rather `sslCERT_REQUIRED` which is `2` Change-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992,0.2506680488586426
2546,Fix urgent amphora two-way auth security bug The value of gunicorn's option 'cert_reqs` for client-cert requirement does not take a boolean_ but rather `sslCERT_REQUIRED` which is `2` Change-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992,0.2506680488586426
2547,Fix urgent amphora two-way uth security bug The value of gunicorn's option 'cert_reqs` for client-cert requirement does not take a boolean_ but rather `sslCERT_REQUIRED` which is `2` Change-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992,0.25850194692611694
2548,Override security mirror for Debian image builds Diskimage-builder defaults to a separate mirror value for the Debian security archive_ so override it independently of our general mirror URL It's really a different URL anyway Change-Id: Ia500f564d761f56bc55acc9b1c969dbd364a0eba Depends-On: https://reviewopendevorg/686199,0.6316734552383423
2549,Add security mirror override for debian-minimal Add option to set the security mirror URL independently in the debian-minimal element_ since this can not be overriden by the standard DIB_DISTRIBUTION_MIRROR variable Change-Id: I145844a410d06a479e68db1bf6d5d0159389305c,0.6562913060188293
2550,Fix listing security groups when no rules When listing security groups in the dashboard and one or more security groups had no rules it failed because python throws a KeyError This commit changes the neutron API wrapper in horizon to ensure ensure rule information in SG always exists Closes-Bug: #1840465 Co-Authored-By: Tobias Urdin <tobiasurdin@binerose> Change-Id: I6e05a7dc6b6655514ee2bff6bd327da86f13900a (cherry picked from commit cdb191ec83f86dffade56be07ca53077d7c78b14),0.33485841751098633
2551,Change to use --remote-ip with security group rules --src-ip was deprecated in 2016_ change to use --remote-ip Related to https://reviewopendevorg/#/c/659400/ Change-Id: I6b9f17c94bdf9de070d5f2e32e97dff600a3545a,0.34292280673980713
2552,"Fix implicit ICMPv6 Security Group Rules The implicit security group rules only included a rule to allow ICMPv6 ingress traffic Furthermore_ the security group rules used reflexive connection tracking_ which causes issues when integrated with Open vSwitch rules (the router advertisement messages would result in connection tracking returning an ""invalid"" state) This patch adds bidirectional ICMPv6 to the implicit rules_ without the reflexive behavior_ which will allow the SLAAC process to succeed Change-Id: I19bfb63acaa76ce41200c4e71bc3b5c73f995748",0.20919588208198547
2553,"Fix implicit ICMPv6 Security Group Rules The implicit security group rules only included a rule to allow ICMPv6 ingress traffic Furthermore_ the security group rules used reflexive connection tracking_ which causes issues when integrated with Open vSwitch rules (the router advertisement messages would result in connection tracking returning an ""invalid"" state) This patch adds bidirectional ICMPv6 to the implicit rules_ without the reflexive behavior_ which will allow the SLAAC process to succeed Change-Id: I19bfb63acaa76ce41200c4e71bc3b5c73f995748",0.20919588208198547
2554,"Fix implicit ICMPv6 Security Group Rules The implicit security group rules only included a rule to allow ICMPv6 ingress traffic Furthermore_ the security group rules used reflexive connection tracking_ which causes issues when integrated with Open vSwitch rules (the router advertisement messages would result in connection tracking returning an ""invalid"" state) This patch adds bidirectional ICMPv6 to the implicit rules_ without the reflexive behavior_ which will allow the SLAAC process to succeed Change-Id: I19bfb63acaa76ce41200c4e71bc3b5c73f995748",0.20919588208198547
2555,"Fix implicit ICMPv6 Security Group Rules The implicit security group rules only included a rule to allow ICMPv6 ingress traffic Furthermore_ the security group rules used reflexive connection tracking_ which causes issues when integrated with Open vSwitch rules (the router advertisement messages would result in connection tracking returning an ""invalid"" state) This patch adds bidirectional ICMPv6 to the implicit rules_ without the reflexive behavior_ which will allow the SLAAC process to succeed Change-Id: I19bfb63acaa76ce41200c4e71bc3b5c73f995748",0.20919588208198547
2556,"Fix implicit ICMPv6 Security Group Rules The implicit security group rules only included a rule to allow ICMPv6 ingress traffic Furthermore_ the security group rules used reflexive connection tracking_ which causes issues when integrated with Open vSwitch rules (the router advertisement messages would result in connection tracking returning an ""invalid"" state) This patch adds bidirectional ICMPv6 to the implicit rules_ without the reflexive behavior_ which will allow the SLAAC process to succeed Change-Id: I19bfb63acaa76ce41200c4e71bc3b5c73f995748",0.20919588208198547
2557,Update Security SIG chair list and SIG description This change updates both the list of active Security SIG chairs as well as updating the description to more accurately describe the current responsibilites of the Security SIG Change-Id: I6200d7305ac9d5ca23a674d4c89ed5aea50e8baa,0.3526405692100525
2558,Fix bulk port functioning with requested security groups When bulk ports are created with a security group supplied_ the resulting port(s) should only have that security group assigned But the resulting ports are getting both the requested security group as well as the tenant default security group assigned This fixes that condition In order to ensure that bulk port creation results in the proper assignment of security groups_ add some testing Change-Id: I65aca7cd14447cc988e4bc4ab62bc7b9279e7522 Fixes-Bug: #1842666 (cherry picked from commit 88c7be55c221a87b4326a915580657f34d1ff582),0.2740146815776825
2559,Fix samples/localsh which was complaining about multiple default security groups Change-Id: I81e59eae5df79889ed1fb02d45af26e3a55aa0e9,0.2652498483657837
2560,Add tests for bulk port functioning with security groups In order to ensure that bulk port creation results in the proper assignment of security groups_ add some testing Change-Id: I65aca7cd14447cc988e4bc4ab62bc7b9279e7522,0.17209604382514954
2561,Support management security group Allow the cloud admin to control the security groups on the management port of Trove instance_ a new config option `management_security_groups` is introduced for that purpose Change-Id: I4b22b87d37792be700d4ec7f78a7ea479ddb5814 Story: 2006466 Task: 36395,0.18795248866081238
2562,Remove Extended Security Profile selections Remove 'Extended Security Profile' from the BIOS and UEFI installer menus Closes-Bug: 1839134 Change-Id: Iaf2b97c9772e010f3f32e35e1b13a47059ae07e8 Signed-off-by: Kristine Bujold <kristinebujold@windrivercom>,0.15991458296775818
2563,Update the scope of which releases are covered in the security guide Signed-off-by: Nick Tait <ntait@redhatcom> Change-Id: Icd91845e2ddb9b8be484e25fd4513d77116f9f4f,0.4942251145839691
2564,[NetApp] Follow up fixes for update security service This patch is a follow up of [1] to address some comments added in the review process It also adds more unit tests to validate the new code added [1] https://reviewopendevorg/c/openstack/manila/+/775032 Change-Id: If7b8628fa05200363a129eb19d9dc80fb7e3bc36 Signed-off-by: Douglas Viroel <viroel@gmailcom>,0.4309484362602234
2565,Fix listing security groups when no rules When listing security groups in the dashboard and one or more security groups had no rules it failed because python throws a KeyError This commit changes the neutron API wrapper in horizon to ensure ensure rule information in SG always exists Closes-Bug: #1840465 Co-Authored-By: Tobias Urdin <tobiasurdin@binerose> Change-Id: I6e05a7dc6b6655514ee2bff6bd327da86f13900a (cherry picked from commit cdb191ec83f86dffade56be07ca53077d7c78b14),0.33485841751098633
2566,Fix listing security groups when no rules When listing security groups in the dashboard and one or more security groups had no rules it failed because python throws a KeyError See bug [1] [1] https://bugslaunchpadnet/horizon/+bug/1840465 Bug: 1840465 Change-Id: I6e05a7dc6b6655514ee2bff6bd327da86f13900a,0.2388065755367279
2567,Pentest-NC Nagios – API Handling – HTTP Security Headers Not Present Added new X-Content-Type-Options: nosniff header to make sure the browser does not try to detect a different Content-Type than what is actually sent (can lead to XSS) Added new X-Frame-Options: sameorigin header to protect against drag and drop clickjacking attacks in older browsers Added new Content-Security-Policy: script-src self for implementation Added new HTTP Security header X-XSS-Protection:1 mode=block to sanitize the page_ when a XSS attack is detected_ the browser will prevent rendering of the page Change-Id: Ic79bbb96484a7f1a497c001883783338fd26a47a,0.0975140780210495
2568,add bandit security linter Change-Id: Iaddf3403a8b6bc03b148f3cfd43fe17c195a52fa,0.20254135131835938
2569,Filter security group list on the ID's we expect Filter the list of security groups based on the security group IDs we plan on using for the network Also only get the id field as this is all we need to compare Fixes an issue where deployment fail on systems with a high number of security groups Story: 2006256 Task: 35871 Change-Id: I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f (cherry picked from commit 59787768cbf1d757611be27406777a088fb16659),0.22178974747657776
2570,NSX|P: Improve security group creation Use only 1 backend call to create a new security groups with all its rules on the NSX Change-Id: Id89ea373baec9b2ad65fe99377accff27fb53ce7,0.16203497350215912
2571,NSX|P: Improve security group creation Use only 1 backend call to create a new security groups with all its rules on teh NSX Depends-on: I9cbc0bc08d9944285e4dd6b8403f0910734e8c53 Change-Id: Id89ea373baec9b2ad65fe99377accff27fb53ce7,0.16340577602386475
2572,Filter security group list on the ID's we expect Filter the list of security groups based on the security group IDs we plan on using for the network Also only get the id field as this is all we need to compare Fixes an issue where deployment fail on systems with a high number of security groups Story: 2006256 Task: 35871 Change-Id: I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f (cherry picked from commit 59787768cbf1d757611be27406777a088fb16659),0.22178974747657776
2573,Filter security group list on the ID's we expect Filter the list of security groups based on the security group IDs we plan on using for the network Also only get the id field as this is all we need to compare Fixes an issue where deployment fail on systems with a high number of security groups Story: 2006256 Task: 35871 Change-Id: I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f (cherry picked from commit 59787768cbf1d757611be27406777a088fb16659),0.22178974747657776
2574,Filter secuirty group list on the ID's we expect Filter the list of security groups based on the security group IDs we plan on using for the network Also only get the id field as this is all we need to compare Fixes an issue where deployment fail on systems with a high number of security groups Story: 2006256 Task: 35871 Change-Id: I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f,0.1652524769306183
2575,puppet-oslo: update for stx 50  * fetch the updated stx 50 patches from StarlingX   git repo instead of maintaining a local copy  * inherit stx-patch to apply patches from stx repo  * remove the local copy of stx patches  Story: 2008952 Task: 42576  Signed-off-by: Jackie Huang <jackiehuang@windrivercom> Change-Id: I42a937f479933c6db8f589b27e10d8c7c9cdd275,0.31113773584365845
2576,puppetlabs-stdlib: update for stx 50  * fetch the updated stx 50 patches from StarlingX   git repo instead of maintaining a local copy  * inherit stx-patch to apply patches from stx repo  * remove the local copy of stx patches  Story: 2008952 Task: 42576  Signed-off-by: Jackie Huang <jackiehuang@windrivercom> Change-Id: I9de731a154eb362898f6424ac7b3fc620de87d9f,0.3192795217037201
2577,puppetlabs-rabbitmq: update for stx 50  * fetch the updated stx 50 patches from StarlingX   git repo instead of maintaining a local copy  * inherit stx-patch to apply patches from stx repo  * remove the local copy of stx patches  Story: 2008952 Task: 42576  Signed-off-by: Jackie Huang <jackiehuang@windrivercom> Change-Id: I1ff4fb3c55791d804266c5068a0e6e2454e15f4e,0.27749764919281006
2578,puppetlabs-postgresql: update for stx 50  * fetch the updated stx 50 patches from StarlingX   git repo instead of maintaining a local copy  * inherit stx-patch to apply patches from stx repo  * remove the local copy of stx patches  Story: 2008952 Task: 42576  Signed-off-by: Jackie Huang <jackiehuang@windrivercom> Change-Id: I070de81feca10956a0847677175971f8e034ac58,0.2882935106754303
2579,puppetlabs-lvm: update for stx 50  * fetch the updated stx 50 patches from StarlingX   git repo instead of maintaining a local copy  * inherit stx-patch to apply patches from stx repo  * remove the local copy of stx patches  Story: 2008952 Task: 42576  Signed-off-by: Jackie Huang <jackiehuang@windrivercom> Change-Id: I55506b94fc054170ae218d5236fdbfb28feb36d5,0.30011919140815735
2580,puppetlabs-haproxy: update for stx 50  * fetch the updated stx 50 patches from StarlingX   git repo instead of maintaining a local copy  * inherit stx-patch to apply patches from stx repo  * remove the local copy of stx patches  Story: 2008952 Task: 42576  Signed-off-by: Jackie Huang <jackiehuang@windrivercom> Change-Id: I0a30d7da3d6c51a07e7fa83fb91446d4e1ed28d4,0.31499963998794556
2581,puppet-dnsmasq: update for stx 50  * fetch the updated stx 50 patches from StarlingX   git repo instead of maintaining a local copy  * inherit stx-patch to apply patches from stx repo  * remove the local copy of stx patches  Story: 2008952 Task: 42576  Signed-off-by: Jackie Huang <jackiehuang@windrivercom> Change-Id: I2a6480136508907d0a770ab5c854c7dc1f7d664b,0.31188637018203735
2582,puppet-ceph: update for stx 50  * fetch the updated stx 50 patches from StarlingX   git repo instead of maintaining a local copy  * inherit stx-patch to apply patches from stx repo  * remove the local copy of stx patches except   0005-Remove-puppetlabs-apt-as-ceph-requirementpatch_   since the original patch can't be applied directly   and the local one was rebased  Story: 2008952 Task: 42576  Signed-off-by: Jackie Huang <jackiehuang@windrivercom> Change-Id: Iddfdfe6f1f15f3be34c2bdafa461753889cd5016,0.404333233833313
2583,puppet-network: update for stx 50  * fetch the updated stx 50 patches from StarlingX   git repo instead of maintaining a local copy  * inherit stx-patch to apply patches from stx repo  * remove the local copy of stx patches  Story: 2008952 Task: 42576  Signed-off-by: Jackie Huang <jackiehuang@windrivercom> Change-Id: If37228940f1241714ec8aaa77c7c8840c1ebc3b8,0.30131375789642334
2584,puppet-keystone: update for stx 50  * fetch the updated stx 50 patches from StarlingX   git repo instead of maintaining a local copy  * inherit stx-patch to apply patches from stx repo  * remove the local copy of stx patches  Story: 2008952 Task: 42576  Signed-off-by: Jackie Huang <jackiehuang@windrivercom> Change-Id: I0c995d5454ae29d555d059decf68f234725300fc,0.3012083172798157
2585,puppet-drbd: update for stx 50  * fetch the updated stx 50 patches from StarlingX   git repo instead of maintaining a local copy  * inherit stx-patch to apply patches from stx repo  * remove the local copy of stx patches  Story: 2008952 Task: 42576  Signed-off-by: Jackie Huang <jackiehuang@windrivercom> Change-Id: I2e9c9a7e694c26c99f29c729bbec56b82b1e91b2,0.32695281505584717
2586,puppet-openstacklib: update for stx 50  * fetch the updated stx 50 patches from StarlingX   git repo instead of maintaining a local copy  * inherit stx-patch to apply patches from stx repo  * remove the local copy of stx patches  Story: 2008952 Task: 42576  Signed-off-by: Jackie Huang <jackiehuang@windrivercom> Change-Id: I794684c1f4e6a2cbf2b07571b8f85d36337af9e8,0.3276224732398987
2587,python-django-horizon: update for stx 50  * fetch the updated stx 50 files and patches from StarlingX   git repo instead of maintaining a local copy  * inherit stx-patch to apply patches from stx repo  * remove the local copy of stx files  * update the do_install according to the spec  Story: 2008952 Task: 42576  Signed-off-by: Jackie Huang <jackiehuang@windrivercom> Change-Id: Ib6357d15ca7a54bd0bdb1856229f24f4256d5cd7,0.347467303276062
2588,lldpd: update for stx 50  * fetch the updated stx 50 files and patches from StarlingX   git repo instead of maintaining a local copy  * inherit stx-patch to apply patches from stx repo  * remove the local copy of stx files and patches  Story: 2008952 Task: 42576  Signed-off-by: Jackie Huang <jackiehuang@windrivercom> Change-Id: I72cea19aee7701de26e2d737b61a701ca6edfbca,0.2998933792114258
2589,python-keystone: uprev to 1600 for stx 50  * update the branch and SRCREV * update the preferred version * use BPN instead of PN in some places  * fetch the stx-files from StarlingX git repo instead of   maintaining a local copy  * inherit stx-patch to apply patches from stx repo  Story: 2008952 Task: 42576  Signed-off-by: Jackie Huang <jackiehuang@windrivercom> Change-Id: Ib26174981da145fbdfe6417059963f1dc5276d38,0.28101909160614014
2590,stx-patchbbclass: add bbclass for patches from stx repo  StarlingX has many repos to maintain patches and meta data for packages_ previously we added a local copy of those patches as bitbake's metadata for each recipe which may cause maintenance issue  To avoid that_ we can fetch those patches from stx git repo_ and use this bbclass to redefine the SRC_URI before do_patch_ so it can find the patches in stx repo and do the patch_ then the local copy of those patches can be removed and for the future upgrade_ we don't need to manually check and update those patches any more  Story: 2008952 Task: 42576  Signed-off-by: Jackie Huang <jackiehuang@windrivercom> Change-Id: I72798fa668aa835f7f33d7d9ff0a76416c98489a,0.2910459339618683
2591,Remove unused and broken tests  The notifications test has been broken for some time Since we are always skipping this and it is broken Let's remove it to keep the repo clean and ensure all of our functional tests are relevant to our needs and working  Story: 2008968 Task: 42608  Change-Id: Ic0ee66ef186cd5faa317513e95e6068cf1519089,0.25842171907424927
2592,test upload to devel  Signed-off-by: Yong Fu <fuyong@neusoftcom> Change-Id: I984e45574df8e1cfa62f826b054cad554488f03e,0.2924540340900421
2593,Drop Fedora support  Fedora support is never tested_ and has been unmaintained for a while Because we don't expect any actual user using OpenStack on Fedora_ this change drops support for Fedora directly  Change-Id: I13ddc7d2f42c6c2f1941da9ffd05310aeaec875e,0.2638586759567261
2594,Enhance os-ken to support Nicira PacketIn2  neutron ovs agent has to handle advanced packet_in with custom userdata which is necessary to openflow-based floating IP implementation_ but current os-ken doesn't have such infrastructure  This story is to enhance os-ken in order that neutron ovs agent can act as an advanced SDN controller to handle advanced packet_in  Story: #2008964 Task: #42600  Signed-off-by: Yi Yang <yangyi01@inspurcom>  Change-Id: I4f993be5dd4a5f48396c4be152da5b61ea92392f  Change-Id: I471ecb2936ca5e45215b4676ae36dd96f68a83b9,0.16422316431999207
2595,Enhance os-ken to support Nicira PacketIn2  neutron ovs agent has to handle advanced packet_in with custom userdata which is necessary to openflow-based floating IP implementation_ but current os-ken doesn't have such infrastructure  This story is to enhance os-ken in order that neutron ovs agent can act as an advanced SDN controller to handle advanced packet_in  Story: #2008964 Task: #42600  Signed-off-by: Yi Yang <yangyi01@inspurcom>  Change-Id: Ifc7372974319c4bc3e9955c5732338e090e2e49e,0.1611310839653015
2596,Add float types to load_items to support configuration parameters of float type  Complement missing float types when loading configuration group parameters so that parameters of type float can be attached into the trove instance successfully  https: //storyboardopenstackorg/#!/story/2008917 Change-Id: I18c4b33f1eeacc3bb5f9d5f3ae72ca5c00f540d9,0.16151443123817444
2597,wip  Change-Id: I34c4335f93af13ec5fdb3145dd501508ed6bb2e5,0.19289949536323547
2598,Update hacking version to latest  Change-Id: Ic2a7e55a0e7a4bf2297a2177004cc967fae200ae,0.3992878198623657
2599,Bump the openstackdocstheme extension to 120  Some options are now automatically configured by the version 120: - project - html_last_updated_fmt - latex_engine - latex_elements - version - release  Change-Id: I9baf2c5091d899302bf55050c4ee6efb481adb53,0.23381324112415314
2600,Specify the nodeset for zuul jobs  The py27 jobs need to specify xenial Changed py37 to py36 and specify bionic  The un-specified python3 jobs work fine on either focal or bionic  zuul is not setup to trigger off code changes in this repo so no source code changes are required to trigger the zuul jobs  Partial-Bug: 1928978 Signed-off-by: albailey <AlBailey@windrivercom> Change-Id: Iab9c8727a0f16fa7ff02c20ca3bec5622abe7bd7 (cherry picked from commit 5ff24cf13f9d8cacab9ec15ff193fc8c819d31f4),0.276947557926178
2601,DNm: testing  Depends-On: https://reviewopendevorg/c/openstack/devstack/+/796035 Change-Id: I000f81be877c9da678ad0d14bdf933d25169e59a,0.34744757413864136
2602,DNM: testing  Depends-On: https://reviewopendevorg/c/openstack/devstack/+/796035 Change-Id: I93a1cf8b7ed1a2dc4a464ecb59ca3275792456af,0.34987837076187134
2603,Fix file permissions  Remove exectuable bit  Signed-off-by: Charles Short <charlesshort@windrivercom> Change-Id: Idad480d54459e19d03f9273167ed64fee0c6674b,0.14501367509365082
2604,Use oslopolicy  All OpenStack projects should use the oslopolicy[1] module for policy enforcements This patch converts the cgcs-patch code base from its oslo-incubator policy module to oslopolicy  [1] http://docsopenstackorg/developer/oslopolicy/usagehtml  Signed-off-by: Charles Short <charlesshort@windrivercom> Change-Id: Ife1df468f98c0eaea593e2a2a1e462f89476c19b,0.1877763867378235
2605,Merge remote-tracking branch 'origin/master' into f/centos8  Signed-off-by: Charles Short <charlesshort@windrivercom> Change-Id: Iea31a2c8bc11e1f4f71ed65d80f07bc3387f339b,0.29927948117256165
2606,Merge remote-tracking branch 'origin/master' into f/centos8  Signed-off-by: Charles Short <charlesshort@windrivercom> Change-Id: I4a6c926de965b9fe485e9e1440482a268b58d759,0.2938990294933319
2607,Specify the nodeset for zuul jobs  The py27 jobs need to specify xenial The py36 jobs need to specify bionic The focal zuul nodes only have python 38 installed in them  The copyright date was updated for some files in order to trigger the zuul jobs_ as a no-delta type of change  Partial-Bug: 1928978  Note: This is not a straight cherry-pick since the cherry-pick didn't apply cleanly  Signed-off-by: Charles Short <charlesshort@windrivercom> Change-Id: Ie3cff460d357198ebd0182593484ce585a7faa05,0.278217613697052
2608,DNM - Testing os_tempest from release  Change-Id: Ie5f32c77c4353e92477540d0d461bc5aa75d2655,0.38324105739593506
2609,"Do not create on the fly segmentation allocations  Since [1]_ the physical network VLAN ranges parser populates the ranges for those entries without a defined range_ allowing all valid VLAN ranges ([1_ 4094]) When the VLAN driver is inititalizated_ all physical network segments are stored in ""ml2_vlan_allocations""  In tunneled drivers (VXLAN_ GRE_ Geneve)_ there is only one segment range and_ if defined_ is mandatory When the tunneled driver is initializated_ the ""ml2_<tunnel_type>_allocations"" table is populated too  Now we ensure all segment allocation registers are created during the drivers initialization_ this patch prevents from creating any allocation register in runtime ""SegmentTypeDriverallocate_fully_specified_segment"" will select and reserve the selected allocation register but never create one  [1]https://reviewopendevorg/c/openstack/neutron-lib/+/779515  Change-Id: I399ba01cd5411c24fe20750421fc963cf79686af Related-Bug: #1919280",0.11209408938884735
2610,Configure a NetworkManager profile with ipv6 supported format  This test was unstable due to the default ipv6 format in NM isn't supported by neutron  Change-Id: Ied226dec9923f021d8f26f1e59b01602d4b1ae82,0.16645491123199463
2611,Delete reverse records on FIP deletion without dns_domain  When floating ip is created without dns_domain and dns_name_ ptr record is created in designate On setting this ptr record_ new recordset PTR entry created On deletion of floating ip_ ptr record gets deleted however reverse record ie recordset entry remains Allowing to delete recordset on floating ip deletion without dns_name and dns_domain for admin_client with edit_managed_records set to fix above issue  Closes-Bug: #1746627 Change-Id: I0813480ac67fbd948f76cc9973eb3e8718a0adca,0.11636628210544586
2612,DNM Just test for neutron-lib context change  Depends-On: https://reviewopendevorg/c/openstack/neutron-lib/+/779720 Change-Id: Ifda1720df597dc1692fc34ff1e102194d5cbcbdb,0.28982412815093994
2613,Override initial network creation  Define a function neutron_plugin_create_initial_networks that will override the default creation of initial networks in DevStack and make sure that the initial networks are created with address scopes so that they can be announced via BGP later on  Depends-On: https://reviewopenstackorg/568866 Change-Id: I11801adce32380869b3854a39e9069e320adf882,0.1201980784535408
2614,Use py3 as the default runtime for tox  Moving on py3 as the default runtime for tox to avoid to update this at each new cycle  Wallaby support officially the following runtimes [1]: - Python 36 - Python 38  During Victoria Python 37 was used as the default runtime [2] however this version isn't longer officially supported  [1] https://governanceopenstackorg/tc/reference/runtimes/wallabyhtml#python-runtimes-for-wallaby [2] https://governanceopenstackorg/tc/reference/runtimes/victoriahtml#python-runtimes-for-victoria  Change-Id: I6c9f4b8b9b566fea790657dba0eb7a64c32f6dec,0.09394983947277069
2615,Change FIP creation to use the templated domain name  This shows an error in the code_ the FIP is created but the API still returns an error 500 The traceback in the log shows:  neutronapiv2resource designateclientexceptionsBadRequest: 'tempest-fip-test-1312680778<user_id><project_id>tempest-test-domain-771924543zone' is not a 'PTR' Record  Change-Id: Ic2e9096a7a590f1d3a7c405c34b4baab5357cb94,0.1191803365945816
2616,Make ovs evpn driver an os-ken app  TODO: add tests  Closes-Bug: #1883102 Change-Id: Iaedea657c2ef39923d9d03c290a54f4ca1c3a216,0.15778793394565582
2617,Get rid of the $pyvers variable  Since everyone has switched to Python3_ it's time for the removal of the $pyvers variable  Change-Id: I4254185684dcc47ab9cc890c2aa9478aeb89b922 Co-authored-by: Thomas Goirand <zigo@debianorg>,0.29468196630477905
2618,DNM Just some extra logs to understand the Haproxy issue  Change-Id: Iaf02d6ed8bcfef4c9d29583b60c2f4cee48ad833,0.2627921998500824
2619,[WIP][DNM] [HA] Use RPC instead of socket server to communicate HA router state change  TODO: everything  Change-Id: I7d208371e0f1ec1ba1ddcd244da6dc3a6f63c495,0.08031606674194336
2620,WIP: Make keepalived configuration more configurable  - TODO: add keepalived conf to neutron conf file - Converting keepalived config to jinja template  Change-Id: I33f4ca869eccb06ac0316234a11abbb520879846 Closes-Bug: #1892200,0.1358768343925476
2621,L3 agent metering extension  This patch will add L3 agent a new metering facility  AddS L3 agent extension l3_ip_metering_ then L3 agent with metering extension will periodically gather floating IP and gateway IP traffic metering data  The statistics data will be pushed to the message queue via RPC notification by default Then the telemetry service_ aka ceilometer_ will be able to collect and store the l3 metering data  And also we can store the merting data to the local file So the external service like zabbix agent or some TSDB can read the data from the local file  Closes-Bug: #1817881 Change-Id: I34ad646392e266a69b0c3be31bb1d04220ca5a8b,0.14941024780273438
2622,Get rid of the $pyvers variable  Since everyone has switched to Python3_ it's time for the removal of the $pyvers variable  Co-authored-by: Thomas Goirand <zigo@debianorg> Change-Id: I118d45d409b22b34665383ea58fb6f31c0484efc,0.28837692737579346
2623,Add function get_traffic_counters for L3 IPs  This adds a way to get L3 IPs statistics from L3 IPs QoS TC filter rules  Change-Id: I80eb64741afd7949189138d9108ee90c2687bf52 Closes-Bug: #1817881,0.08339578658342361
2624,Routed provider nets: Fix subnet allocation logic  Tempest Test: https://reviewopendevorg/c/openstack/tempest/+/665155 Closes-Bug: #1916276 Change-Id: Ib8ffb47bebd08a58f6583f1ea873000b33db5e42,0.15489622950553894
2625,"Stop compiling ovn and ovs from source in the grenade job  Since [1] Devstack can install ovn using packages from the distro and we don't need to force installation from source in the ""old"" Devstack in the grenade job  [1] https://reviewopendevorg/c/openstack/devstack/+/763402  Change-Id: I295c6294fcf0e66c49dde120e1df2f860bb877aa",0.36168602108955383
2626,Correctly label port as SubPort in SubPortNotFound  The SubPortNotFound exception gets the port id of the subport that was not found This is now correctly labeled as SubPort_ not as parent port anymore  Change-Id: I6e33ff4a7e0cb7864535a0905b5dc197a0aa8a5d,0.11577308177947998
2627,Get rid of the $pyvers variable  Since everyone has switched to Python3_ it's time for the removal of the $pyvers variable  Change-Id: Idb43d9e560dd9c6e8f5cf48cbd0eef09e91717c5 Co-authored-by: Thomas Goirand <zigo@debianorg>,0.298441082239151
2628,Imported Translations from Zanata  For more information about this automatic import see: https://docsopenstackorg/i18n/latest/reviewing-translation-importhtml  Change-Id: Ibb1919e15436608d028d17592e1332b534fcb5c9,0.14151306450366974
2629,Ussuri+ is python3 only and update python to python3  Change-Id: I987e897f90c114cc0baf2b4e73f0b5e3bd64f40c,0.18670499324798584
2630,Router routes nexthops should have connectivity with gateway  All router routes should have connectivity with any subnet of the gateway network The route nexthop IP address should belong to any of the gateway subnets CIDRs  Related-Bug: #1925368  Change-Id: Iea52119aaeaeae28416b8481fe1a2c14a3b913da,0.10906830430030823
2631,"""Improve Network delete performance  - pass existing network dict to PRECOMMIT_DELETE ml2 handler; - skip MTU and segment update handling in case network is   about to be deleted  Above gives up to 50% net delete speed-up  Conflicts: 	neutron/services/segments/dbpy  Change-Id: I07c70db027f2ae03ffb5a95072e019e8a5fdc411 (cherry picked from commit 80eddc40390e63c9c1102b827997054708f2618b) (cherry picked from commit 23e160131be16fc21eb789372b864489ef99c576)""",0.18856075406074524
2632,Remove sixPY3  The Python 27 Support has been dropped since Ussuri So remove hacking rules for compatibility between python 2 and 3  Change-Id: I2ebc3f5ca41043ffdfcf367c2f3837ead0b1f804,0.1952318251132965
2633,Get rid of the $pyvers variable  Since everyone has switched to Python3_ it's time for the removal of the $pyvers variable  Change-Id: I943ce862ad9576e5a8fe10f806e9af9aebbdfedf Co-authored-by: Thomas Goirand <zigo@debianorg>,0.288648784160614
2634,BFD for BGP Dynamic Routing  Related-Bug: #1922716  Signed-off-by: Manu B <manubk2020@gmailcom> Change-Id: I054b4759d4901509bde2c32f212a21971f8ce2c6,0.12388631701469421
2635,"Supports Pagination and Sorting for agent List  Neutron-lib patch defined with new  API extension to support ""sort_key"" argument and fix was merged  Change-Id: I08227fac7001d526ae6ffdaa9a1e32fd0817a472",0.15161216259002686
2636,Set proxy_delay to low value when using proxy_arp  Neutron DVR uses proxy_arp in fip namespaces to respond to arp requests for instance floating ips In doing so it is susceptible to a random delay up to by default 800ms which is added to the time taken to respond to an arp request that has to be proxied This causes an inital delay to any request that involves an initial arp request is entirely avoidable by changing this parameter  Change-Id: I0dc65b17ef436a97d0fcbd164d124ec59a1b2797 Closes-Bug: #1920975,0.12568524479866028
2637,setupcfg: Replace dashes with underscores  Setuptools v5410 introduces a warning that the use of dash-separated options in 'setupcfg' will not be supported in a future version [1] Get ahead of the issue by replacing the dashes with underscores Without this_ we see 'UserWarning' messages like the following on new enough versions of setuptools:    UserWarning: Usage of dash-separated 'description-file' will not be   supported in future versions Please use the underscore name   'description_file' instead  [1] https://githubcom/pypa/setuptools/commit/a2e9ae4cb  Change-Id: I9697c8084478b1e27eb2bc4114bb64175268b94f,0.3339282274246216
2638,WIP: DNM  Change-Id: Ic6606cf3a61a740f50d02f4a891edc0d39ddf6dd,0.28482240438461304
2639,Use py3 as the default runtime for tox  Moving on py3 as the default runtime for tox to avoid to update this at each new cycle  Change-Id: I4f1ab8be1c270872cc4976fb48f1b3b11dc22ecc,0.061066389083862305
2640,Use py3 as the default runtime for tox  Moving on py3 as the default runtime for tox to avoid to update this at each new cycle  Change-Id: I430ec25585184a1a0e104dc753289933df77f105,0.06560081243515015
2641,Use py3 as the default runtime for tox  Moving on py3 as the default runtime for tox to avoid to update this at each new cycle  Change-Id: I289f35d615c70904101776729fbe6e20e7c7c19e,0.06376782804727554
2642,Dropping lower constraints testing  We facing errors related to the new pip resolver_ this topic was discussed on the ML and QA team proposed to to test lower-constraints [1]  I propose to drop this test because the complexity and recurring pain needed to maintain that now exceeds the benefits provided by this mechanismes  [1] http://listsopenstackorg/pipermail/openstack-discuss/2020-December/019390html  Change-Id: I44c08693eb90c7f1092020f91759426145628eac,0.2423160970211029
2643,Dropping lower constraints testing  We facing errors related to the new pip resolver_ this topic was discussed on the ML and QA team proposed to to test lower-constraints [1]  I propose to drop this test because the complexity and recurring pain needed to maintain that now exceeds the benefits provided by this mechanismes  [1] http://listsopenstackorg/pipermail/openstack-discuss/2020-December/019390html  Change-Id: I4f8c8ec8d0835442d6dc5c87302bf6df537a9b64,0.24347971379756927
2644,Dropping lower constraints testing  We facing errors related to the new pip resolver_ this topic was discussed on the ML and QA team proposed to to test lower-constraints [1]  I propose to drop this test because the complexity and recurring pain needed to maintain that now exceeds the benefits provided by this mechanismes  [1] http://listsopenstackorg/pipermail/openstack-discuss/2020-December/019390html  Change-Id: I0063b02fbceb83d17db7d5b508b200e55bc21395,0.23865820467472076
2645,Dropping lower constraints testing  We facing errors related to the new pip resolver_ this topic was discussed on the ML and QA team proposed to to test lower-constraints [1]  I propose to drop this test because the complexity and recurring pain needed to maintain that now exceeds the benefits provided by this mechanismes  [1] http://listsopenstackorg/pipermail/openstack-discuss/2020-December/019390html  Change-Id: Id41984278156c9a102cd3955e1a6127a8a72ce1d,0.24389000236988068
2646,Dropping lower constraints testing  We facing errors related to the new pip resolver_ this topic was discussed on the ML and QA team proposed to to test lower-constraints [1]  I propose to drop this test because the complexity and recurring pain needed to maintain that now exceeds the benefits provided by this mechanismes  [1] http://listsopenstackorg/pipermail/openstack-discuss/2020-December/019390html  Change-Id: Ia38eb0c753fc1e2dfa37e520d011af84018a6db5,0.2432785928249359
2647,DNM - Testing new cloud-init-version  Change-Id: Ib033b8eeb753479461017dd7f09e21fcf91d8115,0.3557962477207184
2648,[DNM] Update systemd before bootstraping bifrost  Change-Id: Ie54513150d5b3bd94866a260bb1233e729dfd538,0.2200610637664795
2649,"Removed unnecessary check for py27 behavior  The master branch no longer supports python 27_ certain depencies listed in requirementstxt lack support as well We also use py>3 constructs in our code  In fact basic tox with ""-e py27"" fails almost immediatelly  As such this check is unnecessary  Signed-off-by: Jiri Podivin <jpodivin@redhatcom> Change-Id: Idc56bfbea975fc2ba95d2f98c6a7988016ea52c6",0.297307550907135
2650,Headers are case-sensative  Depends-On: https://reviewopendevorg/c/openstack/designate/+/795906 Change-Id: Ic2008ca2e2a1c407fd183088a2c77a66ddecfa28,0.2524966597557068
2651,wip  Change-Id: If991ced3b364126e0ab9cb9fcc6b870946ebc5e7,0.1995430588722229
2652,[DNM] CI stability test  Change-Id: Ic8c9c7bbd2ad21e5b7ee111bc0141146b88d0eda,0.30479133129119873
2653,Enable panko-expirer  Change-Id: Ic7b815d4014adbf007dba505e6c99118b693b6a3,0.22727476060390472
2654,Drop Fedora support  Fedora support is never tested_ and has been unmaintained for a while Because we don't expect any actual user using OpenStack on Fedora_ this change drops support for Fedora directly  Change-Id: I12be1252789149fd41229151df5028c0871c0094,0.2725152373313904
2655,WIP Switch glance_api_config ini management to ruby backend  This is done so that we can correctly specify multiple notification drivers Via puppet-oslo change in If65946412b42e0919456ed92fdd8e3788ad67872 we want to be able to specify multiple drivers for oslo messaging notification by passing a list  Let's switch the ini management backend to the ruby backend so we can correctly have multiple driver= lines  NB: WIP as I need to do another round of tests (initial tests were fine)  Change-Id: I17a2971099f12ddd754593aae8b380f01518c8ea Related-Bug: #1851629,0.1274344027042389
2656,Don't fail in create_router if router already exists  If the router already exists_ just use it and update its fields  Change-Id: I7779f192b1ed64606c250c9301baef19a4ea08b5 Closes-Bug: #1917508,0.060904115438461304
2657,"Revert ""Add route to IPv6 private subnets in ML2/OVN""  This reverts commit 949f5ada608961fd05435e01bd9d06757b6c62c5  Change-Id: I30e73df3de8b654287d140fd739c3e40830e5d8d",0.3343280255794525
2658,Change site variable name  Changed the variable name form SITE_NAME to SITE to be consistent with other scripts and deployment guide  Change-Id: I44d13c3a9a27e220a65982a497d838d201547f3d,0.13836488127708435
2659,DC k8s update orchestration-process  Added step to workflow per comment on closed https://reviewopendevorg/c/starlingx/docs/+/794840  Signed-off-by: Ron Stone <ronaldstone@windrivercom> Change-Id: I86d57c6336cb26919147fc9e76341ffea4aaf33a,0.3116298317909241
2660,"Revert ""Fix collator image build""  This reverts commit cf7c83b58804032461f4264cb859cf28f1d3dc87  Reason for revert: This change did not work as intended_ the resulting images no longer contained any charts Reverting_ and we can work on an alternate fix for the original problem separately as needed   Change-Id: I1e4f0c12490bbf1a42e50232dfeafdfc8ea0384a",0.34950095415115356
2661,Specify the nodeset zuul jobs  The py27 jobs need to specify xenial The py36 jobs need to specify bionic The focal zuul nodes only have python 38 installed in them  The copyright date was updated in order to trigger the zuul jobs_ as a no-delta type of change  Partial-Bug: 1928978  Signed-off-by: Charles Short <charlesshort@windrivercom> Change-Id: I7fc66abe81c2fd2031337ce447a2b8d157d9be34,0.2656007409095764
2662,"Disable Log Streaming from k8s Pod Nodes  Temporarily disable log streaming from k8s Pod nodes because of bugous kubectl port-forwading While streaming the output from command/shell tasks from k8s Pods_ the TCP connection gets reset sporadically leading to missing log output and a 30 sec time penalty  The error that appears sporadically is ``` Traceback (most recent call last):   File ""/usr/lib/python36/threadingpy""_ line 916_ in _bootstrap_inner     selfrun()   File ""/usr/lib/python36/threadingpy""_ line 864_ in run     self_target(*self_args_ **self_kwargs)   File ""/var/lib/zuul/ansible/29/zuul/ansible/callback/zuul_streampy""_ line 161_ in _read_log     buff = srecv(4096) ConnectionResetError: [Errno 105] Connection reset by peer ``` and might be related to the k8s upstream issue here https://githubcom/kubernetes/kubernetes/issues/74551  Change-Id: I0edd43604fab16ac79300b9729fe97a69d86170c",0.15578222274780273
2663,DNM testing tempest volume detach failure capture of console  Depends-On: https://reviewopendevorg/c/openstack/tempest/+/794757 Change-Id: I478c4c4af5c75de1bd832e895f39d1a010192ec9,0.1951393187046051
2664,Reasonable error message if network_interface is not found  Change-Id: I96b7af2472addb879df545818a67f58ace8b2572 (cherry picked from commit 7f2d0eb91db63632d7839a6b33327fd49af908e4),0.27222055196762085
2665,[upgrade] Remove unsupported kernel modules before leapp  When enacting the upgrade from RHEL7 to RHEL8 using leapp_ it will hard-stop if these modules are loaded Thus far_ these are the ones tripping up CI and some customers  To cater to customers who might hit this_ and to resolve issues in CI_ we add this script as the default for the LeappInitCommand which runs immediately before leapp  This ensures that it is there to cover the majority of customers_ but it is also easily overridden with changes if further changes are required for the customer environment or for the future It is also perfectly suitable to use the existing parameter instead of adding a new one  Related: rhbz#1962365  Change-Id: I025a604ddcb1f76cde3e51a359d720de42c51d91,0.13340725004673004
2666,Update amphora status on health update  When update amphora health_ if amphora status is not ACTIVE - update status to ACTIVE to align amphora's state  Change-Id: I98b31be1b1c0f61157831145ef9d19d481e2e0b0 Story: 2008248 Task: 41095,0.12340953946113586
2667,"[WIP] Remove DB Port backref to DB RouterPort  Removed back reference from ""Port"" to ""RouterPort"" ""Port"" DB object does not need to retrieve ""RouterPort"" (and ""Router"" and ""Agent""_ from ""RouterPort"") when a port is fetched  Change-Id: If01568110ebfa80c46e595fa4818572300baf05b Closes-Bug: # TBD",0.07883700728416443
2668,Remove creation LBAAS tables during init ops  LBAAS was retired in Train The related DB tables created during the initial DB operations are not needed and can be removed Those tables are not referred by any other project  Change-Id: I68123b8e0dcf529078aea4de8cb3610a3202a4d9 Related-Bug: #1833125,0.07366963475942612
2669,Remove creation NEC plugin tables during init ops  NEC plugin was deprecated in Liberty The related tables are not used by any project  Change-Id: Idff60bd14ff1f9eceb269c42e3defec102a0023e Related-Bug: #1545620,0.09584370255470276
2670,"Set a timeout in bash ""kill"" command  This patch sets a timeout of one second to the ""kill"" command execution Regardless of the result of the command_ that should be instant_ the command is terminated one second after the execution  Change-Id: Ia2db40601ac3b48bc7b5b629bdf8686884037555 Closes-Bug: #1921154",0.14686256647109985
2671,Use and ownership info for the network_environment module  Also reorganized the author list  Signed-off-by: Jiri Podivin <jpodivin@redhatcom> (cherry picked from commit 897ab279ebd41328187760bf500e05da10dfd2ae) Change-Id: I5310db18010c84525a2a5cf172b03fc610b57976,0.24073180556297302
2672,Use and ownership info for the verify_profiles module  Signed-off-by: Jiri Podivin <jpodivin@redhatcom> (cherry picked from commit 55066def3aed2aacd54c084d125bafe770411743) Change-Id: I8b51933a711889e46b40adef131ffb7b3531b5e3,0.20222114026546478
2673,Open tripleo-heat-templates for Xena  To avoid pushing an artificial alpha tag_ following PBR semver keyword bumps major version See http://docsopenstackorg/developer/pbr/#version  Change-Id: I69225a63f98e945d9b9364f0425bdac807bf3f0e Related-Bug: #1931223 Sem-Ver: api-break,0.17750541865825653
2674,Open python-tripleoclient for Xena  To avoid pushing an artificial alpha tag_ following PBR semver keyword bumps major version See http://docsopenstackorg/developer/pbr/#version  Change-Id: I69225a63f98e945d9b9364f0425bdac807bf3f0e Related-Bug: #1931223 Sem-Ver: api-break,0.20896850526332855
2675,"Add shell optional arguments for quota  checkpoints resource is supported in this patch: https://reviewopendevorg/#/c/659776/  the argument ""checkpoints"" can set by ""sdk call"" or ""restful api call""_ the ""CLI call"" is not support for this argument_ so add support in this patch  Change-Id: I04e300e11b277f4e35d6f03e2428ece458e14519",0.11900525540113449
2676,Change virtualenv for refstack  Tempest plugins are installed to the tempest/venv virtual environment Choosing the incorrect virtuale environment (venv) makes refstack to end with an error  Change-Id: I07c53ee3f7f64f945dcb101a8771b2df72366b93,0.2099185734987259
2677,Remove the unsafe convert of lvm imagebackend  After adding REQUIRES_RAW_IMPORT = True for lvm imagebackend_ the cache images of lvm imagebackend are always raw format So that_ we never need to convert the format here So we remove the calling function of 'convert_image_unsafe' now  Change-Id: I9b7a4ce56c697e8806b4595dfebbdebe07ec45ce,0.1993410885334015
2678,Use the functional test test_parallel_evacuate_with_server_group  The related bug https://bugslaunchpadnet/nova/+bug/1735407 Evacuation does not respect anti-affinity rules  Fixed in related patch https://reviewopenstackorg/#/c/649953/  Change-Id: I136b2a8a38c36ea9717d592c748d8758f15d6d28 Closes-Bug: 1763181,0.1014770045876503
2679,[WIP] Fix live migration break group policy simultaneously  Now we will do later check for creating instances and evacuation All of them will cause race  Here we also call later check for live migration  Change-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263 Closes-Bug: 1821755,0.06884260475635529
2680,Allow ovn_db_host to be of type array  On an OVN clustered database environment_ there is no OVN VIP as all OVN databases are active Neutron has to be configured to point to all OVN database servers in the cluster  Co-Authored-By: Michele Baldessari <michele@acksynorg> Change-Id: Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2,0.1591452807188034
2681,"Support NFS with the file driver  NFS can be used for redundancy for the file driver in addition to Ceph or S3 options already available in the charm Add ""nfs"" interface support so the charm can receive information of NFS storage through the relation  Closes-Bug: 1931672 Change-Id: I328be51bc02c6ef8b234b18c57c13fdd759938e7",0.07330847531557083
2682,DNM: Check failing test  Change-Id: I081af1d07baa940fe6b89d8934a95645e205e5ef,0.2651726305484772
2683,Fix host reserved json examples  JSON requires lowercase booleans  Change-Id: I54523c33039d4e5522df85b51267c5f4136fe783,0.17720435559749603
2684,DNM: testing depends-on  Depends-On: https://reviewopendevorg/c/openstack/tempest/+/795162 Change-Id: I9f376ec964c59def285825b6dae26cdb4b282c83,0.2727395296096802
2685,DNM  Change-Id: I02376837fdf39ede1175fe076aa82c565375ac28,0.283858060836792
2686,"Avoid SRIOV misconfiguration at FEC device  When performing a batch SRIOV configuration (eg from shell script)_ it may be possible that commands consecutively issued - either related to interface(s) or a second FEC device settings - make the FEC device configuration to be not fully applied_ and then unlock fails by semantic check  The reason for that is hieradata might get updated by intermediate inventory reports that could overwrite the values to be set with the current ones_ since it hasn't separate fields for both values This change makes 'num_vfs' to be used as the ""configured"" value (like it is actually used in puppet manifest) and creates another 'sriov_vfs' that will contain the current value for number of VFs  Another change is not calling platform::devices::fpga::fec::vf when applying runtime manifest_ which could also fail in case PCI addresses are changing from what is in hieradata  Closes-Bug: #1931458 Signed-off-by: Douglas Henrique Koerich <douglashenriquekoerich@windrivercom> Change-Id: I9938e041ad2997ce8fbe68525fbfd6247cb1ce03",0.1504068225622177
2687,"[WIP][DNM] Implement a entry point wrapper with timeout  TODO: testing_ documentation and release not  This new entry point decorator allows to define a maximum execution time for the passed method If time is exceeded_ a ""PrivsepTimeout"" is raised  Related-Bug: #1921154 Change-Id: I32b70c9d15bc5ced8ae2cc8c252db91c7b246d55",0.08990329504013062
2688,Eliminate sdist step from sysinv zuul  Zuul fails on setting up pbr randomly in the sdist step It is unclear if the reason is that something is source packaged during tox which conflicts with another zuul job of a different interpreter_ so simply disabling source dist generation  Most openstack projects are configured like this  Partial-Bug: 1922590 Signed-off-by: albailey <AlBailey@windrivercom> Change-Id: Ieb4cf4113c07a0e166c001f124d920ba7118afb3 (cherry picked from commit 5b73ac5813e889ddcd0feb65f96eff0ac789e69a),0.3568284809589386
2689,quicktest  Change-Id: I877df827dbc6909432f56dd69a440639b6787dd3,0.1877068281173706
2690,Remove all glance-registry related changes  Removed all glance-registry related changes from puppet-glance_ since Glance Registry has become redundant & been deprecated from glance due to support of Glance V2 The registry code base is also going to be removed from Glance project once all the dependencies removed from other projects  Change-Id: Iee58bf3efa6495f034bae31269a0d9416dc0f5fe Related-Bug: #1808911,0.2915326952934265
2691,Remove existing env vars before scale down  Existing environment variables cause scale down failures This is an issue if the user sources the stackrc file instead of just exporting OS_CLOUD=undercloud Since we rely on cloudsyaml for the scale down to work The env vars set by stackrc need to be removed  I also added a task to reset them after we're done to improve the overall experience  Closes-Bug: #1931172 Change-Id: I9baefb9b9ab7b21b58b48b29f1f70c8c19005340,0.1293870210647583
2692,DNM: Test unit tests  Change-Id: If5db2f908d0e63e0cb8556fdb461a372076bc9df,0.24752581119537354
2693,DNM: Check how enable_user_pass => false behaves  Change-Id: I5c2fa1e47f20b69e6ba31311b0d3e557d45c6df6,0.16098611056804657
2694,[WIP] mock ovspollerPoller  Change-Id: I70372bf84951fb39a6bf63e3b16ae8df026f8733,0.2425389289855957
2695,Add compatibility for 210  If you pip install ansible (not base) to get ansible 210_ the collection is available so we need to import that differently than it is currently imported for 29  Change-Id: I25b203882b06a9b98541e92c24be52d92858d8c1,0.280135840177536
2696,Move prefetch container to pre deploy  Now that we've added pre deployment steps_ we can move the container fetching from step 1 to the pre deploy steps  Change-Id: Icceeff82eef676881853796b4f7142c254f6818e,0.2031007707118988
2697,Bump ovs and ovn versions to 215 for FFWD  A new openvswitch and ovn version has been released_ 215 As during the leapp upgrade we tell leapp which version of ovs and ovn to install in order to safe some restarts we now need to update the version in the UpgradeLeappToInstall Heat parameter  Resolves: rhbz#1966476 Change-Id: I50cfc8d33efe80b0ac98347f230c68af9a561574,0.38310152292251587
2698,[WIP] Check the target root device with smartctl  Change-Id: I6dc357659b1c0f9f491d61043ca38878a60e3327 Story: #2008937 Task: #42545,0.11968810856342316
2699,DNM: IPv6 testing hack  Move assignment of default route devices to right before usage_ trying to track down why accept_ra is not getting triggered  Change-Id: I80ecc791a573ac56493bbf23f57bebd79a9dd4c5,0.09438201785087585
2700,"Revert ""Support using ephemeral Heat""  This reverts commit e8f53ae778921f42714881d90d18ef28608bc354  Reason for revert: https://bugslaunchpadnet/tripleo/+bug/1926758  Change-Id: I645ad173e3f57bf39788bd1566ff014efc9f2e41",0.2718717157840729
2701,[WIP] Add podman container fixture  Change-Id: Ibfc934037db9f5f33bf665c5eb438770e89bc1be,0.1994009017944336
2702,[WIP] Podman  Change-Id: I04587d89ab343f55eb950b65141d4b80ac8e551f,0.22403039038181305
2703,Python 3: Use byte instead of string  In Python 3_ output of popencommunicate is byte instead of str  Story: 2008017 Change-Id: I4a70b786ac7e2739a32616dacbc5e44d29d9c922,0.05122566968202591
2704,[DNM]Test with sqla 14 and try to tease out slow tests  We see nova unit test timeouts with fresh sqlalchemy Decrease our per test case timeout to see which one is problematic  Depends-On: https://reviewopendevorg/c/openstack/requirements/+/788339 Change-Id: I3084a2c503cf8c16d025e789574a3fc4e4b1005a,0.15613976120948792
2705,Improved log path handling  Validations logging now has several documented fallbacks canstantspy now include constant default path_ in order to improve readability and provide referece  utilspy contain new test function to detect and log when validations logs are stored in volatile /tmp  Tests are included  Complementary patch for validations_commons callbacks is optional_ as the behavior should stay largely the same  Signed-off-by: Jiri Podivin <jpodivin@redhatcom> Change-Id: I02df49532974cd0bcb2df8176b19ffc1cd5a65d1,0.15668818354606628
2706,Pick exactly one default route for ovn agent  In multiple default route environment we might get result like default_route_dev=`enp1s0 enp2s0` We should pick only the first match  Change-Id: I2860ea00e67f98f0c09a1f91a1914dc913eb1cfb,0.06768979132175446
2707,WIP: Fix glance/neutron tls proxy fluentd config  Change-Id: I52f3034a53f3bc78c98fbe6a49efe12de6e44ced,0.2832320034503937
2708,Updated installation guide for 1800  Change-Id: I60886d5b573fd00c380379abf6c98e7d1290d25e,0.2804863452911377
2709,[OVN] PUBLIC_NETWORK_GATEWAY defaults to public IPv4 subnet GW  If FLOATING_RANGE and OVN_L3_CREATE_PUBLIC_NETWORK are set_ a new subnet is created in the external network  The external gateway used in this subnet will be set in the public bridge external interface If PUBLIC_NETWORK_GATEWAY is not defined_ a default value will be assigned by Neutron  In case of IPv6 networks_ IPV6_PUBLIC_NETWORK_GATEWAY must be defined  Closes-Bug: #1930360  Change-Id: Ic177ce4f3accb462607084f17e317fee3f94681a,0.19105134904384613
2710,Add NVIDIA GPU driver specification  This spec proposes to provide the initial design for Cyborg's NVIDIA GPU driver  Change-Id: I9a6941eccebf65da4df90b95a1dc36f9bca40dc1,0.1252124160528183
2711,moving setup scripts to ansible playbooks  Change-Id: If3ceca115c4037b5645881679b551d5f21662349,0.18627433478832245
2712,Pytest: Add high availability test cases  Convert the following robot test cases to pytest test cases      1 24-Test-HA-Service-List-Displayrobot     2 29-Test-HA-Service-Group-List-Displayrobot     3 53-Kill-SM-Servicesrobot  Signed-off-by: Dongqi Chen <chendq@neusoftcom> Change-Id: Ib9e8502a0b9ee4bc2868950d6c517dc950105704,0.15693625807762146
2713,Change get console auth token policy to RULE_ADMIN_OR_OWNER  Change-Id: I7572b3ce733dc9cff12b30f791c5a001f28ca0ad,0.14693835377693176
2714,Switch to unittest mock  Python3 have a standard library for mock in the unittest module_ let's drop the mock requirement and switch tests to unittest mock  Change-Id: Ibee036e59577cc6e2888ff16deec2878f47c9994,0.11337955296039581
2715,Remove askopenstackorg documentation  This service has been retired as of May 2021  Change-Id: I1c8902006c5cc755ce7ce0507f32981449cb3c9f,0.2789788842201233
2716,Testing ansible unzip fixes  Change-Id: Id42269a9b28f48eff4f71442246116f7d43a1aea Depends-On: https://githubcom/ansible/ansible/pull/74892,0.299081951379776
2717,Replicate: add a blue print to describe the idea to support replication;  Change-Id: Ia6aee362f58ab63fb436a0e40152ed608702f231,0.1780710518360138
2718,Generic database Bank: Database tables and modules definition  Add a generic database based bank implementation It will use database tables for checkpoint objects storing data and metadata  This patch includes the database tables and modules definition  Change-Id: I1944af8c92581e0827ea77d618307f10783b76cc Implements: blueprint generic-database-bank,0.11847297102212906
2719,The users use karbor in a single site deployment They don't want to install a extra storage(swift) as back-end of bank in their clouds  Add a generic database based bank implementation It will use database tables for checkpoint objects storing data and metadata  Change-Id: I56048fb4006cc7723647f47fc0a380df31129022 Implements: blueprint generic-database-bank,0.021981824189424515
2720,Updated from global requirements  Change-Id: Icbf2ed2db864803a8ea4d0c78328aabe47f1c4ce,0.3067820072174072
2721,Add pylint error checking to toxini  OpenStack projects (cinder_ manila_ etc) have introduced pylint checking to toxini So this patch will refer to them_ introduce pylint to toxini in karbor  Change-Id: I202f1d8f65bd6d1aac0062ef97b1b7b5502c96a1,0.2573443651199341
2722,Add idea pattern to gitignore  The idea directoy is used by pycharm and should not be included in the change list The change extends the gitignore file to avoid idea directory to be shown in the change list  Change-Id: Ic1b6253648b24a5c070385771efeaf0aa4c83a04,0.19927261769771576
2723,add oracle protectable plugin  A protectable plugin for oracle database This plugin allows karbor to call EISOO AnyBackup to list/show oracle database protectable resources  Change-Id: I41411c9ab55a80de89bdfaaee871b620cf452198,0.09258241951465607
2724,EISOO AnyBackup Oracle protection plugin  This plugin allows karbor to call EISOO AnyBackup to  backup or restore the oracle database  Change-Id: Ib1a7a143ef902148d8164bf691bd10fb1e925d4e,0.11522027850151062
2725,Bank indexing interface  Currently we can only query the bank on specific indices This is poblematic for use cases that needs to get subsections of the bank  We propose a new indexing componet that will complement the bank component and allow advanced queries on the information in the bank  Change-Id: I7a306a7ed27d11b4c7fddeed981a5cbfac27782d Implements: blueprint bank-indexing,0.049815695732831955
2726,Add 'rm -f testrepository/timesdbm' command in testenv  Running py2* post py3* tests results in error Add 'rm -f testrepository/timesdbm' command in testenv to resolve this  Change-Id: I19467224e2ce0766f90fae5119eca8e8fb72d124,0.20290130376815796
2727,Implement Karbor REST API microversions  We need a way to be able to introduce changes to the REST API to both fix bugs and add new features Some of these changes are backwards incompatible and we currently have no way of doing this This becomes especially important to introduce backwards incompatible changes to the REST API  Most of projects like nova[1]_ cinder[2]_ manial[3] have introduced API microversions The API microversions will also be introduced to Karbor  This commit ports the Cinder[2] microversion code to karbor  With this patch_ the API version is bumped to 11_ and the versions API is the first API that is versioned  The 11 version of the versions API includes the minimum and current API version values  [1] https://developeropenstackorg/api-guide/compute/microversionshtml [2] https://reviewopenstackorg/#/c/224910/ [3] https://reviewopenstackorg/#/c/207228/  Change-Id: I962015646e7ac332dc75a9cd4ddc6c576f4f418e Closes-Bug:#1713967,0.2802317142486572
2728,Add requirements deps  when build a new env_ and run tox test_ it may report some package not found  Change-Id: I9601c604ccb896b6facfd3fe1a5a1a9a388662f7,0.2872087359428406
2729,Add checkpoint record to CheckpointRecord db  Currently_ only general add checkpoint_record records After this patch(https://reviewopenstackorg/#/c/352748) is merged_ I will classify record based on 'extra-info' field_ and update it  Change-Id: I7e85b60840702eac8e4d78da363b0817d6295c9b,0.10989882797002792
2730,Support checkpoint scheduled clean  Operation Engine Service supports the scheduled operation for a protection plan_ The checkpoints will be created every day or every week or every month_ Then the number of checkpoints will be more and more This will support automatic clean feature and policy for user  Change-Id: I644af4268702b7d1c947151af335dda061862137 Implements: blueprint checkpoint-scheduled-clean,0.12760692834854126
2731,Generic database Bank: plugin implementation  Add a generic database based bank implementation It will use database tables for checkpoint objects storing data and metadata  Change-Id: I0ef46132c1453ef52bf0e786c798928c30e18729 Implements: blueprint generic-database-bank,0.061669498682022095
2732,"Remove pbr warnerrors in favor of sphinx check  This change removes the now unused ""warnerrors"" setting_ which is replaced by ""warning-is-error"" in sphinx releases >= 15 [1]  [1] http://listsopenstackorg/pipermail/openstack-dev/ 2017-March/113085html  Change-Id: I5dc7bc285c07ead6281a2d5b2d5c1f904afce3d8",0.2405390739440918
2733,Implement Neutron Restoration  Change-Id: Ib6bd72364a2d9f069544dda1d1269138661b8e58 Closes-Bug: 1580210,0.2924332022666931
2734,Add database_bank fullstack  Add a fullstack for generic database based bank  Change-Id: I7ec5aae35d372d1859acb33c21e6ccdcc8515b86,0.09648646414279938
2735,Update doc about restore  Update the docs about restore which involve Heat  Change-Id: Icc3c8a5015d2893c046b7c06007dbd1e41a66ed4 Implements: blueprint remove-heat,0.2226354032754898
2736,Enable translations  Change-Id: I7cfe4c6651a7b33ac691ba56f4c0ea4e9f98ab62,0.16447988152503967
2737,Implement the provider list option feature  Implement the provider list option feature  Change-Id: Ie1b7a9f2d0c2f7a8037e57ea46e071236d9827fb,0.17899411916732788
2738,Fixes some current typo errors on karbor project  Change-Id: Ib353807b135c6cb43e4f549cd71fc4b37d189854,0.30217134952545166
2739,Fix minor indentation errors  Change-Id: I1517cc4ac958240ed71c2d5679b44f1d60289682,0.2594921290874481
2740,Make checkpoint info precisely  Make checkpoint info precisely_and this will usefull to user  Change-Id: Ic528759fc165059d6643df421bc16b4c708f7c71,0.07626597583293915
2741,Add bandit test  add bandit test in testenv for integration job for bandit project  Change-Id: Ie703d1fb5de2f27226c99cc81e5d4a1e49cdf11d Implements: blueprint bandit-test,0.06602989137172699
2742,Add default configuration files to data_files  In order to make it simpler to use the default configuration files when deploying services from source_ the files are added to pbr's data_files section so that the files are included in the built wheels and therefore deployed with the code Packaging and deployment tools can then more easily use the default files if they wish to  Change-Id: Ifcd0563a125f1b26c67e3c65553a06d883562f65 Closes-Bug: #1718356,0.1324576437473297
2743,"Remove pbr warnerrors in favor of sphinx check  This change removes the now unused ""warnerrors"" setting_ which is replaced by ""warning-is-error"" in sphinx releases >= 15 [1]  [1] http://listsopenstackorg/pipermail/openstack-dev/ 2017-March/113085html  Change-Id: If31dc2d73b289c55120829aa6505539213731297 Closes-Bug:#1693670",0.22302189469337463
2744,Fix typos in karbor  Change-Id: I42750ce26b2dcbef1edef5bedac95c8e38dbf8e8,0.2792993485927582
2745,Trivial: update url to new url  Change-Id: Ida02e5c5631104c134ff3cb7c535921770a1acd1,0.14798611402511597
2746,Enable mutable config in karbor  New releases of osloconfig support a 'mutable' parameter to Opts osloservice provides an option here Icec3e664f3fe72614e373b2938e8dee53cf8bc5e allows services to tell osloservice they want mutate_config_files to be called by passing a parameter  This commit is to use the same This allows karbor to benefit from I1e7a69de169cc85f4c09954b2f46ce2da7106d90_ where the 'debug' option (owned by oslolog) is made mutable we should be able to turn debug logging on and off by changing the config  tc goal: https://governanceopenstackorg/tc/goals/rocky/enable-mutable-configurationhtml  Change-Id: Iac6c1145d764dd6a926aee8146dbd1f00b0fa466,0.10257529467344284
2747,Trivial: Update pypi url to new url  Pypi url changed from [1] to [2]  [1] https://pypipythonorg/pypi/<package> [2] https://pypiorg/project/<package>  Change-Id: I8579cb3010401b1a2158eec600737dc1f54134b9,0.2641497254371643
2748,Remove those copy words occured twice times in karbor_apiv1yaml  Change-Id: Icf03714525379065f16b1d21cd91e5cb702c0fde,0.13326340913772583
2749,Omit the twice occured words in  parametersyaml  Change-Id: I26e2f571b207bddeee65fbe5d9e139e16a34bfcc,0.08653127402067184
2750,Dumplicate words was deleted in  karbor_apiv1yaml  Change-Id: I63ad3171fb6c8786d72009edf29ac7af37faa6ae,0.16956079006195068
2751,"Remove -u root as mysql is executed with root user  As openstack installation guides suggest to run mysql with root shell user_ mysql will not ask for password_ so in controller-install-*rst ""-u root -p"" is useless  Change-Id: I88cde149293ad9777270fd46540c281386c567db Related-Bug: #1785025",0.13995054364204407
2752,Fix the raise error in index process  Change-Id: I8b04e9470ccb7d62a6bc120c7b03ae496208a487,0.20651035010814667
2753,Modify grammatical errors  Change-Id: I51430baffdd3b7e9dc31e3b84b0688bebfa3d931,0.15164613723754883
2754,spelling error  Change-Id: I5b24448415b0e85c1b23cc6b389437cbab0baf79,0.2759355306625366
2755,[WIP]Add py35 functional tests job  Change-Id: I56d079eadc7cdfa710d7defd36153ffe3b9bad4c,0.2050209939479828
2756,Fix order of deletion of temp resources  volume_glance_plugin needs to create temp volume resources when doing a protect operation Currently the resources are deleted in the same order_ instead of the reverse This cause some temp resources to fail deleting  Reversed the deletion order in this commit  Change-Id: Ia51c870297babd2e7b43d6da2cce580bba838861,0.2698235809803009
2757,Add unit test for utils in clients  Change-Id: I2a86bcbabe2b292e53f4b252389120b5cb16078e,0.08314423263072968
2758,Advancing the protocal of the website to HTTPS in common_configurerst  Change-Id: If5510875eae1cc796883e0f2d3acec14cf1cef2d,0.30106082558631897
2759,Blacklist eventlet 0250  more details https://reviewopendevorg/#/c/678078/  Change-Id: I036f57233f391f3ac664c073efba2a9795e068bf,0.1829928755760193
2760,Bump the openstackdocstheme extension to 120  Some options are now automatically configured by the version 120: - project - html_last_updated_fmt - latex_engine - latex_elements - version - release  Change-Id: I45aaf1a2a2d37f086a6c659ba42ff5f947a18db1,0.2337900698184967
2761,[train][goal] Define new karbor-dsvm-fullstack-ipv6-only job  As part of Train community goal 'Support IPv6-Only Deployments and Testing'[1]_ we need to define the integration job which deploy services on IPv6 and perform testing to make sure service listen and communicate over IPv6 properly  Karbor has legacy zuul jobs only so base zuulv3 IPv6 job 'devstack-ipv6' and 'devstack-tempest-ipv6' cannot be used and we have to copy the whole runyaml to set the IPv6 setting and run the IPv6 verification script via post_test_hook  This commit adds the new job 'karbor-dsvm-fullstack-ipv6-only' run on gate and set the required IPv6 setting'  Story: #2005477 Task: # 35897  [1] https://governanceopenstackorg/tc/goals/train/ipv6-support-and-testinghtml  Change-Id: I691b50de7288e2634b57e7ac21dcdfcac380c853,0.20005154609680176
2762,Add unit test for triggers  Change-Id: Iaa4be392648052141dde7291eac7322e3ed98db9,0.1216716468334198
2763,Fixed volume attachment with volume-glance-plugin  'new_resources' dict didn't have the volume mapping information for nova_protection_pluginpy to be able to attach volume when restoring instance  This is needed when we are restoring an instance that had a volume attached_ which currently fails  Closes-Bug #1817762  Change-Id: I71792fc58edba0d3cf926603076f088457970efa,0.22356881201267242
2764,Fix operation executed failed with multi operationengine  Currently_ when we using operationegine in multi node strategy_ which is the default strategy_ it some time can not trigger the operation correctly It is because the operation id is saved to the memory of operationengine that it was created_ but in multi node case_ trigger maybe scheduling to other operation engine nodes_ which do not contain the created operation id Then it will never trigger the operation This patch will fix it  Change-Id: Idd893824caf28ffd25d708ec6b1d2bc7d655b058 Story: 2006625 Task: 36832,0.17176750302314758
2765,Add unit test for services api  Change-Id: Ie29869bad7b1ff83fcb51f14fe364df246c42b3a Signed-off-by: helei <helei@cmsschinamobilecom>,0.17483922839164734
2766,add 3 unittests for services operationengine manager Signed-off-by: chenglei1 <chenglei1@cmsschinamobilecom>  Change-Id: Ief9db00679ef83e685bccac446fa4dad7826f1bc,0.11234081536531448
2767,Add correct extra_info parameter  The parameter extra_info is written as extra-info in the checkpoints validation schema When the operation engine creates a checkpoint and labels it as created_by: operation-engine_ the information is lost and instead is labelled as manual because no extra_info was found  Change-Id: Ia4780c46fab5ba55df017e3b0acdcda11b96211a Task: 39380 Story: 2007546,0.12130153179168701
2768,Update gitreview for stable/ussuri  Change-Id: I1a5b6ecea8c0fc07514c40e9b6008b30ebdcee9a,0.4031445384025574
2769,Update master for stable/ussuri  Add file to the reno documentation build to show release notes for stable/ussuri  Use pbr instruction to increment the minor version number automatically so that master versions are higher than the versions on stable/ussuri  Change-Id: Ie1dbc335854dbb8c7bb5047fa8a40411c6851703 Sem-Ver: feature,0.3435002565383911
2770,Update TOX_CONSTRAINTS_FILE for stable/ussuri  Update the URL to the upper-constraints file to point to the redirect rule on releasesopenstackorg so that anyone working on this branch will switch to the correct upper-constraints list automatically when the requirements repository branches  Until the requirements repository has as stable/ussuri branch_ tests will continue to use the upper-constraints list on master  Change-Id: I9e9dbb9923bf2f97dd9f72e97e301359d9366048,0.3206546902656555
2771,Add Python3 victoria unit tests  This is an automatically generated patch to ensure unit testing is in place for all the of the tested runtimes for victoria  See also the PTI in governance [1]  [1]: https://governanceopenstackorg/tc/reference/project-testing-interfacehtml  Change-Id: I3779e9d651e1157d26da4b6d65d71eb8da72709a,0.19691331684589386
2772,Fix pygments style  Change-Id: I92617f0d299a8e8d922ae2bc30342c38fdc709af,0.18514513969421387
2773,Remove testrconf  This commit removes testrconf since this repo already has stestrconf We just need stestrconf instead of testrconf  Change-Id: I72f5c6ef6dc1430bf921309bf66e79a2554335e0,0.3760816752910614
2774,ignore `stestr/` dir  This is test artifact that don't need to be versioned and could be ignored  Change-Id: I1130da54ea08e4e22fa45070c0341b439d1b2561,0.3285547196865082
2775,Add unittest for image protection plugin  add unittest for image protection plugin  Change-Id: Ic749a65134f4efdcd099dad4c511613866c59709,0.15318316221237183
2776,Remove obsolete files  The files babelcfg is not used anymore_ remove it  The mox3 repo is being retired Remove mox3 from lower-constraintstxt  To see: [1] I0f69963aabe00b5ebfcc3072c3ba9fd033d73920; [2] If897d98c15261f85eca5ddf074ac6cd2182ac1ad  Change-Id: I4b73cee94eacc77aa866ab984f137120a4250f8e,0.35672688484191895
2777,Stop to use the __future__ module  The __future__ module [1] was used in this context to ensure compatibility between python 2 and python 3  We previously dropped the support of python 27 [2] and now we only support python 3 so we don't need to continue to use this module and the imports listed below  Imports commonly used and their related PEPs: - `division` is related to PEP 238 [3] - `print_function` is related to PEP 3105 [4] - `unicode_literals` is related to PEP 3112 [5] - `with_statement` is related to PEP 343 [6] - `absolute_import` is related to PEP 328 [7]  [1] https://docspythonorg/3/library/__future__html [2] https://governanceopenstackorg/tc/goals/selected/ussuri/drop-py27html [3] https://wwwpythonorg/dev/peps/pep-0238 [4] https://wwwpythonorg/dev/peps/pep-3105 [5] https://wwwpythonorg/dev/peps/pep-3112 [6] https://wwwpythonorg/dev/peps/pep-0343 [7] https://wwwpythonorg/dev/peps/pep-0328  Change-Id: I94921af138e02ea40e55225c88a978861a2f810b,0.17455483973026276
2778,Replace assertItemsEqual with assertCountEqual  assertItemsEqual was removed from Python's unittestTestCase in Python 33 [1][2] We have been able to use them since then_ because testtools required unittest2_ which still included it With testtools removing Python 27 support [3][4]_ we will lose support for assertItemsEqual_ so we should switch to use assertCountEqual  [1] - https://bugspythonorg/issue17866 [2] - https://hgpythonorg/cpython/rev/d9921cb6e3cd [3] - testing-cabal/testtools#286 [4] - testing-cabal/testtools#277  Change-Id: I632452a559ad25085ddd7384c5eddbb6e422d630,0.12721356749534607
2779,"Fix the wrong description about singular-plural pair the description about the method ""instance_show"" is ""Return an an instance about the given protectable_type and id"" not ""Return a instance about the given protectable_type and id""  Change-Id: I51542fd151f6aca1750ade00ada05bd9b77017f2",0.10205850005149841
2780,"Correct comment from ""protect"" to ""retention protect""  Change-Id: I03cf18cc7599678f7c7d0fd09c541f7d562b8d7e",0.2434922456741333
2781,"Revert ""Use trustee project_name instead of fixed value""  This patch will break the fullstack test_ so revert it This reverts commit 82f07c14b6a1c5a9303e37001e85cc30df796dcc  Change-Id: I4a8ada268c295505c6159b4eaf71fe77fb2b56eb",0.376034677028656
2782,Remove translation sections from setupcfg  These translation sections are not needed anymore_ Babel can generate translation files without them  Change-Id: I8cd5d402006554f4e3f6bb86d3b9fa74914a24ae,0.1779150664806366
2783,Update gitreview for stable/victoria  Change-Id: I17e7d73e19af2f472d6f4a405aa8c613346e713c,0.4306597411632538
2784,Update TOX_CONSTRAINTS_FILE for stable/victoria  Update the URL to the upper-constraints file to point to the redirect rule on releasesopenstackorg so that anyone working on this branch will switch to the correct upper-constraints list automatically when the requirements repository branches  Until the requirements repository has as stable/victoria branch_ tests will continue to use the upper-constraints list on master  Change-Id: I89fe3627f28f10573fb09c4115c10860d8d6a5a2,0.3319229781627655
2785,Add Python3 wallaby unit tests  This is an automatically generated patch to ensure unit testing is in place for all the of the tested runtimes for wallaby  See also the PTI in governance [1]  [1]: https://governanceopenstackorg/tc/reference/project-testing-interfacehtml  Change-Id: I8a9a63b3a963bcc7c4b8f9a80717476fc55cc151,0.1483629196882248
2786,Remove Six Replace the following items with Python 3 style code  - sixPY3 - sixmovesmoves - sixtext_type - sixstring_types - sixunichr -  Change-Id: I9deca39bd80bf8303bcca0c44db417937aabb578,0.08655159175395966
2787,Cap jsonschema 320 as the minimal version  Previous versions of jsonschema (<320) doesn't support python 38 [1] Python 38 is part of the victoria supported runtimes [2] so we now force to use jsonschema version 320 to avoid issues_ remove ambiguity and ensure that everything works with python 3 in general  [1] https://githubcom/Julian/jsonschema/pull/627 [2] https://governanceopenstackorg/tc/reference/runtimes/victoriahtml#python-runtimes-for-victoria  Change-Id: If7e53ca41aa634d2e2ab1e22713fb68f9ae16dee,0.23988988995552063
2788,bump py37 to py38 in toxini  in 'victoria' cycle_ we should test py38 by default  ref:   https://governanceopenstackorg/tc/reference/runtimes/victoriahtml  Change-Id: Ie241f193cbb88c28014392388568fd485ba453b0,0.24523048102855682
2789,Update master for stable/victoria  Add file to the reno documentation build to show release notes for stable/victoria  Use pbr instruction to increment the minor version number automatically so that master versions are higher than the versions on stable/victoria  Change-Id: Idb81fdfc081ba306188dd5d5f8f4e8bd6e0e7d21 Sem-Ver: feature,0.33200401067733765
2790,Fix bug for ensuring attr of image_info not None  First get the image_info at line 94_ disk_format and other value could be 'None' when image_infostatus is 'queued'_ So need to get the image_info again end of the 'if judgement'  Change-Id: I2f90acbf1800062cb7004795f9d1b2a93a408e82,0.14223015308380127
2791,fix log format error  Change-Id: Iadc4150b5bff6d24fd67e1b3e4307ac198988cd1,0.20414215326309204
2792,Adds time element to checkpoint creation date  This should add the Hour_ Minute and Second for when the timestamp was created instead of just the date  Change-Id: Ieede0aa013d776d91a85c699bf06617784612345,0.08906982839107513
2793,Ussuri contributor docs community goal  This patch updates the contributor documentation to follow the guidelines of the Ussuri cycle community goal[1]  [1] https://governanceopenstackorg/tc/goals/selected/ussuri/project-ptl-and-contrib-docshtml  Change-Id: I5f5ce8b58d8adebf9b3e3ef492357b6b880a54f7,0.29483920335769653
2794,Add test coverage for requestlog X-Forwarded-For  This adds unit test coverage for the bug fix in change Id2703ea4439d587a1a7a878796a79709fae5ea61  Related-Bug: #1913605  Change-Id: I3aea7f6ef12dd532fbabf86f2dd1369e34e99080,0.17929276823997498
2795,Added phase plan for multi tenant reference site deployment  Depends-on: I9d5af24b0877d90ab1ba24b31cca6ec7127e0f1d Change-Id: I9a05da65fc285fd8f25b87a2c6a7d6d97a3013ee,0.22714808583259583
2796,Fix DBDeadLock error resulting into 500  When user requests the record registration request continuously_ sometimes designate hits DBDeadLock resuting into 500 InternalServerError  We get below error:  2019-02-21 21:30:39925 49752 ERROR designateapimiddleware RemoteError: Remote error: DBDeadlock (pymysqlerrInternalError) (1213_ u'Deadlock found when trying to get lock; try restarting transaction') [SQL: u'UPDATE records SET version=(recordsversion + %(version_1)s)_ updated_at=%(updated_at)s_ data=%(data)s_ hash=%(hash)s_ status=%(status)s_ action=%(action)s_ serial=%(serial)s WHERE recordsid = %(id_1)s'] [parameters: {'status': 'PENDING'_ 'hash': '39795ee18c6e3c9ad1c0190c6a3d8d4f'_ 'updated_at': datetimedatetime(2019_ 2_ 21_ 12_ 30_ 39_ 909846)_ u'version_1': 1_ u'id_1': '7a655eeda4d446cdaa81caf19ab55fcc'_ 'action': 'UPDATE'_ 'serial': 1550752338_ 'data': u'ns2examplejp domainexamplecom 1550752338 3552 600 86400 3600'}]  In the process of record registeration_ designate first tried to update the reocrd and then update the zone status  Updating the zone_status and registering the record process[1] and after synced update record_status and zone_status process[2] are in reverse order So If user request the registering record many time and same time_ Designate will get the DBDeadLock_ when these processes run the same time  We observed that changing the order of the operations solves this issue  [1] https://githubcom/openstack/designate/blob/master/designate/central/servicepy#L1292-L1320 [2] https://githubcom/openstack/designate/blob/master/designate/central/servicepy#L2310-L2322  1 transaction [1]-1 updating zone status process <- run    ---> table_name-zone 2 transaction [2]-1 updating record status process <- run  ---> table_name-record 3 transaction [1]-2 registering record process <- run and wait  ---> table_name-record 4 transaction [2]-2 updating zone process <-deadlock!           ---> table_name-zone  Change-Id: Icd6e690ac84a2fe0db0f4a8a513de47f7916f5ea Related-Bug: #1785459 (cherry picked from commit f828654a3d40476cac7eb24a09a36e9978c2d708),0.21030446887016296
2797,[Quality Assurance] Transition Ocata to End of Life  This transition the Ocata branch to End of Life The last patch of the branch will be tagged with ocata-eol tag The ocata branch cannot be used anymore and will be deleted if this patch merges  This is needed as stable/ocata is not actively maintained in the recent period and thus gate is broken due to job failures By removing these branches_ infra resources will be freed up_ too  Please try to identify any zuul job_ that is defined outside of the repositories in this patch (for example in openstack-zuul-jobs_ etc) and won't be used anymore if stable/ocata is deleted_ and propose a job removal patch for them  Please +1 if the team is ready for us to proceed with this transition_ or -1 if there are still some activity on the branch and the team wants to continue to maintain it  Change-Id: I15d92ee5ce1a9868bfb1fa1ce90dbfa0640c026a,0.3978121876716614
2798,Add playbook to upversion DM after upgrades  This change adds a playbook that will copy the relevant DM files to the subclouds or other hosts and upversion DM after upgrades It is to be executed manually by the user on the system controller or active controller  Usage: ansible-playbook upgrade-deployment-manageryml \   -e @dm-filesyml -i <subcloud1>_<subcloud2>__<subcloudN>_ -v  Jira: CGTS-25186  Change-Id: Ifeb3ac63dfa51063c2563b4589ceddaeadb0ccd6 Signed-off-by: Melissa Wang <melissawang@windrivercom>,0.26004454493522644
2799,WIP: Add OVN support for stateless ACLs  Change-Id: I1ce783add19cc2ed81117a894e377a21e5ca25de,0.23078253865242004
2800,Fix krm function version  Align with the recent change to externalize krm function versions [0]  [0]: https://reviewopendevorg/c/airship/airshipctl/+/790507  Signed-off-by: Sean Eagan <seaneagan1@gmailcom> Change-Id: Ib62c49b3cac33969cfbdb85f657673ab5a43c261,0.19033628702163696
2801,Add support for direct ports with QoS in OVS  Today OVS mechanism driver can bind Direct port see [1] for OVS hardware offloads  OVS was extended with tc-offload to support rate limit see [2] The OVS QoS driver [3] is limited to work only with Normal Ports_ so we can't put QoS rules on direct port This patch proposes to add support in OVS QoS driver for direct ports The mechanism to enforce such policies is the same with normal and hardware offloaded direct ports  [1]https://githubcom/openvswitch/ovs/commit/e7f6ba220e10c0b560da097185514b6e33e2dc71 [2]https://githubcom/openstack/neutron/blob/3b074128ca91ba335bd8ef9db8dfe00fda51a63d/neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitchpy#L83 [3]https://githubcom/openstack/neutron/blob/3b074128ca91ba335bd8ef9db8dfe00fda51a63d/neutron/services/qos/drivers/openvswitch/driverpy#L56  Conflicts:     neutron/cmd/sanity/checkspy  Closes-Bug: #1843165 (cherry picked from commit 12089a526e25cfe5ccb8b4da86b653970d75f14a)  Change-Id: I5093747ed9bde03d27e32e3206df91e4c27a2632,0.19529509544372559
2802,Add basic NM support  This change allows the vs_port provider to remain minimally functional in C9 environments  Closes-Bug: 1929707 Signed-off-by: Kevin Carter <kecarter@redhatcom> Change-Id: Ife5dea3813f4c43ba96ded051d15a57d4a2a4edf,0.18633492290973663
2803,Dropping revert  At this point puppet-panko for train is now transitioned to extended maintenance (ensured by the depends-on)_ so the previous revert can be now dropped  Change-Id: I08cc3048f6398f5eaf3beb86e23ab9747595c14a Depends-On: https://reviewopendevorg/c/openstack/releases/+/790767,0.35007786750793457
2804,Temporarly reverting project template to finalize train-em  These changes revert previous commit [1] on puppet-panko to allow us to finalize the transition to train-em  Without that our CI is broken and we can't move puppet-* to extended maintenance  [1] https://opendevorg/openstack/project-config/commit/a5938e0bc94b8ec28e92fd8475eaefbfffe68d30 [2] https://reviewopendevorg/c/openstack/releases/+/792820 [3] https://zuulopendevorg/t/openstack/build/8000a4f915834b65958b67a05fed04e6  Change-Id: I6a941fba3a94ba742ea56970960e846c04046edd,0.3130500912666321
2805,DNM:testing Focal  Depends-On: https://reviewopendevorg/#/c/734700/ Change-Id: I4d7ccb63ea5deeb3648de63fc247254f0ff82545,0.3182702362537384
2806,[DNM] Fix issue with scenario000 multinode job  Use single playbook multinodeyml which includes other playbook_ it results in single ansible playbook run instead of multiple and it's avoiding the bug https://bugslaunchpadnet/tripleo/+bug/1883843  Change-Id: I1aed918ee3d593db9628084a324af152fcc8be36,0.14492613077163696
2807,SKIP : FS01-wallaby job failing for test_traffic_ops test  This patch adds FS01 wallaby job to skiplist for wallaby promotion  Related-Bug: #1883687 Change-Id: I76b5274520f5ae8f957537661cf41480723e6dfc,0.22102978825569153
2808,skip: skipping test test_subnet_details  Related-Bug: #1928933 Change-Id: Iec7fdcc3455a17dd88c0305df3820cc5605753ea,0.21164995431900024
2809,add openvswitch to the log collect  Change-Id: Ib2e95320a160ee7aec1e2800411a0fc1d8e193b5,0.14506745338439941
2810,tox: Install mypy type stubs  A temporary workaround to unblock the gate while we wait for [1] or similar to merge The implementation is gross_ since the command is interactive and there's no '--yes' option  [1] https://reviewopendevorg/c/openstack/requirements/+/795532  Change-Id: I95df0f38900ba87e62d2d843036797d9c730f172 Signed-off-by: Stephen Finucane <stephenfin@redhatcom>,0.21707959473133087
2811,Bump alembic to 165  This version fixes the issue reported in the related bug The patch that fixed this issue in alembic is [1]  [1]https://githubcom/sqlalchemy/alembic/commit/acc82bff397be712a7e4f5e2069e7bfbf93ff5a9  Change-Id: Ib50df5f9b7ff7677555096725aa8183190a349f7 Closes-Bug: #1929518,0.13030116260051727
2812,test devstack ml2 non-revert  this should fail a focal job for us to put on hold  Depends-On: https://reviewopendevorg/c/zuul/zuul-jobs/+/791116 Depends-On: https://reviewopendevorg/c/openstack/devstack/+/793397 Change-Id: I3406a7340880a87293fbd613ff4afc353269a7f6,0.3137442469596863
2813,clustering: support L3 and public networking topologies  Generate the group_replication_ip_allowlist using the addresses presented by peer units across the mysql-innodb-cluster peer relation_ ensuring that this charm can be used in both L3 routed network topologies and in deployments where units are using public network addresses  Closes-Bug: 1926460 Closes-Bug: 1886934 Change-Id: I59b305e87676239faf521d8990e1f304f5476094,0.1058376133441925
2814,Module level docstring added  Signed-off-by: Jiri Podivin <jpodivin@redhatcom> Change-Id: I26d4ed29225c2871f8f061f800ed5aa9521aa16a,0.2879360318183899
2815,"Revert ""Updated README for 1800 release""  This reverts commit bf98f981ee1b09a8137439a0f92764e32116a3e5  Reason for revert: Test Revert  Change-Id: Iccbbf8a99f151efd26311603ef1d4ccfb5e27c62",0.40583476424217224
2816,Initial Commit for Wallaby  Change-Id: Ie14eabb0e1d96d521a6fe0e2e0aea8cf46722e62,0.3875831067562103
2817,Fix network_interface check when skip_bootstrap is true  A new check was added in I96b7af2472addb879df545818a67f58ace8b2572 about network_interface This variable does not need to be set when bootstrapping is skipped_ and may cause installation to fail This does indeed happen when building the kolla bifrost container image  This change skips the check when skip_bootstrap is true  Change-Id: I40ffb7aa816697e8fd42adf8229cb8689b9ce79b,0.17064669728279114
2818,Update the documenation with additional details  The commit is to update the documentation with some new information which would make it easier for new contributors to full understand the concepts  Change-Id: I6dc9b1491e0cd3d0de224f4d0d58e40aa9266dd2,0.31642982363700867
2819,WIP: libvirt: pin edk2-ovmf for CentOS Stream  edk2-ovmf introduced a bug [1] and results libvirt/qemu errors It's going to be fixed in next rebase to libvirt 740 - but let's pin for now  [1]: https://bugzillaredhatcom/show_bugcgi?id=1961558#c10  Change-Id: I0cb0512ef40c48353d582b1c37a446f251b79ac7 (cherry picked from commit 1a2c33512b6c4bdcdbf7d7bb08e791fb53e4f063),0.18135347962379456
2820,setupcfg: Replace dashes with underscores  Change-Id: Id7b033ec7e88b3930b31d76e6df0e9a4ed09781e,0.23790228366851807
2821,docs: Update Freenode to OFTC  see: http://listsopenstackorg/pipermail/openstack-discuss/2021-May/022718html Change-Id: Idb28554df350abefb315983fb92efd7584edde1d,0.3154950737953186
2822,Update IRC network to OFTC  Change-Id: I6de0b6c4717e0ca238ab5a35c7c8cb5ab00fed4d,0.2363823801279068
2823,Allow ovn_db_host to be of type array  On an OVN clustered database environment_ there is no OVN VIP as all OVN databases are active Neutron has to be configured to point to all OVN database servers in the cluster  Closes-Bug: #1931133  Conflicts:     manifests/profile/base/neutron/agents/ovnpp  Co-Authored-By: Michele Baldessari <michele@acksynorg> Change-Id: Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2 (cherry picked from commit 0b51d8258c4a0618ec6f2abd8f86bfe6943cd51f),0.2060636430978775
2824,Allow ovn_db_host to be of type array  On an OVN clustered database environment_ there is no OVN VIP as all OVN databases are active Neutron has to be configured to point to all OVN database servers in the cluster  Co-Authored-By: Michele Baldessari <michele@acksynorg> Change-Id: Ib8624f0c2e87de18a990060c3cb939c13ec3a6f2 (cherry picked from commit 0b51d8258c4a0618ec6f2abd8f86bfe6943cd51f),0.16919243335723877
2825,Reset global wsgi app state in unit test  Since I2bd360dcc6501feea7baf02d4510b282205fc061 there is a global state set during the wsgi_app init making our unit test cases non-deterministic based on the order of them This patch makes sure that the global state is reset for each test case  Change-Id: Ie2ba746a7697a70fdbc6594f02257f78becfe962 Closes-Bug: #1921098 (cherry picked from commit bc2c19bb2db901af0c48d34fb15a335f4e343361),0.1087920144200325
2826,Test commit #1  Change-Id: I8699e988e83403734aa4c291fee3bef31b37b08b,0.3749076724052429
2827,Test commit #1  Change-Id: Ie2c9e1053e73cf4c8d0676d9be852091894bc0f8,0.3786180019378662
2828,Fix ansible 299 issues  - Create the resolvconf if it does not exist - Fix etcd cert generation  Signed-off-by: Charles Short <charlesshort@windrivercom> Change-Id: Ie13067397e2278c4f4b8dd4e0b0b11836e554f8b,0.3274908661842346
2829,Fix validate-doc gate  Due to change [1]_ validate-doc gate is broken and it's not validating documents This PS introduces require changes in validate-doc script  [1]: https://reviewopendevorg/c/airship/airshipctl/+/791715 broken gate: https://zuulopendevorg/t/openstack/build/1f459af5fbf04f05bdcf14163b356f7b/console  Change-Id: I6b1e36655ae4b7abb17d0fcb6470b2ceb7598bfe,0.3110203742980957
2830,Changes to be committed: modified: zuuld/projectsyaml Change-Id: Ib712abce33b5f552965be874d9965a24eb7ec105,0.3353901505470276
2831,Updated from generate-constraints  Change-Id: I0c48b83769a7e71b59fa61e30b9313edb1d3608d,0.27252086997032166
2832,"""On branch test Changes to be committed: 	modified:   READMErst  Change-Id: I54b77a1d9b82e15c4b77e701852ebae79c6f18d1""",0.33532652258872986
2833,"""Initial Commit for Wallaby  Change-Id: Ie14eabb0e1d96d521a6fe0e2e0aea8cf46722e62   On branch stable/wallaby  Changes to be committed: 	modified:   READMErst 	new file:   bindeptxt  Change-Id: I1b2d0410cc2949520af768c004a25b2df9abe33d""",0.3725125193595886
2834,"""Changes to be committed: 	modified:   READMErst 	modified:   doc/source/ReleaseNotesrst 	modified:   doc/source/confpy 	modified:   networking_infoblox/ipam/driverpy 	modified:   networking_infoblox/neutron/common/contextpy 	modified:   networking_infoblox/neutron/common/ea_managerpy 	modified:   networking_infoblox/neutron/common/gridpy 	modified:   networking_infoblox/neutron/common/keystone_managerpy 	modified:   networking_infoblox/neutron/common/notificationpy 	modified:   networking_infoblox/neutron/common/utilspy 	modified:   networking_infoblox/tests/unit/common/test_contextpy 	modified:   networking_infoblox/tests/unit/common/test_dnspy 	modified:   networking_infoblox/tests/unit/common/test_ea_managerpy 	modified:   networking_infoblox/tests/unit/common/test_gridpy 	modified:   networking_infoblox/tests/unit/common/test_ip_allocatorpy 	modified:   networking_infoblox/tests/unit/common/test_ipampy 	modified:   networking_infoblox/tests/unit/common/test_keystone_managerpy 	modified:   networking_infoblox/tests/unit/common/test_mappingpy 	modified:   networking_infoblox/tests/unit/common/test_memberpy 	modified:   networking_infoblox/tests/unit/common/test_notificationpy 	modified:   networking_infoblox/tests/unit/common/test_notification_handlerpy 	modified:   networking_infoblox/tests/unit/common/test_patternpy 	modified:   networking_infoblox/tests/unit/common/test_utilspy 	modified:   networking_infoblox/tests/unit/db/test_infoblox_dbpy 	modified:   networking_infoblox/tests/unit/grid_sync_stubpy 	modified:   networking_infoblox/tests/unit/ipam/test_driverpy 	modified:   networking_infoblox/tests/unit/ipam/test_requestspy 	modified:   networking_infoblox/tools/create_ea_defspy 	modified:   requirementstxt 	modified:   test-requirementstxt 	deleted:    tools/tox_installsh 	modified:   toxini   Untracked files: 	bindeptxt  Change-Id: I0e0f7d98262326df9f705d6580cca08bb1a8e63b""",0.25431007146835327
2835,Add errorstxt in artcl_logstash_files  Removing duplicate txt extension from errorstxttxt Caused by readdition of txt extension[1]  Adding errorstxt in artcl_logstash_files so that logstash pick this up  As size of logstash file is a factor_ Adding errorstxt instead of individual files seems better approach as errorstxt only contains error/traceback from different log files  [1] https://opendevorg/openstack/ansible-role-collect-logs/src/branch/master/roles/collect_logs/tasks/collect/systemyml#L15 Change-Id: Ib4519943d6b0ca4607f168318dff11a6d1713796  Change-Id: I58392e43fb786c0ab93e51ff12849c925f65d4e1,0.10045091807842255
2836,docs: Update Freenode to OFTC  see: http://listsopenstackorg/pipermail/openstack-discuss/2021-May/022718html Change-Id: I0ec32bb8309bcdd3d8b1edc91b86e8f84897ee4f,0.31386834383010864
2837,[DNM] Setting up standalone image builder  Change-Id: Id95a62007fd026d63fd45711b42d79ffbd55e462,0.16549357771873474
2838,Ignore emacs swap/temp files  Change-Id: I4d3fcbec2458ac2d7e0a7b6deedd0fca9e4b3cd0,0.14588657021522522
2839,Specify the nodeset for zuul jobs  The py27 jobs need to specify xenial The py36 jobs need to specify bionic  The copyright date was updated in order to trigger the zuul jobs_ as a no-delta type of change  Note: pep8 and pylint jobs are not being specified for this repo because they specify a generic python3 interpreter_ and are currently passing in python 36 and python 38  Only applied the py27 changes because they py36 gate hasnt been merged yet  Partial-Bug: 1928978  Signed-off-by: Charles Short <charlesshort@windrivercom> Change-Id: I3ee01be9940c60d377d8abc1bc11f8ddf12e660a,0.3001401424407959
2840,"Revert ""use payloads for PORT AFTER_CREATE events""  This reverts commit c9fce3a8b67d48049552e83afc9e0ba035856772  Change-Id: Ib39cfb9984a4e3b2df8155b93d6f7467bc41b1c5",0.314481258392334
2841,"Revert ""Use payloads for ADDRESS_GROUP callback events""  This reverts commit 17adb4c3fbb9aca06efe71f154b9812d2d1426f3  Change-Id: Iace2127ff2e9176ab0549ef3f10a5ddc07cb6b4c",0.3824770152568817
2842,Use py3 as the default runtime for tox  Moving on py3 as the default runtime for tox to avoid to update this at each new cycle  Change-Id: I2599b4860c703254318bcd2f40affbf0ecb401e3,0.06743650883436203
2843,Do not show passwords in retry wrapper  In many cases subscription-manager subcommand is enough in output This prevents output of passwords in heat/deploy/upgrade logs  Closes: rhbz#1875508  Change-Id: I859138e84ee58fc03b938c708c7d6f7f5b7c0961,0.14719349145889282
2844,Allow tuning timeouts for rabbitmq pacemaker resource  This change introduces several timeout parameters so that users can tune operation timeouts about rabbimtq resource in pacemaker  Change-Id: Iaecdc0adb8455b2e660624f19a42e6dede5b931d,0.06533561646938324
2845,Use ovn_dbs_node_ips for SB connections  The patch replaces ovn_dbs_vip that is generated dynamically with ovn_dbs_node_ips which is a configurable list of IPs This can be used for RAFT or read-only OVN metadata agent mode  Closes-Bug: #1931133 Change-Id: Ibef5b26763ba0e51aae6285ac5a01d598b9052f2 Co-Authored-By: Alex Schultz <aschultz@redhatcom>,0.1847255825996399
2846,Exclude latest Network Manager to fix ovb  Ovb jobs seems failing due to latest Network Manager_ Using exclude to ping to last good version NetworkManager-*-1320-02  Details in bug:  [1] https://bugslaunchpadnet/tripleo/+bug/1929745  Change-Id: I0f2eb09c5f549fba1b669ec7d24c198008c5673c,0.2441149204969406
2847,[WIP] SecretCatalogue prototype  the idea is to combine all secrets into 1 catalogue that would allow to regenerate all or part of secrets_ plus that would include also externally provided secrets  This is something that we dicussed on the dedicated design call  Change-Id: I0da2155c946e3a0508b15d85f2c88c6cc7367701,0.12463394552469254
2848,[WIP] Preparation for kustomize 4x  In kustomize 4x+ transformer may work as generator [1] This is a work related to extension of the current templater in order to be able to access bundle documents if it's ran from transformer section  It also introduces set of kyaml api functionsto be able to manipulate that items  TBD: 1 set of additional high-level functions to access yamls 2 unit-tests for API functions 3 unit-tests for the templater additional functionality  [1] https://githubcom/kubernetes-sigs/kustomize/issues/3448 https://githubcom/kubernetes-sigs/kustomize/pull/3534  Change-Id: I7607580605d9ffe2bbb8df7cffad5370d54f9e8e,0.09349678456783295
2849,Add python3 support in metal repo  There are 6 python files in this repo /api-ref/source/confpy /doc/source/confpy /bsp-files/platform_compspy /mtce/src/hwmon/scripts/hwmond_notifypy /releasenotes/source/confpy /tools/rvmc/centos/docker/rvmcpy  3 are simple docs config_ with a python3 build environment in tox rvmc is already using python3 interpreter and is running inside a container platform_comps is already called with python3 in build-iso tool  Only the MTCE script remains to be converted socketsendto requires a bytes object in python3_ but a str in python2 This is fixed using the encode function The file doesn't seem to be invoked anywhere in MY_REPO_ROOT_DIR The file doesn't seem to be packaged  Tested: manual tests with netcat listener + pylint passes  Note for the docs: Doc tox passes using uppercontraint file from victoria branch   docs: commands succeeded   api-ref: commands succeeded   releasenotes: commands succeeded  Story: 2008454 Task: 42554 Signed-off-by: Dan Voiculeasa <danvoiculeasa@windrivercom> Change-Id: If8666ee97bba70b444214e7a476f05f811e0b2e1,0.23062345385551453
2850,DNM: DNM  Change-Id: I6f861f46079771c96f5d9f9266587df8c1f0cdc0,0.2702634930610657
2851,add unittest for resource types relevant interface  add unittest for resource types relevant interface in metadata  Change-Id: Ic392fda1ffcbc3cf33ea352de7637eb10d082c77,0.10803509503602982
2852,add get one device method and nagetive test  add get one device interface method and add non-existent uuid negative test Change-Id: I16b43a70b20a7eb6ac93cb4b5da1ebd0d584a21d,0.031159481033682823
2853,rabbitmq: Add TLS support to rabbitmq prometheus exporter  Change-Id: Iec94b7bd1a5bf413fa22d6e392645d76257a542f,0.28871220350265503
2854,rabbitmq: Add TLS support to rabbitmq prometheus exporter  Change-Id: I777d67fb16a5b3b1ebd38e850cb57cbeb0a4a1a2,0.27350154519081116
2855,Fix on extra question answer serializer  Change-Id: Ifda2b64b01e0e7f67f2731aabcde78d98b2f8eba Signed-off-by: smarcet <smarcet@gmailcom>,0.21710950136184692
2856,Move CentOS 8 jobs to NV  With release of CentOS 84 we faced with circular dependecy that can't be solved in other manner rather then setting CentOS 8 to NV  Once it will be resolved_ we revert this patch  Change-Id: Ib1ae7a4ba61efdb90ac9d12d0e43de6154593834,0.21369996666908264
2857,Use kptfile to track versions  This PS required that both:  https://reviewopendevorg/c/airship/treasuremap/+/793206 https://reviewopendevorg/c/airship/treasuremap/+/792632  merge  It was stated that it would be nice to see us use a Kptfile to track versions Kpt will not actually be used (at least at first)  Change-Id: I78b6a409d39187aef0831e3af151c47a1b339b1d,0.2734619081020355
2858,WIP Switch centos 8 nodeset to centos stream  Right now_ centos-8 nodesets appear to be failing because wallaby+ RDO is centos-8-stream only  Change-Id: I838d87b97b4605435b81821683c698c10281caa4,0.12692971527576447
2859,DNM test 20 jobs  Depends-On: https://reviewopendevorg/c/openstack/tripleo-ci/+/794714 Change-Id: I5ee994296e5910ca434ed517ac470104c73263a8,0.26477545499801636
2860,Pin Flask to 1x  Flask 2x was made available via upper constraints [1]_ which breaks several Zuul jobs Pin Flask to 1x for now  [1] https://reviewopendevorg/c/openstack/requirements/+/793023  Change-Id: Ifdd0151ef3d4f5e8995e1095c62d0d587d2186fa,0.15219411253929138
2861,"Fix for helm-chart-repository Function  This PS provides fix for the ""helm-chart-repository"" function  The name and namespace for the HelmRepository resource were backwards The replacement rule for the helm-chart-collator url had wrong target name so returning error during render  Change-Id: I0c59adfebd937bf095994bcd6886b74252e54477",0.37377697229385376
2862,"Global request ID erroneously interpreted as local ID  When operator specified UUID using ""X-Openstack-Request-ID"" header_ OpenStack component logs it UUID as a global request id But Glance logs it UUID as local request id Because Glance assigned the received UUID to ""request_id"" variable It variable's value is logged as a local request id  Fixpoint ?Changed the assignment of the received UUID from ""request_id"" to ""global_request_id""  This bug may have existed since the Pike release  Closes-Bug: #1886657 Change-Id: Icd82d3de1212992722c84f414d8ca4f8bdefdc22",0.1355614960193634
2863,Fix Docker build  The default nodeset was just changed to focal [1]_ which in the absence of the python-is-python3 package doesn't provide a python binary  [1] https://reviewopendevorg/c/opendev/base-jobs/+/789098  Change-Id: Ib6dd741dabdd118741d5726b6a1f6f00b3a909b3,0.27351218461990356
2864,Add '/tmp/default' to directory cleanup in cleansh  Change-Id: I6011e65269dbfafbe74302983ec9c60da37709c6,0.18323153257369995
2865,DMN - Test Values for Elastic Search  Trying to isolate some behavioral differences between master and https://reviewopendevorg/c/openstack/openstack-helm-infra/+/780453  Change-Id: Iee35773f05d380d31f2e69a1bc7dedd7345f3bb7,0.17392611503601074
2866,Improve docs on rabbitmq tuning params  TrivialFix  Change-Id: I2e6952a57004c52a538e22e029cd511be816e587,0.1335078775882721
2867,Fix import order in block_storage tests  Remove tox filter  Change-Id: Ib2c343daa8fbec569ae57a1c024b8633262a8b19,0.16273850202560425
2868,Fix import order in cloud tests  Remove tox filter  Change-Id: I298e3f0d5a2c53fbe31c56dfecf6ea54676c564e,0.20887714624404907
2869,Fix import order in clustering tests  Remove tox filter  Change-Id: Ife111995d939f8373637b1668be2f955b58c6189,0.17497754096984863
2870,Fix import order in orchestration tests  Remove tox filter  Change-Id: I397c715192ac4e47cfe867df22323d30581ba1aa,0.15584293007850647
2871,Fix import order in identity tests  Remove tox filter  Change-Id: I810a5c6718df520323568cb74ad7fcdc2992f85e,0.17975199222564697
2872,DNM: Reduce number of jobs for SOS development  While developing the scale-out-scheduler we often have to rebase and push a large stack of changes This has quite a heavy impact on the resources used by opendev Zuul  Most of the time it's sufficient for us to have only the basic Python tests running until we have finalized/polished the changes  We can use this commit to reduce the number of tests for future following commits and reduce the load on opendev Zuul  Change-Id: I222ed7bfe3b850fa80d593fdacdf6a08aaff2fac,0.2144329845905304
2873,DNM - testing master build  Change-Id: I23716b5880694f5915bad644d0fdb69735e033ad,0.35201501846313477
2874,Removes deprecated 'overcloudrc' module  Potentially concerned parties were warned by deprecation warning in a previous patch  Signed-off-by: Jiri Podivin <jpodivin@redhatcom> Change-Id: Iadeb6e64918d6950dfdecdf2e215819955e4a73c,0.3628655970096588
2875,Deprecation notice for unused module The 'overcloudrc' module isn't used by any known validation and from the looks of it_ it hasn't been for a while  This is simple notification about its state and impending removal from the repo  Signed-off-by: Jiri Podivin <jpodivin@redhatcom> Change-Id: Ic70003f694e161a9f43e5ad4e1a27af646abd83e,0.36049193143844604
2876,fix restore triggers error  The 'add_trigger' function may raise exception when initializing a trigger_ it will cause the operationengine service always quit_ we need to catch it to avaid that  Change-Id: I468956c180d3a1ca5ece6b6ca58ade612f6fa5ad,0.08970385789871216
2877,fix for get 'force' parameter from parameters  When we use parameterget('force'_False)_ if 'force' in parameters_ we will get a string 'True' or 'False'_ which type is not boolean  This will affect later judgment  Change-Id: Iaab3aee377857dc1d431531dc150520365a93482,0.07208714634180069
2878,Add libcgroup-tools for volume_copy_bps_limit  Cinder has an option_ volume_copy_bps_limit_ which requires cgcreate command to set blkio limitation However_ cinder-volume container didn't include libcgroup-tools package which provides cgcreate command This change adds libcgroup-tools for cinder-volume container  Closes-Bug: #1930830 Change-Id: Idca61510ad73554216b964431c8632639413a4f2,0.10175639390945435
2879,add parameter to specify wsgi script source and path_ introduce hiera  Add the parameters to sepcify wsgi script and source The defaults per os-family are defined with hiera The former default was defined in panko::params  For transition the parameters are also added to the params class and a hiera lookup in commonyaml ensures the same values as defined  for the panko::wsgi::apache class  Change-Id: Ib197d48165a76ab26c3c2d1ad12375bb7795769a,0.02294219098985195
2880,[DNM] run nfv test  Change-Id: Ib411c4c47311bc1161e94cb73c220dd118b78acd,0.16041682660579681
2881,Merge remote-tracking branch 'origin/master' into f/centos8  Signed-off-by: Charles Short <charlesshort@windrivercom> Change-Id: I9ea16e3ca6741abe2c8b918be3680619c56c8f34,0.29064613580703735
2882,DNM test patch  Change-Id: If3e137de2d331fbfd681535f04a763f445daf320,0.4056854248046875
2883,[DNM] Testing TLS with support to rabbitmq prometheus exporter  Depends-on: https://reviewopendevorg/c/openstack/openstack-helm-infra/+/794018 Change-Id: Ieed80cbb7785aeecf3782d2de401af0917e48015,0.3170217275619507
2884,[WIP] Play a bit with podman client  Change-Id: Ieebe2e46e7369494e674776f2ae1be586ecd411c,0.1539420783519745
2885,Properly instantiate FernetUtils  The FernetUtils object has kwargs for the key_repository_ max_active_keys_ and the config_group The credential API uses an instance of the FernetUtils object to encrypt and decrypt credentials_ but the object wasn't instantiated with the config_group set This resulted in an error message like:    Either [None] key_repository does  When the credential key repository wasn't configured We should be setting the config_group so that we provide a more useful error message instead of a random `None`  Change-Id: Ia32cc12121ee243a003e5eb2fc832cc6a33ef499,0.1715034395456314
2886,Fix trust-scoped token create another token  When creating volume that encrypt it with barbican using trust-scoped token_ it failed Because the trust-scoped token will create another token_ but keystone don't allow tokens used for delegation to create another token So we should prevent the trust-scoped to create another token  Change-Id: I1a4cab3fd7c0131ec1c5bc924d72e2dea17b9dda Closes-Bug: #1849589,0.13046078383922577
2887,WIP Add typing flag file  This indicates that keystoneauth supports typing While we haven't started to add annotations yet_ it's helpful for consuming libraries that want to_ and means as we add them_ they can be picked up by consuming libraries  Change-Id: Ic7aba0894277e253c572b872d9a51603a96a7151,0.14436209201812744
2888,discourage using X509 with external auth  We should not be recommending using X509 SSL client certificate with external auth as external auth is limited to a single domain Instead_ X509 should be used with federation  Change-Id: Ic7472c11e2eda3541d9302ee1baf22fdd49d707f Closes-Bug: 1813335,0.1667342483997345
2889,Modify the exception for assert_user_enabled  When user is disabled_ assert_user_enabled function will raise AssertionError exception that can't be identified easily by client keysotne should raise UserDisabled exception  Change-Id: I57180272cfd07cf33712d77230e305a8cf107049 Related-bug: #1842416,0.03652633726596832
2890,Add blueprints for the document  Change-Id: Ia982405d8790c10d8903fa04a3ddaeaa5a83f6d8,0.2242894321680069
2891,Update the caching guide  During the virtual midcycle_ we came up with a list of things we can update in the caching guide to make it more useful for operators:    https://etherpadopenstackorg/p/keystone-train-midcycle-topics  This commit attempts to work that feedback into the existing caching configuration guide  Change-Id: I9812c5be067ee43be18be76f31bc16dc2693a292,0.1819845736026764
2892,backends/ldap: Fix auth for UTF-8 user names  Keystone throws a `UnicodeDecodeError` exception when a user with non-ascii charaters in their name tries to authenticate  This commit decodes `ldap_filter` to UTF-8_ which fixes the string formatting that constructs the LDAP query  Change-Id: Iec82685cd3cd27b566d384845b9f823220c28ed3 Closes-Bug: #1834342,0.29644837975502014
2893,[doc] Fix the incorrect command  ln -s /usr/share/keystone/wsgi-keystoneconf /etc/httpd/confd/ should be: ln -s /usr/share/keystone/wsgi-keystoneconf /etc/httpd/confd/wsgi-keystoneconf  Change-Id: Ib88ad4ec7c619138f785223982171d901b0e7e3e Closes-Bug: #1833554,0.10571195930242538
2894,Add cadf auditing to ec2 credentials  Change-Id: I6c69012fe001ce1a4f374a9ea06a0fbea115b77b,0.20486168563365936
2895,Fix XSS issues  Using webinspect tool to test_ the test results show that there is XSS issues  Change-Id: Ibbbb8e42166e62f80975c0219eaee483a6df2d4f,0.12370367348194122
2896,Use ignore_change_password_on_first_use for admin  usually deployment via configuration mgmt involves rendering config of the service_ executing the scripts and then staring a service  If password expiry and change password on first use are set in Keystone_ the admin user created by bootstrap will be useless for further automation_ so let's create the user with at least 'ignore_change_password_on_first_use' set to True_ giving automation a chance to set any other options on it (password_expiry is in days_ so presumably automation has time to finish)  Change-Id: I9d59b1686298e752e56d61d25313f81dbd9a93ba,0.048009634017944336
2897,Converting the API tests to use flask's test_client  For each API unit test class_ the methods are converted to use the Flask app test_client context manager  Change-Id: Ic3c735a099022d8da130e9cf271730ac392b8478,-0.0041334666311740875
2898,Allow domain admin listing their domain  When `openstack user list --domain DomainName` is executed_ openstackcli needs to find out id of the domain_ so that it could be used to fetch users It does that by listing domains filtering them by name_ and using the id from the list Today with default policyv3cloudsamplejson this is not possible  The change allows domain admin to fetch domain list if it is filtered by domain name  Please note that the issue can be fixed in any existing deployment by just changing policies the way it is done in this commit_ but it is still good to have the policies correct by default  Change-Id: Idc163449673c32566c5bf5ea1f377d6291fba14c Closes-Bug: 1732502,0.17689579725265503
2899,Change DevStack plugin to setup multi-Keystone  Change DevStack plugin to allow setup of 2 Keystone services on different nodes in order to run multinode Grenade job This plugin will setup HAProxy in round-robin mode to bind Keystone services together  Change-Id: Idee6a70232b3e7ea65c2c6f67a7b5db352f1614a Partially-Implements: bp rolling-upgrade-testing,0.10422088950872421
2900,WIP - Document functional testing and devstack plugin  There's a knowledge gap about the state of functional testing in keystone This resolves it by documenting the tempest plugin and devstack plugin and the overall structure of our functional gate jobs  Change-Id: Idd1ae05a5e9b486416b7833ed83055a83f440215,0.18495166301727295
2901,Add user_id_attribute support to _dn_to_id  This is required for LDAP configurations that use user_id_attribute other than default so users can be found in groups  Change-Id: I112a91dba76a040746723c752e6f2347668bce3f Closes-Bug: #1692090,0.14139467477798462
2902,Allow test migration by module name  Currently SQL upgrades are tested by:   - upgrading to version prior to tested   - verifying that changes are not applied   - upgrading to tested version   - verifying that changes are applied  This forces us to upgrade script version both in the file name and in tests The patch proposes to use migration name rather than number_ that will remove the necessity to update tests  Change-Id: I41dd48f7e44d6bf51b64c97bb987c85ad2d6c203,0.16895323991775513
2903,Redis cache backend using hash as a native region  Change-Id: I5a83d8e6409a881de80f62ab7076e23e76a40892,0.09966395050287247
2904,Remove simple cert support  This is only used in support of the PKI/PKIz token providers Since pki/pkiz had been removed in 'O' release_ this is no longer needed  Change-Id: Id9663980ba9bf6775c11e96a1beac39b9480b768,0.3996669054031372
2905,DNM test bootstrap under more sec-comp  we stumbled on this_ as the bootstrap seems to fail when the chenge password on first use is enabled from the start  Change-Id: I5e082fe1d287af490cab0a11e318d50ce7e9f469,0.16589289903640747
2906,Use auth_context in issue_token exclusively  The method for issuing a token accepted an argument for user_id and an option argument for auth_context_ which also contained a user_id value Despite having two ways to pass in the same information_ the user_id only ever comes from auth_context  This patch simplifies the issue_token API by removing the user_id parameter since it is redundant  Change-Id: Ib462ffe98f6c1c574e18957b8eafc3ef5bb4fc74,0.20879101753234863
2907,Fixes missing name on filtered queries  Some model properties (eg user name) might be missing in the query result when the limit query is on This is caused by the generated query string does not have an ordering setting_ in which case MySQL may return different result sets for join_ leaving some properties without values in the joined table  The generated query for join is:   SELECT       FROM (SELECT userid AS user_id_ userdomain_id AS user_domain_id            FROM user LIMIT %(param)s) AS anon_1      INNER JOIN local_user ON   While before sqlalchemy collects result metadata_ the generated query is:   SELECT userenabled AS user_enabled_ userid AS user_id_         FROM user LIMIT %(param)s  Note: These two queries may show the differences in MySQL   1) SELECT userenabled AS user_enabled_        userid AS user_id FROM user LIMIT 100;   2) SELECT userid AS user_id FROM user LIMIT 100;  Change-Id: Iac183078834f912df32c7bfcc66de7bd2524b237,-0.0023377705365419388
2908,Enable keystone-dsvm-py35-functional-federation on arm64  Add an arm64 variant of the keystone-dsvm-py35-functional-federation test  Change-Id: Ie7399d7d117fce7184956646d1ba83b76543264f,0.21458175778388977
2909,Enable keystone-dsvm-functional-federation test on arm64  Add an arm64 variant of the keystone-dsvm-functional-federation test  Change-Id: Ib93de8d1451cc60029047f97d7f03ec896f1981c,0.21058906614780426
2910,"[FT] Skip ""test_models_sync""  Once [1] is fixed and released_ we'll be able to create SQL tables specifying the ""_constraints_included"" flag When creating a table_ this flag should be set to ""False"" in order to be able to set the ""index"" and ""unique"" parameters for each column in the table definition_ as we do now We'll probably need to add this new flag to all table creation operations  Related-Bug: #1929518  [1]https://githubcom/sqlalchemy/alembic/issues/848  Change-Id: I445707a11cbfd6c9d474e5190787be4b0e71cb5d",0.08163967728614807
2911,Closes-bug: #1779889  Change-Id: I0a1d602e44a7e79795a3ed787bd04fc564f1cf5c,0.277361124753952
2912,DNM: testing system_scope  Change-Id: I5bd7e3b17c846c9f93ee96e4a3dde46516fae66c,0.2669351398944855
2913,Changed the port numbers   No more seperate ports    Before keystone needed to be run on two separate ports to accommodate the Identity v2 API which ran a separate admin-only service commonly on port 35357 With the removal of the v2 API_ keystone runs only on port 5000    Change-Id: I012662ea2af80441c99bafee757569d8b0d40ff3  Change-Id: Ic3d29a96dd4e81fead157bade0c24e1d984f9518,0.1538940668106079
2914,use port 5000_ keystone-wsgi-public_ and --http-socket  Change-Id: Ia37b3f3918a2a4bc99a83f898a48b51ea618edda,0.061869315803050995
2915,"Fix Bug 1711883  When enable SSO(Single Sign On) on OpenStack_ I found a KEYERROR will be raised by keystone service when I tried to logon on OpenStack with my Google account  The root cause is_ in function get_user_unique_id_and_display_name() of keystone/auth/plugins/mappedpy_ the checking of user dict's key ""name"" is not very strict So_ we need to add more strict validation here  Change-Id: I08407e2abae355321d02816596da1726809b18ee",0.21895578503608704
2916,"Change ""a SQL"" to ""an SQL""  According to the word choice convention in: http://docsopenstackorg/contributor-guide/writing-style/word-choicehtml We should use ""an SQL"" instead of ""a SQL""  Change-Id: I8fb147d878534e9ab73fe39777a836fa3058cfd4",0.10482906550168991
2917,Catch more keystoneauth exceptions  Connection timeouts and SSL errors should be treated much the same way as connection failures  Similarly_ if we *can* connect to the Keystone server but it says it's busted or starts talking gibberish_ treat it the same as when we can't talk to Keystone at all  Change-Id: I57e1883fd85e0d9452ca954bee8a8d5c125845c1,0.10102032870054245
2918,Explicitly assigning the exception to a variable for reraise  When running keystone-manage bootstrap multiple times_ TypeError will be raised in notification sending wrapper  If a method called in the expect block clears the exception info_ raise without an argument will result in the exceptions must be… exception again So explicitly assigning the exception to a variable with except … as is safer [1]  [1]: https://stackoverflowcom/questions/27438986/exceptions-must-be-old-style-classes-or-derived-from-baseexception-not-nonetype  Change-Id: I303033329b315d45956887c1523002745893e2a6 Closes-bug: #1786383,0.0715603455901146
2919,Fix the incorrect file path of keystone apache2 configuration  Change-Id: Ib99d7d36ae97961d210273154eb0d10015a60f21 Closes-Bug: #1783010,0.2218797504901886
2920,Enable trusts for federated users  1 Add federated shadow user to groups on user creation 2 Do not always check domains because federated user doesn't belong to a domain  This should probably be broken into 2 patches  Change-Id: I2dd601b7bdc56f2c19628304095d0f7be0a33d87 Closes-Bug: 1589993,0.1323409378528595
2921,Checking safety before keys rotation  We'd better check whether another process is rotating keys on the node or other nodes in a cluster Adding this step is beneficial to safely rotation  Change-Id: If573798f67a62ca925ac85222f0a03d78aa94716,0.1917126178741455
2922,Allow registering additional plugin loaders  Allow applications to register plugin loaders into a global pool This way if they need to provide a plugin entry point for their application (as openstackclient currently does) they don't need to register it system wide  Change-Id: Id2c6ca6116cd0fbb7aefc288bcd4debd7e10a49f Closes-Bug: #1451300,0.10783311724662781
2923,replace lxml with defusedxml  lxml was considered as vulnerable to different atacks it is recommended to replace this library with defused_xml Closes-Bug: #1534284  Change-Id: I2eef707e1f48f48c4d60725e1151507578f37985,0.17093661427497864
2924,Remove service warning log from keystone middleware  Service token warning should be removed Because in the keystone project_ the parameter like 'service_token_roles_required' is not set and the warning log appears which is very confusing When auth request is from nova to keystone_ the keystone warning log would occurs while in nova log not_ for setting 'service_token_roles_required' in [novakeystone_authtoken]  Change-Id: Id6b2fcd0780189c45bca2c4fb32abccc4e31996d,0.1721998155117035
2925,Keystone ldap tree_dn does not support Chinese  Change-Id: I9e5d59dcc71c0561b1d68ea358abab20a047b577,0.17872938513755798
2926,Api-refs for extending user api for fed attributes  This patch is dependent on [1] and add the api-ref changes needed for the change  [1]: https://reviewopenstackorg/#/c/426449  Change-Id: I66ec666d498927b4ad84167acb837a7f78b9e526,0.22792468965053558
2927,Drop support for ephemeral  user type  With the implementation of shadow user_ ephemeral users are no longer valid This patch  * refactor code to drop support for ephemeral user type and   treat ephemeral users as local users * removes test cases corresponding to ephemeral user type  Change-Id: I452a1d9f8a5cb8d61cf99afae9dcf8f8415fcb28 Closes-Bug: #1601910,0.19505883753299713
2928,Return the local user roles for federated users mapped to local users  Change-Id: Ib8eafade500b3d8af2522ac1f7e1e64ed7a7f93a Closes-Bug: #1667070,0.07634532451629639
2929,admin gets is_admin_project by default  set is_admin_project true on the token when admin_project_name is not set in CONF and the role is admin_ as a way to maintain backward compatibility for users depending on the legacy behavior that anyone with the admin role is not restricted to the scope of their token  Change-Id: I3cca2bd1f103ccdd1e59024a8db7efc09ddee089,0.07521942257881165
2930,WIP - Add framework for supporting microversions  This is very much a copy of the nova approach_ adapted to our use of wsgi & controllers  TODO: - Add a precursor patch that fixes up a few places where request   is not properly being named as a parameter - Add testing for microversion  Change-Id: I4a6362fae9b82f13e6bc869f26699ecf02e17e98 Implements: blueprint microversions,0.1656895875930786
2931,Remove unused PKI related file and tests  Change-Id: I732600d841e9a84c3dfee7b5c3e8894ece1ae913,0.2630040645599365
2932,WIP - Add caching for get roles on groups  Non-persistent token caching (eg fernet) is done by caching the individual components of the token_ rather than the whole token itself Currently_ the validation time for a fernet token is 5x the time for a UUID token - so we're missing something_  One of the things we do differently for ferent tokens is check the group roles for federation tokens - and this wasn't cached_ so this patch adds this  It currently fails unit tests since some tests flips the inheritance flag mid-test (which effectively invalidates the cache) Also we don't yet invalidate the cache if group membership is changed_ hence this patch is currently experimental so we can at least confirm that this has positive effect on performance  Change-Id: I49b8013c654a54363539e5931619051bda378fc2,0.1882277876138687
2933,WIP  Change-Id: If683aa01cdc41518dc25e10b3b32a1f899100be6,0.19777244329452515
2934,WIP - Opportunistic LDAP testing  If there's an LDAP running that the tests have access to_ run the identity driver tests  Change-Id: I98f02c77009f0141bd81f66638b3c7b30f9afe14,0.05812607333064079
2935,Testing gate  Do not merge  Signed-off-by: Charles Short <charlesshort@windrivercom> Change-Id: I894ebff5ad2a8b06fb91b3504b7377aa6712d37b,0.1581493616104126
2936,[WIP] Move fernet utils to backend  Change-Id: I8ab9e15effa05969e3980f64c0799c53fc77dc6a,0.17185096442699432
2937,WiP: make cache invalidation safe  Change-Id: I5aefc47d2a0dc81ac7a3655c6cb500331b0680a1,0.26353567838668823
2938,Added app for policy enforcement  Added driver and controller to keystone/policy that will handle HttpCheck requests from oslo policy  Change-Id: I8e5f32d31b7cbc541143078834889b16110d261a,0.14721737802028656
2939,Add manager and base interface for fernet key store  This change add new manager and base interface required for implementation of fernet key store  This patch is a preparation for moving the current key managment logic in backend and also allows to implement alternate backends for storage of fernet keys  Change-Id: Ie338520ea438e9e5056f4a1481cd1b1fccef860d Partially-implements: blueprint fernet-key-store,0.1495962142944336
2940,Adds support for array in the values of the endpoint group definition  Modifies the catalog to support arrays as the value of the endpoint group filters This requires modifications at API level  Change-Id: I93912954c62ad50cf40887ef28b701b0f487216a Closes-Bug: #1642985,0.14827154576778412
2941,Pass request back into wsgi render_reponse  In follow on patches for microversion support_ we need to be both set the version in operation in the request as it is passed to controllers_ as well as to be able to use the version in the request to add it to the response block  In preparation for this_ we pass the request that was handed to the controller back into wsgi render response  There were a couple of places where the recent change to add the request to the controller signature had been missed_ which are also corrected here  Partially implements: microversions Change-Id: Ie99f1c0aa8b3c8ff80082496389ed5446384f69b,0.22314170002937317
2942,Endpoint Grouping Proof of Concept  This is a PoC for the Endpoint Grouping idea The code needs to be preceded by an API change in the extensions folder describing the API syntax_ behaviour and return statuses  Change-Id: Idcb096a951f097230cfbd63eebad1fc61191a0af,0.09181609004735947
2943,Fix stable/train gates  This patch is a partial backport of  https://reviewopendevorg/#/c/685492/  This patch includes the date fixes for the functional tests and a documentation fix  Change-Id: Id91f44e8053cf4f40224959021d43736d5525107 (cherry picked from commit b8266ef40261fe034817d711440f0337b040c38d),0.2882748544216156
2944,Remove use of --generator=run-pod/v1  This has been deprecated since 117 and removed since 120 run-pod wound up being the only generator that did anything_ so this parameter became a no-op  Change-Id: Ifa156339e42bdcb42a3b75ab11539ac5e6b2e44f,0.17564821243286133
2945,Move update_args_from_answers_file to utils  Change-Id: Idbdfef3a38353061a143bdc184aee7935305b4d1,0.200252503156662
2946,restart apache service on config-changed  when updating certificate requires an apache service restart in order to load new certificates  Closes-Bug: 1927025 Change-Id: I5a74d6625cf312fccbb6885cdf2122c2efca119d,0.22410771250724792
2947,Merge remote-tracking branch 'origin/master' into f/centos8  Change-Id: I5c450ae6eecba88997bd05b2e7ad983173ba08a8,0.28323572874069214
2948,WIP / DNM - initial pseudo-code draft of at-scale template for operators  work in progress  Change-Id: I645eae5d66f8e947c709fe58b53c8470ce01d69c,0.046774670481681824
2949,Merge remote-tracking branch 'origin/master' into f/centos8  Signed-off-by: Charles Short <charlesshort@windrivercom> Change-Id: I460f40d3223a0614726b51a4e5cdebb7b29a9672,0.2860097289085388
2950,Add is_metal variable  In functional tests_ comparing to the integrtion ones_ dynamic inventroy is not used Thus_ ``is_metal`` variable is not defined_ and we rely on it in some roles  To cover the gap_ we're setting a variable based on the ansible_facts for functional tests only  Change-Id: Ifc9bb5bb65d599a39f562faaaa14a0756e493ba1 (cherry picked from commit 7466bc9309f38a238b3511072f3da7bf8a7f3d59),0.13296228647232056
2951,oc deploy_ arg validatate - set net/role defaults  Update the parsed arguments from anwers file prior to doing argument validation  Fail if 'templates' not provided in answers file and no '--templates' set on command line  Set the default for roles_file and networks_file relevant to 'templates' in parsed_args object  Change-Id: I36bbd0a4298b81b917cbf0f1a7d56c88c9ee433a,0.0743633508682251
2952,Remove unnecessary string formatting  Change-Id: I2f8996dcec1a534cff74652ca76725e996af2294,0.12879565358161926
2953,Drop pbr version ceiling  - Ceiling of pbr version can create installation conflicts with pip - Fixes tox default env list to be python version agnostic - Includes hacking version bump to fix dependencies  NOTE: Partial backport of the master fix This patch excludes the py39 job updates  Bug: #1921679 Change-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d (cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25) (cherry picked from commit b73f4154cab14ed635f2ab25fad528360b509a21),0.2942543625831604
2954,Add uni test for ShellCommand class  Change-Id: Ia121bcab75bb1b39cf84308f9ac66c73a2582bb1,0.07126040011644363
2955,Placeholder WIP: Rabbit exchange name: normalize case  This patch is a placeholder for this spec_ serving as a reminder to myself to eventually write it  This emerged from a disucssion at the May 6 Nova meeting [1]  [1] http://eavesdropopenstackorg/meetings/nova/2021/nova2021-05-06-1601loghtml  Change-Id: I3a4fc9dcd866bd0fb0058ebecd3cf244d997b3e4,0.17601221799850464
2956,[DNR] Test integration job status  Change-Id: I707b2742b0880100b307e0678ee8f25e64cfcd9d,0.23631130158901215
2957,Use `ip route` for VIP configure with `onlink'  Otherwise_ nexthop not from subnet cidr will fail  Problem: Neutron allows to set subnet's host_routes parameter with any gateway_ even with that's not in subnet's CIDR In this case we'll get error: `{u'message': u'Error plugging VIP'_ u'details': u'SIOCADDRT: Network is unreachable\nFailed to bring up eth1\n'}`  - Use modern `ip route` tool (+ it allows to set /32 subnets    without additional conditions) - Set `onlink` to allow any gateway  Signed-off-by: George Melikov <mail@gmelikovru> Change-Id: I4ccf212b9e82930bf0e02b4546ad2a0a58975e20  Story: 2008944 Task: 42563 Change-Id: I3c757834f01d1ee5f0f62a73185978980ccbd147,0.06845451891422272
2958,Use py3 as the default runtime for tox  Moving on py3 as the default runtime for tox to avoid to update this at each new cycle  Change-Id: I7dbabe0e7dfce2736e8414fdd23a84cdfa3e306f,0.06155693903565407
2959,WIP: Restart docker serially to avoid outages  If you restart docker via a configuration change_ acidentally or on purpose_ you can end up restarting across all three controllers at the same time This is known to trigger an outage that affects the network traffic for VMs running in your cloud (ie the worst kind of outage)  There are more clever and more scalable approaches_ but it seems safer to always restart docker serially to avoid this kind of impact_ until we have a better solution This should be easily backportable_ with any luck  Problems: It is possible there are similar issues with accidential docker upgrades_ but this isn't considered here I am yet to test this on a live running system_ this might not be slow enough to avoid a galera cluster loosing quorum_ etc  Change-Id: If5945ef3391d7e28e37f6f4c940919cd0dd938a2,0.07548615336418152
2960,WIP: use keystone default for token expiry  Currently we default to keystone having tokens valid for one day_ rather than the one hour keystone chooses  While it can help long running operations_ like a snapshot of a very large VM succeed_ it does mean to barer of the token has access to the cloud for a long time_ even after their access has been removed in keystone  It might be better to default to one hour token expiry  Having said that_ the other use of fernet_token_expiry is really for the frenet_key_expiry  TODO: maybe it needs a rename?  Change-Id: I4c86a33ca177d25425e9ec69b97144c71d0975d1,0.10812661796808243
2961,"Switch from pacemaker standby to pacemaker stop  Currently_ the ""snapshots"" backup is being taken after taking out one node from the cluster using pcs node standby The consequence of it is that the standby property is also being backuped_ so when the node is restored_ it appears as standby and it needs to be unstandby manually  Switching to pcs cluster stop/pcs cluster start does not make the playbook take any longer_ nor it creates an impact on the time the vips take to be migrated to a different node while provides the advantage that when the node is restarted (during restore)_ pacemaker starts correctly without any other manual step  Change-Id: I48eca49f465d43e6b2fd8c24369f1eb6686ccb41",0.033830467611551285
2962,Add reference centos non-voting job  Change-Id: If63eac02cb4e6663a6607d05471c452ff04a5abd,0.1979128122329712
2963,Updated from generate-constraints  Change-Id: I46b0d545d10b295595011f882f9daf6c6bcd285a,0.25945180654525757
2964,testing review comments for dell ironic ci  Change-Id: I91dbd2d8caa0e975b73a38e914f282d2b0c7c438,0.1872905194759369
2965,[DNM] TM test  Change-Id: I3db36aced9696aa3e45f47293124b4ff29dde2bd Signed-off-by: Ruslan Aliev <raliev@mirantiscom>,0.29000455141067505
2966,Fix local boot issue with fedora in uefi mode  Currently local boot in uefi mode for partition images using fedora doesn't boot the user image grub-install fails though it does not report any errorThis issue is fixed by using the existing boot loader  Change-Id: Ia2569244c228ee6b7584db9c7350dd9b301b4715 Closes-bug: #1565619,0.04083988815546036
2967,Retrieve server name from http VM server  Change-Id: I7537a377ecd426d71c308106d75b66852c0f3c8e,0.12017329037189484
2968,Add interface to ceph config set arbitrary parameters  Add ceph_config_setyml tasks file to tripleo_cephadm role If the current playbook directory contains ceph_config_set_mapyml with a map of sections_ keys and values_ then this new tasks file will run `ceph config set <section> <key> <value>` for each item in the map A separate file for the map is used so that the same interface can be used when Ceph RBD is deployed before the overcloud  Update prepareyml tasks file of tripleo_run_cephadm role_ which creates the ceph_config_set_mapyml from a variable passed from Heat  Related-Bug: #1930445 Change-Id: Ieadb0243c7d25dc35ace63824de52ba306ac7725,0.0835346132516861
2969,Introduce CephConfigSetMap parameter  New paramter CephConfigSetMap is a map of parameters containing a section_ key and value which are applied with `ceph config set <section> <key> <value>` after Ceph bootstrap This new parameter is necessary because the parameter map CephConfigOverrides is implemented with `ceph config assimilate-conf` but not all Ceph paramters can be assimilated  Closes-Bug: #1930445 Depends-On: Ieadb0243c7d25dc35ace63824de52ba306ac7725 Change-Id: Ib149844d0647a48cbf15a044ef25814ee96e9fb8,0.170329287648201
2970,pep8: use mock from unittest  /ovn_octavia_provider/tests/unit/fakespy:17:1: H216: The unittestmock module should be used rather than the third party mock package unless actually needed If so_ disable the H216 check in hacking config and ensure mock is declared in the project's requirements import mock ^ /ovn_octavia_provider/tests/unit/test_driverpy:17:1: H216: The unittestmock module should be used rather than the third party mock package unless actually needed If so_ disable the H216 check in hacking config and ensure mock is declared in the project's requirements import mock ^ /ovn_octavia_provider/tests/unit/common/test_clientspy:14:1: H216: The unittestmock module should be used rather than the third party mock package unless actually needed If so_ disable the H216 check in hacking config and ensure mock is declared in the project's requirements import mock ^ /ovn_octavia_provider/tests/functional/test_driverpy:20:1: H216: The unittestmock module should be used rather than the third party mock package unless actually needed If so_ disable the H216 check in hacking config and ensure mock is declared in the project's requirements import mock ^  Change-Id: Idcccc59b49fa3662d0d61b0b63245865ad09f317,0.16041424870491028
2971,DNM: exercise base-test in ansible deploy jobs  We've merged Ie1e38d68ddda5d24c8a0fe0a6d1098bd89c28f0c in order to test a potential mechanism for creating a working VERSION_ID value when it doesn't already exist (common in an unreleased debian/testing install for example) See if this helps or breaks something  Change-Id: Ifd3e15695e8a9b6e154c67ec5576bb3e77dd73b0,0.25848621129989624
2972,Configure SQL as helm storage backend  Configmap is the default helmv2 storage backend to store release information but its 1MB resource limit prevents scaling up stx openstack worker nodes_ so we want to use SQL as helm storage backend  Update armada overrides to start up tiller with SQL storage backend  Tested: - AIO-SX_ AIO-DX_ STD installation (IPv4 and IPv6) - apply stx-openstack - host-swact/lock/unlock - AIO-SX_ AIO-DX upgrade with stx-openstack_ stx-monitor - backup&restore with stx-openstack  Closes-Bug: 1887677 Depends-on: https://reviewopendevorg/#/c/761647/ Change-Id: I8ad7194973e8fc60ee2539dea5da67b15be1df4a Signed-off-by: Angie Wang <angiewang@windrivercom>,0.13898161053657532
2973,Stop requiring registered nicks for IRC  The volume of spam seems to have fallen off significantly While we can't be sure it will stay low if we remove the registration requirement we have been asked to see if the registered requirement is safe to remove  Remove the +r and +f from our channels to find out We can always revert this if necessary  Change-Id: Ib64bb633a5920ee953b4582e495bca68ae19a71c,0.11399595439434052
2974,TEST: Do not merge  Change-Id: Iec87b7464594708f226914cb446cd1380e93a58e,0.23214702308177948
2975,Centos 8: update the download url of mariadb 10317  In mariadb 10317 spec file_ it uses the mariadb-connector-c instead of the client library The mariadb-10317targz on github archive doesn't contain the mariadb-connector-c submodule_ which causes a build error:  CMake Error at cmake/submodulescmake:38 (MESSAGE):   No MariaDB Connector/C! Run       /usr/bin/git submodule update --init   Then restart the build Call Stack (most recent call first):   CMakeListstxt:403 (INCLUDE)  To fix it_ downloading the full tar ball_ which has the connector-c submodule from archivemariadborg  Closes-Bug: #1906233  Signed-off-by: Yue Tao <yuetao@windrivercom> Change-Id: I8eab8c0c3d0e9baaa1f1824cc740820fd996a5a6,0.31405436992645264
2976,[DNM] Testing sqlalchemy 14  Change-Id: I153c72dd6181ba8b1fab032c82a8d342be980567 Depends-On: https://reviewopendevorg/c/openstack/requirements/+/788339,0.2694081664085388
2977,Fix UPPER_CONSTRAINTS_FILE for ovb  The branches need to be mapped for stable/20  Change-Id: Idea420fa358c3e9d0a9cd33e348b87e0f9bde4d3,0.2946779131889343
2978,[DNM] Test CI  Change-Id: Iba65db45942c9088c18a0fc8965844d2322b22e3,0.29039230942726135
2979,Fix upper-constraints branch reference  We should really use wallaby for the stable/wallaby branch by default  Change-Id: I17363c28484cc6faf54782f40e56635655b3827f,0.3785676956176758
2980,DNM: test fix for network_cidrs  Change-Id: Ib38a1954a2ec70f2b106105b446477773569f704,0.27586424350738525
2981,"""Use puppet-openstack-module-unit-jobs to define unit test jobs  This patch replaces puppet-tripleo-module-unit-jobs by the common job definition_ puppet-openstack-module-unit-jobs_ so that we run unit test jobs which is consistent with the other puppet modules  By merging this changes_ we expect that the following change is made to the current job definitions - CentOS8 jobs are added - Replace puppet 60 job by puppet 64 job - Add puppet 64 job on CentOS8  Backport note: The above descriptions were adjusted to reflect status of Train  Conflicts: 	zuuld/layoutyaml  Change-Id: I21d2b8f2e267a6f330cc423572b068e3910cacc4 (cherry picked from commit ef254f7dc7ea257060042eb6ac7c8f6731d2e52b) (cherry picked from commit c04b6b52e6f63eacc8ed62a7566722de01dd1e03)""",0.27185165882110596
2982,DNM: test ceph checkout with branch  Change-Id: If02e3811ffa6a81add833593e1bd7c66af08216e,0.32706785202026367
2983,Exposes the log path parameter to the CLI and allows for API override  Log path can now be set through the CL Default values remain the same Defaults can be overrident trough inheritance of CLI classes  Test adjusted accordignly Signed-off-by: Jiri Podivin <jpodivin@redhatcom> Change-Id: I885dc131de6c4b8894f34c44879606a98890752a,0.012440989725291729
2984,Set default PUBLIC_NETWORK_GATEWAY explicitly  devstack has defaults for the floating range and for IPv6 public network gateway already_ but not for this_ and OVN in a default/bare minimal devstack configuration requires this to be set to some actual value  The chosen default corresponds to the default FLOATING_RANGE  Change-Id: I530e301f9dbcc5fc911ba8e8a9fd498e35c36a90 Related-Bug: #1930360,0.17265988886356354
2985,Drop Bionic support  Since victoria cycle_ we have moved upstream testing to Ubuntu Focal (2004) and so does no Bionic distro in Xena cycle testing runtime[1] Grenade jobs also started running on Focal since victoria was released  [1] http://listsopenstackorg/pipermail/openstack-discuss/2021-May/022248html  Change-Id: I5b96fde4051847eea8a9797b6453de80cd1c7e30,0.3047219514846802
2986,DNM test job  Depends-On: https://reviewopendevorg/c/openstack/tripleo-quickstart-extras/+/782362 Change-Id: Idd71106816421073d74f2e2c7a62d500bcfc7167,0.24531428515911102
2987,DNM test CI jobs  Change-Id: Ie2cdb8ffb3b747e14bc2db071192995053593906,0.2387341856956482
2988,DNM test jobs  Change-Id: I78cb574874c0162db828b901eaef55c9c8a98506,0.2595483958721161
2989,[DOC]: keepalived is needed for truly HA installation of haproxy  We need to install the 'keepalived' application in order to have a truly HA haproxy deployment  Change-Id: If9285154dcb31248bf6b0f8a7fa947007d00196e,0.19339874386787415
2990,"Fix the haproxy healthcheck method/query for sahara-api  Even if apparently nothing changed in haproxy and sahara_ the sahara-api is unreachable and it has been the case for more than one month Apparently haproxy thinks that the service is down because it cannot reach the sahara_api-back backend The connection fails with an ""unauthorized"" error Also_ apparently_ there has never been an /healthcheck entry point in Sahara  This change switch to the same pattern used by other services and it should make the backend reachable again  Change-Id: If40de88af73215866909fc443c670eded543c13c",0.16678683459758759
2991,Add Cloudkitty to integrated repo  Change-Id: I7e93577819283620d189ba27f57c98b97cede1f2,0.43861261010169983
2992,Signed-off-by: Yong Fu <fuyong@neusoftcom> Change-Id: Ia1244379564be7d873bce72c6a275e56b76b0baf,0.24598459899425507
2993,Reuse the docs deps to benefit from constraints  Tox trying to install latest versions for building releasenotes_ doc which may not be supported by stable and lower branches_ so should be restricted by respective version's upper-constraintstxt  Change-Id: I5ed38a032fe4ac02a03791baf6ff7275688b8b68,0.3198894262313843
2994,Deprecate support for Panko   because Panko has been retired  [1] https://reviewopendevorg/c/openstack/panko/+/791683  Change-Id: Ibdb25497ff5d00e263314ab2c48a78feab9dc94b,0.30265986919403076
2995,Remove newline from default public_net_name  The public network name is set via public_net_name_ and its default value is the first item in the external_net_names list The variable uses the YAML folded block scalar notation_ but does not use the chomping indictator_ which means the string is assigned a trailing newline  This change fixes the issue by adding the chomping indicator  Change-Id: I68fb65cd3bc7c4390813747f9ac4ecebc3b4145f Story: 2007654 Task: 39731 (cherry picked from commit 6beaf5b5e38c3a90651afb67899d8ee6661e2cf9),0.19215255975723267
2996,Remove redundant option in mariadb_backup  Mariabackup will do full backup by default_ '--full' option is redundant_ we will not use this option normally  we can also refer to the doc_ this option is not be added: https: //docsopenstackorg/kolla-ansible/latest/admin/mariadb-backup-and-restorehtml Change-Id: I073d0b4e3f48bab12486209a15df172b7d376830,0.13033626973628998
2997,Remove all TripleO jobs in CentOS7  CentOS7 is no longer supported_ so it doesn't make sense to run tripleo jobs on CentOS7  Change-Id: Ie6297e3565d087efcc93a06e587c5293de7cdb00 (cherry picked from commit e538c69a416ea50a544762c93c38500d241438bc),0.15981706976890564
2998,Use low-memory-usageyaml in tripleo jobs  low-memory-usageyaml is generally used in TripleO standalone jobs now_ thus it is better to enable it in TripleO jobs in each puppet modules  Change-Id: I40145696225bda8ab2b229148a5fbec9249df7e0 (cherry picked from commit a12e3c0e063bfd1debc489ca0fa5c17c2d556cfd),0.05350211262702942
2999,[WIP] Upgrade kubernetes and kustomize dependecies  Change-Id: I90098cfdd37345cb38572a4013b251cc93e1d8f4 Signed-off-by: Ruslan Aliev <raliev@mirantiscom>,0.39457136392593384
3000,DNM: Test downgraded puppet-python  Depends-on: https://reviewopendevorg/794170 Change-Id: I7b2db8190893df617846e2126fdcb0dbd08c68aa,0.3573305606842041
3001,DNM: Test rspec_puppet/spec_helper  Depends-on: https://reviewopendevorg/793990 Change-Id: I23909fc7aec6a51752288d309c1ee6dadf4347ee,0.22621309757232666
3002,WIP: load rspec-puppet/spec_helper  Change-Id: If5c9831fb99c0418a8c592207a30f378ceb2e69c,0.16892123222351074
3003,[DNM] Check the test code  Change-Id: I6b3cf5b24f8121543c1181b2f4e932862b3dc91b,0.26022130250930786
3004,Editorial updates to edgeworker guide  Follow-on to review 774595:  Added reference label to edgeworker guide Edited text for format and grammar to align with other guides Added starlingx condition to Note in install guides that refer to Edgeworker guide  Included reviewer feedback Rebased to fix merge conflict  Change-Id: I2952aa5e57e399876faaef98021d9032dacfe7c8 Signed-off-by: MCamp859 <maryxcamp@intelcom> (cherry picked from commit 62ac1ea6feb6265da2208c131a8191540d29c9f6),0.21384575963020325
3005,DNM: Test downgraded vcsrepo  Depends-on: https://reviewopendevorg/794264 Change-Id: I7a661f0e8afb8869928032aa911df7589a29cacf,0.3458695113658905
3006,DNM: Testing  repo update  Change-Id: Ie29c7c33c8d66bc3729c03c2d72cbdbf85ad443a,0.5063692331314087
3007,DNM - testing puppet-openstack-beaker-centos-7 on queens  Change-Id: I0cb6ac1e353a2a3097c3eca1184bd2c7b9de4a3c,0.2935835123062134
3008,Merge remote-tracking branch 'origin/master' into f/centos8  Signed-off-by: Charles Short <charlesshort@windrivercom> Change-Id: If14966ab4f5cb9ca05afd3326791100953e868d3,0.2911733388900757
3009,DNM enable OVB login  Change-Id: I51bdcd71e617ed2f3e3eecabc7b62e104e9eb96c,0.18762150406837463
3010,"Check local pods only to prevent B&R timeout  This fix reworks a kubectl wait command to only wait for ready pods on the local controller This fixes an issue where restoring a cluster with many nodes can timeout during ""Start wait for armada_ calico-kube-controllers & coredns deployments to reach Available state"" This timeout was happening because the kubectl command was waiting for pods on downed nodes to become ready for 30 seconds per pod In cases where there were 5 or more unreachable pods_ the async timeout value of 120 seconds would be reached and the kubectl wait commands would be terminated before completion This prevented subsequent Ansible tasks from completing and resulted in a parsing error during ""Fail if any of the Kubernetes component_ Networking or Armada pods are not ready by this time""  The fix here adds --field-selector specnodeName=$(hostname) to the kubectl wait command and causes only pods on the running controller to be checked This also ensures that the asyncronous tasks will always only take 30 seconds_ regardless of the number of nodes in the cluser  Removed the behaviour where the wait time would scale up based on the number of nodes_ as the return time of the async tasks is now always a fixed 30 seconds  Closes-Bug: 1905788  Change-Id: Idb7b30891d4fd00901aaa69412ef4c59913e21f3 Signed-off-by: Cole Walker <colewalker@windrivercom>",0.12019301950931549
3011,Support upgrade to Helm v3 with containerized armada  This provides an upgrades playbook for containerized armada to launch armada using Helm v3  This refactors common code from bringup_helmyml so that it may be called from either bootstrap or upgrade  Story: 2007927 Task: 40354 Closes-Bug: 1906554  Change-Id: I061006683252a8592f07c90d6d82bdc109418451 Signed-off-by: Jim Gauld <jamesgauld@windrivercom> Signed-off-by: Angie Wang <angiewang@windrivercom>,0.16133886575698853
3012,Ensure docker proxies are defined  System triggered playbooks such as upgrade-static-images_ will fail to pull newer images from AWS ECR if either docker http or https proxy is not configured This commit resolves the issue  Tests:   - Fresh install with public registries   - Fresh install with a private registry   - Fresh install with AWS registry_ http proxy configured   - Fresh install with AWS registry_ proxies not configured       a Perform controller swact       b Perform upgrade  Closes-Bug: 1910951 Change-Id: I93c2856210dde90a66bae823178e14f140f711f4 Signed-off by: Tee Ngo <teengo@windrivercom>,0.2725093364715576
3013,Improve bootstrap config validation  A misconfigured docker_registries when merged with the default docker_registries will lead to bootstrap failure with a misleading error that is difficult for the user to identify the root cause  Add tasks to ensure user provided registry keys are valid  Closes-Bug: 1908479 Change-Id: I829496481708221a772a9242dc660a2462880116 Signed-off-by: Tee Ngo <teengo@windrivercom>,0.196800097823143
3014,Lower negative cache TTL for coredns  This change updates the coredns config map to lower the TTL for caching negative responses from 30 seconds down to 5 seconds This will improve the response time for cases where a hostname lookup might occur before a given pod is created_ resulting in a negative entry being cached and preventing pods from resolving the name for 30 seconds afterwards  The default cache size of 9984 items is unchanged_ but must be explicitly defined in this configuration  The change also adds coredns to the upgrade-k8s-networking playbook to ensure that changes to coredns can be automatically deployed by sysinv-conductor  Closes-Bug: 1906870  Change-Id: I7b44358508c32c8ca4e58b1e69d6232f1a61bfcf Signed-off-by: Cole Walker <colewalker@windrivercom>,0.23175612092018127
3015,Upgrade: append additional images to the static images list  Images specified in additional_local_registry_images at install time will not be upgraded after an upgrade is completed This commit allows common/load-images-information load additional images list from /usr/share/additional-system-imagesyml by default  In a distributed cloud system_ the Redfish Virtual Media Controller(RVMC) image is can support remote install on Redfish configured hosts This commit includes the RMVC image in the static images list if the host is a DC controller_ enables download/push/update this image with other static images  Tested by installing and upgrading an AIODX central cloud with an AIOSX subcloud DC system  Partial-Bug: 1908100 Change-Id: I1f927f876f4883a587098c61fbcaf408d65fdde4 Signed-off-by: Yuxing Jiang <yuxingjiang@windrivercom>,0.25725847482681274
3016,Create deployment namespace during bootstrap  A generic namespace is being created during bootstrap called 'deployment' This namespace will be shared by various deployed platform resources including platform certificates  Change-Id: I48bca00cc882fae691786fd1e200e28bf126496b Story: 2007361 Task: 41495 Signed-off-by: Sabeel Ansari <SabeelAnsari@windrivercom>,0.12683981657028198
3017,Bug fix: static image type error  A bug was introduced by commit 587c1ff2075c518f32bb93f14f66bcd23e542259 that the bootstrap of a distributed cloud system controller will fail due to the RVMC image is a string rather than a list This commit converts it to a single member list before appending it to static images list  Tested by bootstraping a distributed cloud system controller  Change-Id: Ib2e0c6cc1913e0ee44f8b288004459c497ebedb8 Closes-Bug: 1908100 Signed-off-by: Yuxing Jiang <yuxingjiang@windrivercom>,0.2851773202419281
3018,Remove the addition of identity to shared services  Identity services are no longer a shared service in DC This commit removes the addition of identity to the shared service list for subclouds  Change-Id: I3d9d0e4df1a41142cce1ce13d4bbf7d43a626909 Partial-Bug: 1904675 Signed-off-by: Jessica Castelino <jessicacastelino@windrivercom>,0.2673191428184509
3019,B&R: Fix restore of ceph using mds  Calling /etc/initd/ceph without specifying a component applies an action to all components After cephfs_platform_integ topic merged_ ceph mds component is also used Mds requires a monitor to be up before starting Due to the fact that the ceph script was called without specifying the components mds the start action was applied to mds also and it was applied before starting the monitor_ resulting in failure  The fix is to specify the monitor and osd components Mds will be start when ceph is restarted a few tasks later  Plus minor ansible changes: - Use failed_when instead of ignore_errors - Renamed task  Closes-Bug: 1912488 Signed-off-by: Dan Voiculeasa <danvoiculeasa@windrivercom> Change-Id: I5388ddd32923bbd9acb205fa2d2adbc083346631,0.17538407444953918
3020,Add provision edgeworker playbook  This playbook provisions edgeworker nodes to setup OS configurations as well as join the node to the Kubernetes platform  This playbook should be triggered manually after an edgeworker node added to sysinv Make sure the edgeworker node has got the correct mgmt ip address from controller's dhcp server  1 Create an inventory file for edgeworker nodes on the active controller:  tee /edgeworker_inventoryyml << EOF all:   hosts:     localhost:       ansible_connection: local   children:     edgeworker:       hosts:         <edgeworker hostname>:           ansible_ssh_user: <admin username>           ansible_ssh_pass: <ssh password>           ansible_become_pass: <admin password>           ansible_python_interpreter: <python path(eg /usr/bin/python3)>         #<more edgeworker nodes>:   vars:     ansible_ssh_user: sysadmin     ansible_ssh_pass: St8rlingX*     ansible_become_pass: St8rlingX* EOF  2 Trigger the playbook provision_edgeworkeryml:  ansible-playbook \ -i /edgeworker_inventoryyml \ /usr/share/ansible/stx-ansible/playbooks/provision_edgeworkeryml  After the provisioning_ the edgeworker node will be shown Ready in Kubernetes  Test: Edgeworker node OS: Ubuntu 1804/2004 AIO-SX + edgeworker nodes: PASS AIO-DX + edgeworker nodes: PASS Standard + edgeworker nodes: PASS  Story: 2008129 Task: 40879  Signed-off-by: Mingyuan Qi <mingyuanqi@intelcom> Change-Id: If189f915461da3ce79dea3a688a3cf5e59d8f12c Depends-On: https://reviewopendevorg/c/starlingx/config/+/763918,0.07826972752809525
3021,Ansible update to support remote subcloud restore  In this commit:   - Common code to validate target is updated to include additional     host check options (system readiness_ load version_ bootstrap ip_     and patches)   - A new playbook is added to perform host check for various     use cases (remote install_ pre subcloud restore_ pre subcloud     upgrade_ etc)   - Install playbook is updated to make use of the new playbook   - A new role which performs generic user input validation for all     restore playbooks is added   - A new B&R parameter is added to indicate where the backup data     can be found_ on the host itself (on-box) or on another     machine (off-box)   - Platform_ user images and openstack restore playbooks are     updated to a) make use of the on_box_data parameter_     b) use the same target_backup_dir for both local and remote     playbook execution for consistent behavior   - Host override file is extracted only on the target   - Patches restore is skipped if requested by the caller Default     behavior is to restore patches   - Various subtle bugs are fixed   - Ansible version is specified in Zuul test requirements  Tests:   - Deployment of a Redfish capable subcloud   - Remote restore a simplex with various options: a) without patches     b) skip patches restore_ c) with patches restore_ d) on-box backup     tarball_ e) off-box backup tarball   - Local restore of a simplex with 2 options: a) without patches and     b) skip patches restore   - Simplex fresh install   - Restore user images   - Restore OpenStack   - Error cases  Task: 41725 Story: 2008573 Change-Id: Ica2b9010a73854a01216e2e16b581484d182264e Signed-off-by: Tee Ngo <teengo@windrivercom>,0.2178308665752411
3022,Fetch additional image config file for remote play  When invoking the playbook remotely_ the additional system images config file locates in the remote host may not also exist in the control host This commit fetches the additional image config file to the control host to prevent include_vars failure  Tests: 1 Remote backup and restore an AIOSX node with the additional system images config file from a control host without the config file 2 Build an image ISO and installed/ bootstrapped an AIOSX node  Closes-Bug: 1914611 Signed-off-by: Yuxing Jiang <yuxingjiang@windrivercom> Change-Id: I79362b00a25ca031a1fbbaa92476955e35477b73,0.1592898666858673
3023,B&R: Fix registry backup generated when it should not  Incorrect ansible variable evaluation results in the a backup file generated when it is required not do so  Fix the evaluation  Signed-off-by: Dan Voiculeasa <danvoiculeasa@windrivercom> Depends-On: I4644784ea4164134f163d218e69dc4ceb148985a Closes-Bug: 1916246 Change-Id: I2a31dcda55137a668b2e82b9a938535bdf623656,0.19202664494514465
3024,Uprev SR-IOV CNI image  This commit uprevs the SR-IOV CNI image to pick up a few bug fixes  Specifically_ this commit will allow rate-limiting configuration on a VF to be retained after the VF has been used by a pod (and pod subsequently deleted)  Testing:  NICs: Ethernet Controller X710 for 10GbE SFP+ Mellanox MT27700 Family [ConnectX-4]  Functional: Connectivity testing (kernel + DPDK) Devices allocated appropriately to pod Rate-limiting information retained after pod deletion  Closes-Bug: #1915951  Signed-off-by: Steven Webster <stevenwebster@windrivercom> Change-Id: Ie893fee61fa15e28e1994b5e766ed3bca2ff4050,0.32340678572654724
3025,"B&R: Fix backup hangout on IPv6 systems  IPv6 addreses must be enclosed in square brackets when they are followed by a port number  At the ""[backup/backup-system : Create etcd snapshot]"" step_ the etcd IPv6 endpoint is not wrapped in square brackets_ so the command hangs indefinitely  We fix this by using the 'ipwrap' ansible filter which will wrap the address in [] brackets if it's an IPv6 one  Closes-bug: 1916053 Change-Id: If40ed59f4e44c9f877aaefe87f6211a3e83ddfee Signed-off-by: Mihnea Saracin <MihneaSaracin@windrivercom>",0.14446474611759186
3026,"Fix restoring dc-vault on a central controller  At this moment_ when we do a restore procedure on a DC system controller_ the /opt/dc-vault directory will be created under ""/"" filesystem It should be created on a separated filesystem_ but that filesystem is available only after an unlock of the controller  The proposed solution is to create an additional restore playbook for the dc-vault that will be manually run after unlocking controller-0 The backup playbook will create an additional archive with the contents of dc-vault_ and the dc-vault directory will be removed from the platform backup  The new playbook will be used like this:  ansible-playbook /usr/share/ansible/stx-ansible/playbooks/restore_dc_vaultyml -e ""ansible_become_pass=Li69nux*"" -e ""admin_password=Li69nux*"" -e ""initial_backup_dir=/home/sysadmin"" -e ""backup_filename=localhost_dc_vault_backup_2021_02_02_11_46_09tgz""  Closes-Bug: 1914258 Signed-off-by: Mihnea Saracin <MihneaSaracin@windrivercom> Change-Id: I8fdd5b678e2296cd0ce98ea4dd91e2988beb200f",0.19367578625679016
3027,Update Ansible bootstrap address validation  The method to validate bootstrap address in previous commit (9c62c83536b737e731b140c95be37d74769989ff) is not reliable for IPv6 This commit fixes it  Task: 41800 Story: 2008573 Change-Id: Ibadf36e7f6c1ec31ca47514802991c92959fd138 Signed-off-by: Tee Ngo <teengo@windrivercom>,0.2896243929862976
3028,Update the minimum root disk size to be aligned with sysinv  Change-Id: I03c8b31ab76ce8a2b8534677910763150ec1d9c0 Closes-bug: 1916797 Depends-On: https://reviewopendevorg/c/starlingx/config/+/777465 Signed-off-by: Angie Wang <angiewang@windrivercom>,0.19479794800281525
3029,Create device_images bind directory  The device images are stored in the drbd filesystem (/opt/platform/device_images) in the active controller In order to allow the other worker hosts to retrieve the device images from the active controller over lighttpd_ the directory /www/pages/device_images is created as a bind mount of the drbd directory  Tests performed on the following systems: AIO-DX_ AIO-DX plus compute_ Standard 2+1 DC with AIO-DX plus subcloud DC with Standard subcloud  Story: 2007875 Task: 41878  Change-Id: I00c75767543d3840c466df887e9f16ba75a5386d Signed-off-by: Teresa Ho <teresaho@windrivercom>,0.0567610040307045
3030,Remove container runtime interface (CRI) placeholder  Change-Id Ib1dd5bd (stx-puppet) and Icc5fd16 (config) add support to set CRI entries for kubernetes runTimeClass  This is not needed during the initial bring-up of services at bootstrap time and produces incorrect configtoml causing bootstrap failure Therefore_ it is removed from the initial configtoml generated during bring up of essential services  Story: 2008434 Task: 41928  Depends-On: https://reviewopendevorg/c/starlingx/config/+/776220 Depends-On: https://reviewopendevorg/c/starlingx/stx-puppet/+/776223  Signed-off-by: Babak Sarashki <babaksarashki@windrivercom> Change-Id: Id124653329da0ba9f990e5bba6b53faa3c88fa86,0.17590652406215668
3031,"Use jinja2 template for containerd configtoml  File ""/etc/containerd/configtoml"" is set up with ansible bootstrap using an erb template managed by puppet We replace the erb template with a jinja2 template to improve ease of use and reduce the need for complex regular expressions  Closes-Bug: 1892768 Signed-off-by: Carmen Rata <carmenrata@windrivercom> Change-Id: I93601321d4f554d27bb9457bcff99428351cbefd",0.05985696613788605
3032,"Fix bootstrap playbook when initializing kubernetes  The etcd endpoint in the kubedeadm file is different than the endpoint defined in the etcd config file This is because in the kubeadm file_ the etcd endpoint is equal to the 'cluster_floating_address' variable And in the etcd config file the 'default_cluster_host_start_address' variable is used These 2 variables can be different when the 'cluster_host_start_address' variable defined in the localhostyml differs from the first address of the 'cluster_host_subnet'  The solution is to use 'cluster_floating_address' in both cases because this variable is defined in the following way:  cluster_floating_address: ""{{ address_pairs['cluster_host']['start'] }}"" will be different than the 'default_cluster_host_start_address': ""{{ (cluster_host_subnet | ipaddr(1))split('/')[0] }  So it will use 'default_cluster_host_start_address' when the 'cluster_host_start_address' is not defined  Closes-Bug: 1918130 Change-Id: I8fecc1e5e54b5a9a9a72a54c069f79f5f2d434ba Signed-off-by: Mihnea Saracin <MihneaSaracin@windrivercom>",0.08806149661540985
3033,Adding force flag to purge task  This flag will allow ansible replay  Story: 2007960 Task: 42039 Signed-off-by: Suvro Ghosh <suvrojeetghosh@windrivercom> Depends-On: If68d66d799addcd996da4b146d092c855b455aa3 Change-Id: I93821965184d95a00fddd3398a1c214e3d730efa,0.15397000312805176
3034,Restrict permissions on docker registry certificate file  It is noticed that docker registry certificate file (/etc/docker/certsd/registrylocal:9001/registry-certcrt) has permission set to 644 This update changes its permissions to 400 as required_ by preserving the original permissions when it is copied over in ansible bootstrap  Change-Id: Ic85fa5fa2595f81d5cde6b0294eb7fbbd9c7dc63 Closes-Bug: 1906844 Signed-off-by: Andy Ning <andyning@windrivercom>,0.1759537160396576
3035,[WIP] quayio  Change-Id: I7c1f0c5fc643678b29f963b6769d8f900a03b726 (cherry picked from commit 5fd235065d1dd90a251e69456b76455d41a78773),0.327685683965683
3036,[CI] Use images from quayio  Based on the discussions from the past 3 Kolla meetings [1][2][3]_ we established that_ to avoid the DockerHub pull limit issues in our CI_ we will try using quayio  The images have already been published via Kolla CI for master/Wallaby [4] and Victoria [5]  This change applies only to CI The user-facing move is yet to be discussed  [1] http://eavesdropopenstackorg/meetings/kolla/2021/kolla2021-03-17-1500loghtml#l-102 [2] http://eavesdropopenstackorg/meetings/kolla/2021/kolla2021-03-24-1500loghtml#l-137 [3] http://eavesdropopenstackorg/meetings/kolla/2021/kolla2021-03-31-1501loghtml#l-50 [4] https://reviewopendevorg/c/openstack/kolla/+/781130 [5] https://reviewopendevorg/c/openstack/kolla/+/781899  Change-Id: I22e11a994801447526ac26fc2815a1679876225e (cherry picked from commit 9c045aee36997098b655c7d6b03c72f3409ab152),0.21681322157382965
3037,Fix two CI issues  * Fix lower-constraints with the new pip resolver    First_ remove pep8 dependencies from test-requirements_ they're not   needed there and are hard to constraint properly    Second_ bump keystoneauth to the version required by openstacksdk  * Force updating libgcrypt to work around CentOS/RHEL 83 bug   https://bugzillaredhatcom/show_bugcgi?id=1840485  Change-Id: I65379a3d1b42e3607118bd785f580604bef7d10d (cherry picked from commit 95b69e2bbc168815d7a2855d0a5c6fc85e22708d),0.33012014627456665
3038,[WIP] Fetch puppet info to undercloud  Change-Id: Iccde04a490f6390575c470f3615a07ce9fba473e,0.24222129583358765
3039,Moving to OFTC  Change-Id: I6ad19c6de8cab8082aebb3d200d3a0a138898fb8,0.23045146465301514
3040,Remove panko from tripleo_ansible  It is gone from tripleo-heat-templates since ussuri  Change-Id: Idd5d91b9c4f415331bd20f26eaab8d6499b96e3f,0.2261452078819275
3041,Replace deprecated UPPER_CONSTRAINTS_FILE variable  UPPER_CONSTRAINTS_FILE is old name and deprecated  [1] https://zuul-ciorg/docs/zuul-jobs/python-roleshtml#rolevar-toxtox_constraints_file  Change-Id: I57fcc874b5596974b39ffb2dff3ef37dd60b0787,0.20052620768547058
3042,Uniform code style for tox  These should be indented two spaces to match the other things in this block  Change-Id: Ifba3e5cd2692c935b9720c3c0a1846fee74000aa,0.12978634238243103
3043,support instance tag fuzzy query  Change-Id: I6b19b5b4c9fd602c1f995cdfdef5b1b0702a6740,0.1372678428888321
3044,doc(update): updates IRC info  This patch set updates the IRC meeting info  Change-Id: Ib748eb5fa7c0083e5ce22fea1c2e418153766f54 Signed-off-by: Tin <tin@irrationalio>,0.28021448850631714
3045,Flush cached shard ranges after a failed listing request  If a container listing request used cached shard ranges the request did not succeed then flush the cached shard ranges in case they were the cause of the failure_ eg the cached shard ranges were stale and pointed to deleted shards  Change-Id: I5984239f509c2caac233ea9ea2daeb2da7910fb1,0.17434926331043243
3046,WIP libvirt: Reintroduce native QEMU iSCSI volume support  TODO   - Write up a spec for W   - Make configurable   - Tests   - Enable in nova-next?   - Post series stashing connector again?  Change-Id: I6286fe5d75c5cadc8cbcd6111009fff92c0312ab,0.11847768723964691
3047,Fix _get_images_dir when pip-installed with --user  Closes: #1930544 Change-Id: Ic9257b7ec30beb5d52da3c17c1e4d943f4ce614e,0.1425328105688095
3048,DNM TESTING PATCH  Depends-On: https://reviewopendevorg/c/openstack/validations-common/+/794144 Change-Id: Ib64fb8536555b218c0a184082a99fb98fd5849f7,0.4345541298389435
3049,Checking if the molecule file was loaded  Signed-off-by: Jiri Podivin <jpodivin@redhatcom> Change-Id: I2bc1c438955474189c2978bc52086e57bac06b31,0.19786474108695984
3050,DNM  Change-Id: I48bd0afe64fbdcdabe337f54188a7be5b2faa132,0.2525551915168762
3051,DNM  Signed-off-by: Jiri Podivin <jpodivin@redhatcom> Change-Id: I5b6420b3dd7b62b35bff25bd541e545f3c24af7e,0.33322417736053467
3052,DNM  Depends-On: https://reviewopendevorg/c/openstack/validations-libs/+/790664  Signed-off-by: Jiri Podivin <jpodivin@redhatcom> Change-Id: I2a640bb849dd4e408c29cf6b77a03fd09b367e46,0.3609284460544586
3053,DNM  Depends-On: https://reviewopendevorg/c/openstack/validations-common/+/790469  Signed-off-by: Jiri Podivin <jpodivin@redhatcom> Change-Id: I3c915fca69a9b453816bc318b28c0479e829512f,0.31140783429145813
3054,DNM  Signed-off-by: Jiri Podivin <jpodivin@redhatcom> Change-Id: Id7114918dc7a71bde358a3fe8ecc2c41c862e03f,0.3289765417575836
3055,Fix inspectgetargspec() deprecation warning  DeprecationWarning: inspectgetargspec() is deprecated_ use inspectsignature() or inspectgetfullargspec()  [1] https://docspythonorg/3/library/inspecthtml#inspectgetargspec  Change-Id: Icbef4c7c007f10ad4f036586187d3dec85dc1172,0.2520488202571869
3056,DNM: Test unit test jobs  Change-Id: I57e4b08a31f2a57b479d2cd5d4c995e5f20bbbbb,0.22256702184677124
3057,More test assertions for dark data grace age  and adding an ec fragment to the test object pool  Change-Id: I61ab1dbea9326a625d7fce90457dc104d0a25690,0.23039551079273224
3058,Strenthen  the stop_slave API  task: 42539 story: openstack-trove-bugfix-wocloud Change-Id: I2638797e31e1c96bbce3b4ad5a6ba7dd1d910446,0.2759973406791687
3059,WIP - create certificate authorities  Change-Id: I8967b682a587eccc64c422861abc731acb874ddf,0.2753143906593323
3060,DO NOT MERGE - test global options in zaza has no regressions  Change-Id: If74cbeb080e3af15239f2938ebdf7d112d351d23 func-test-pr: https://githubcom/openstack-charmers/zaza/pull/442,0.26547420024871826
3061,Changing minio to minio-operator  Signed-off-by: sujeetch <scnp89@gmailcom> Change-Id: I734400e3bf873b864f66ec427ec83848c150de25,0.15417714416980743
3062,setupcfg: Replace dashes with underscores  Setuptools v5410 introduces a warning that the use of dash-separated options in 'setupcfg' will not be supported in a future version [1] Get ahead of the issue by replacing the dashes with underscores Without this_ we see 'UserWarning' messages like the following on new enough versions of setuptools:    UserWarning: Usage of dash-separated 'description-file' will not be   supported in future versions Please use the underscore name   'description_file' instead  [1] https://githubcom/pypa/setuptools/commit/a2e9ae4cb  Change-Id: I0bcb1c884fc897435369ae845238b2d07883209e,0.3313506841659546
3063,Add support for python 38  Introduce support of python 38 [1] and move tox and jobs to py38  jsonschema 320 [2] support python 38  [1] https://governanceopenstackorg/tc/reference/runtimes/victoriahtml#python-runtimes-for-victoria [2] https://githubcom/Julian/jsonschema/pull/627 [3] https://pypiorg/project/pyOpenSSL/1910/  Change-Id: I4a43702dc2c2f6d6227ebe062e6e8a8a1939e107,0.1785314679145813
3064,Replace getargspec with getfullargspec  inspectgetargspec() is deprecated since py3  [1] https://docspythonorg/3/library/inspecthtml#inspectgetargspec  Change-Id: Ia77bd52784a948fc60b6e28a2c3be6cf72562dc3,0.13542696833610535
3065,Update sm audit period for mgr-restful-plugin to align with mgr-restful-plugin readiness checking for ceph-mgr  Closes-Bug: 1918420  Change-Id: Ia882b7992f8e2b10fa9354cc84194051af364404 Signed-off-by: Chen_ Haochuan Z <haochuanzchen@intelcom>,0.29182717204093933
3066,Removing deprecated max_time_interval  This has been deprecated in early 2020 and isn't used by ironic since 2013 as per this commit [1]  [1] https://reviewopendevorg/c/openstack/ironic/+/58851  Change-Id: I9d73b0c899f0134fe0a80837efa9f33c19f0f2a5 (cherry picked from commit 2680f9ea1dd5511ab0ec27582a271a457c62967e),0.23154518008232117
3067,Remove tripleo-multinode-container-minimal jobs  os-apply-config is no longer used in TripleO wallaby_ so we can remove our functional jobs  Signed-off-by: James Slagle <jslagle@redhatcom> Change-Id: Ia10601fd46c33252c7297a7da74d8975387262d6,0.1941981166601181
3068,DNM: Test minion job  Change-Id: Id31bbbe43a64ea514b341cb65a294304d0adf492 Signed-off-by: James Slagle <jslagle@redhatcom>,0.30212223529815674
3069,DO-NOT-MERGE: test  Change-Id: If7f40f27aba9edbe6e6604afd244626a238922fc,0.1682395040988922
3070,DNM: test undercloud-deploy role  Signed-off-by: James Slagle <jslagle@redhatcom> Change-Id: Ie7bfb1012a25e35f3a3887e77bab47200792da61,0.29948878288269043
3071,Implements: blueprint extend-api-for-hpb Closes-Bug: #123457  Change-Id: I9a8afc0f59c3129eb550862a080d6a72e4ca8186,0.21777349710464478
3072,Link to wwwopenstackorg instead of openstackorg  At least the www site has a valid cert  Change-Id: I8f3377b0b2a7e4c5eb6ac1df126cf9ec1588a680,0.3469580411911011
3073,Add 'action: rerequested' to example github pipelines  Change-Id: I68e512f292b4fcafa9ff2456fdbddd3f47d26a39,0.27313119173049927
3074,Add initinfra-networking phase to multi-tenant  This change adds the initinfra-networking phase to the multi-tenant type The initinfra-networking phase is already present in the airship-core type  Signed-off-by: Drew Walters <andrewwalters@attcom> Change-Id: Id48d94631fb93cd8ef0707d245639a6091e683d7,0.1690441071987152
